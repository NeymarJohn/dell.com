$ = window.jQuery;
window.UW = window.UW || {};
UW.plugins = UW.plugins || {};
UW.plugins.gss = true;
UW.plugins.disableImgCrop = true;
UW.plugins.enableWebWorker = true;
if (window.UW && UW.util && !UW.util.s7domain) UW.util.s7domain = "https:\/\/i.dell.com\/is\/image\/DellContent";

document.addEventListener('DOMContentLoaded', function (event) {
    if (location.href.indexOf('/en-ua/') != -1) {

        var ukmsg = document.createElement('div'),
            header = document.getElementById('unified-masthead'),
            ukmsgCloseBtn = document.createElement('button');
            header.parentElement.insertBefore(ukmsg, header);

        ukmsg.innerHTML = '<span>Українська версія сторінки та документи на сторінці наразі оновлюються та є доступними за запитом</span>';
        ukmsgCloseBtn.innerHTML = '<svg style="width: 12px;height: 12px;"><line x1="1" y1="11" x2="11" y2="1" stroke="#fff" stroke-width="2"/><line x1="1" y1="1" x2="11" y2="11" stroke="#fff" stroke-width="2"/></svg>';
        ukmsg.appendChild(ukmsgCloseBtn);
        ukmsg.setAttribute('style', 'text-align: center;padding: 5px 30px;background: #7e7e7e;color:#fff;position:relative');
        ukmsgCloseBtn.setAttribute('style', 'position:absolute;right:10px;font-size:13px;border:0;background:transparent;top:6px');
        ukmsgCloseBtn.addEventListener("click", function () { ukmsg.parentElement.removeChild(ukmsg) });
    }

    if (!UW.loadJS) {
        UW.loadJS = function (priority, jsFilePaths, callback, flag) {
            UW.assetLoader.getAssets(jsFilePaths, callback, priority, flag, false);
        }
    }

    $('a[href^="#overlay="]').off("click");

    if ($(".overlay-iframe-trigger").length == 0 && $('a[href^="#overlay="]').length > 0) {
        $("body").overlayIframe();
    }

    if (location.href.indexOf("/cafe/")) {
        !function () { const e = { xxlarge: 1600, xlarge: 1280, large: 980, medium: 768, small: 640 }; let t = document.querySelectorAll(".hero .rendition"), l = [].slice.call(t), i = window.innerWidth || document.documentElement.clientWidth, a = function () { for (let t in e) if (i >= e[t]) return t; return "xsmall" }(), n = { xxlarge: 1600, xlarge: 1600, large: 1280, medium: 980, small: 768, xsmall: 640 }[a]; for (let e = 0; e < l.length; e++) { let t = l[e], i = UW.util.s7domain + t.getAttribute("data-src"), s = t.getAttribute("data-src-" + a); s ? -1 != ["custom", "original", "dynamic"].indexOf(s) && (s = "custom" == s ? i + "/customrenditions/" + a + "." + i.split(".").pop() : "original" == s ? i : i + "?wid=" + n + "&fit=constrain", "IMG" == t.tagName ? t.src = s : t.style.backgroundImage = 'url("' + s + '")', t.classList.add("b-loaded")) : t.classList.remove("b-skip-once") } }();
    }

    // Update the environment to use for DES environments
    UW.util=UW.util || {};
    UW.util.AEMDomain = UW.util.AEMDomain || "www.delltechnologies.com";

    if (UW.url && UW.url.host){
        if (UW.url.host.split(".")[0] == "www-poc") {
            UW.util.AEMDomain = "test.delltechnologies.com";
        }
        else if (UW.url.host.split(".")[0] == "test-stage") {
            UW.util.AEMDomain = "uat.delltechnologies.com";
        }
        else if (UW.url.host.split(".")[0] == "www-wip") {
            UW.util.AEMDomain = "preview.delltechnologies.com";
        }
        else if (UW.url.host.split(".")[0] == "www") {
            UW.util.AEMDomain = "www.delltechnologies.com";
        }
    }

    //Fix to trim PDF overlay urls

    UW.loadJS(2, '', function () { setTimeout(function () { $j('.overlay-pdf-trigger').each(function (i, el) { el = $j(el); el.attr('data-iframe', el.attr('data-iframe').trim()) }); }, 5000) }, 'trimFix');

    UW.loadJS(2, '', function () {
        /*Fix for defect#12078399* by Kriti */
        $('a[href*="#open-contact-form"]').on('click', function () {
            $('.contactus-popup-overlay').css("display", "block");
        });
    }, 'formFix');
	
	/*Fix for DTW Footer gss issue by UM team */
	UW.loadJS(3, '', function () {
      !function(s,c){var u,e,o,l,d,v,f,m,n,a,i,t,y,g,h,p,L,r,b,E;function k(e,t){var r=t;if(e&&0<e.length)for(var n=0;n<e.length;n++)e[n].addEventListener("click",function(e){S(r,e)})}function S(e,t){if(l=null==l?o.getElementById("mh-unified-footer"):l){switch(e){case"stacks":var r,n=r=t.currentTarget.classList.contains("country-list")?t.currentTarget.parentElement.querySelector(".country-list.active"):l.querySelector(".stack >.mh-stackHeading.active")?l.querySelector(".stack >.mh-stackHeading.active"):l.querySelector(".mobile-Country-accordion .country-selector.active"),a=t.currentTarget.classList&&t.currentTarget.contains(r)?null:t.currentTarget;n&&w(n),a&&w(a);break;case"countrySelector":(n=r=l.querySelector(".stack >.mh-stackHeading.active"))&&w(n)}var i,e=o.querySelector("div>.stack h3.active");e&&(i=e.nextElementSibling,(e=e&&i.querySelector("li>a"))&&e.focus())}}function w(e){e&&e.classList.toggle("active"),!e||(e=(e=e).classList.contains("country-selector")?e.querySelector(".mh-flyout-link"):e&&e.querySelector("button"))&&("true"===e.getAttribute("aria-expanded")?e.setAttribute("aria-expanded",!1):e.setAttribute("aria-expanded",!0))}function A(){var e;r=u.isMobileToggleMenuVisible(),t=d.innerWidth||v.documentElement.clientWidth||v.body.clientWidth,y=t<768,g=768<=t,a=v.querySelector("footer .mh-show-flex-Mobile .country-selector"),i=v.querySelector("footer .mh-show-flex-DeskTop-Tab .country-selector"),n=v.querySelector("#unified-masthead .right-column .country-selector"),f=v.querySelectorAll("ul.country-list-container"),m=v.querySelectorAll("div.country-list-container"),h=v.querySelector("div.ContextualFooter1 .mh-show-flex-Mobile div.country-list-container"),a&&y&&(a.addEventListener("click",N),a.addEventListener("keydown",_),a.classList.contains("active")&&a.classList.remove("active")),i&&g&&(i.addEventListener("click",N),i.addEventListener("keydown",O),n&&n.addEventListener("keydown",O),i.classList.contains("active")&&i.classList.remove("active"),(e=i.querySelector(".mh-flyout-link"))&&(e.setAttribute("aria-expanded",!1),e.classList.remove("show"))),r?d.addEventListener("mobilemenuopened.um",C):(d.removeEventListener("areaexpanded.um",x),d.removeEventListener("areacollapsed.um",T),d.addEventListener("areaexpanded.um",x),d.addEventListener("areacollapsed.um",T),u.isDesktopDevice()&&i&&i.addEventListener("focusout",q),p=v.querySelector(".mh-bottom > .flyoutOverlay"))}function q(e){e.currentTarget.contains(e.relatedTarget)||R()}function C(e){D(null,"Mobile"),M(e)}function I(){i&&g&&(i.removeEventListener("click",N),i.removeEventListener("keydown",O),i.removeEventListener("focusout",q)),a&&y&&(a.removeEventListener("click",N),a.removeEventListener("keydown",O)),n&&n.removeEventListener("keydown",O),v.removeEventListener("click",M),d.removeEventListener("mobilemenuopened.um",C),d.removeEventListener("areaexpanded.um",x),d.removeEventListener("areacollapsed.um",T);for(var e=v.querySelectorAll(".country-selector .country-list"),t=0,t=0,r=e.length;t<r;t++)e[t].removeEventListener("click",U)}function x(e){var t=e.detail.currentFlyOutLink.parentElement.parentElement;t&&t.classList.contains("country-selector")&&(t.classList.add("active"),D("keydown"==e.detail.eventType||"click"==e.detail.eventType?H:null,"Desktop")),M(e)}function T(e){e=e.detail.currentFlyOutLink.parentElement.parentElement;e&&e.classList.contains("country-selector")&&e.classList.remove("active")}function D(e,t){var r=!1;if("Mobile"===t?(a=(f=v.querySelectorAll("ul.country-list-container"))&&0<f.length&&f[0].querySelectorAll("ul.country-list-container>li"))&&1<a.length&&(r=!0):r=0<m[0].childElementCount,r||null!=E)e&&e();else{var n=e,a=t;try{var i=function(){{var e;if(d.UW&&d.UW.locale)return e=d.UW.locale,L.replace("{0}",e.country).replace("{1}",e.language)}return""}(),o="Mobile"===a,l=o?f:m;i+="?formfactor="+(o?"M":"D"),u.setLoadingSpinner(b,"show"),(E=new XMLHttpRequest).open("GET",i,!0),E.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE&&200===this.status){for(var e=0;e<l.length;e++)l[e].insertAdjacentHTML("beforeend",this.responseText);o&&h.insertAdjacentHTML("afterend",this.responseText),g&&j();var t=new CustomEvent("countrySelectorReady.um",{bubbles:!0});d.dispatchEvent(t),u.setLoadingSpinner(b),E=null,n&&n()}else this.readyState===XMLHttpRequest.DONE&&200<this.status&&(u.setLoadingSpinner(b),E=null)},E.send(),E.onerror=function(){F("Failed to Get Coutry list")}}catch(e){F(e)}}}function P(){var e;u.isMobileToggleMenuVisible()&&y?null!=(e=v.querySelector("#mh-unified-footer ul.country-list-container>li.country-list.active>button"))&&e.focus():null!=(e=v.querySelector('#mh-unified-footer .country-selector .mh-flyout-link[aria-expanded="true"]~.flyout .country-list.active'))&&(e.scrollIntoView({behavior:"smooth"}),H()),v.addEventListener("click",M)}function N(e){var t=u.getParentWithClass(e.target,"mh-flyout-link");t&&("true"===t.getAttribute("aria-expanded")?(t.setAttribute("aria-expanded",!1),t.classList.remove("show"),e.currentTarget.classList.remove("active")):(t.setAttribute("aria-expanded",!0),t.classList.add("show"),e.currentTarget.classList.add("active"),D(P,y?"Mobile":"Desktop"),d.dispatchEvent(new CustomEvent("footerCountrySelectorClicked.um",{bubbles:!1,detail:null}))))}function R(){var e=v.querySelector("#mh-unified-footer .mh-flyout-link");"false"!==e.getAttribute("aria-expanded")&&(e.setAttribute("aria-expanded",!1),e.classList.remove("show"),(e=v.querySelector("div.stack.country-selector.active"))&&e.classList.remove("active"))}function M(e){e.target!==d&&v.querySelector("#mh-unified-footer .country-selector").contains(e.target)||(R(),v.removeEventListener("click",M))}function H(){var e=v.querySelector('.mh-flyout-link[aria-expanded="true"] + .flyout .country-list.active');e&&e.focus()}function V(e){var t=e.target.getAttribute("aria-controls"),e=u.getParentWithClass(e.target,"country-list-container");(t&&e.querySelector("div[id="+t+"]")).querySelector(".sub-nav >li:first-child > a").focus()}function _(e){switch(e.key){case"Enter":case" ":case"Spacebar":N(e);break;case"Esc":case"Escape":!e.target.tagName||"a"!=e.target.tagName.toLowerCase()||(t=v.querySelector("#mh-unified-footer .country-list-container li.country-list.active"))&&(r=t.querySelector("button"),t.classList&&t.classList.remove("active"),r&&r.focus()),e.target.tagName&&"button"==e.target.tagName.toLowerCase()&&(e.currentTarget&&((t=e.currentTarget.querySelector(".mh-flyout-link"))&&t.classList&&t.classList.remove("show"),t&&t.setAttribute("aria-expanded",!1)),(r=v.querySelector("#mh-unified-footer .mh-show-flex-Mobile.stack-wrapper div.active"))&&r.classList&&r.classList.remove("active"),(t=v.querySelector("#mh-unified-footer .mh-show-flex-Mobile.stack-wrapper .country-selector a"))&&t.focus());break;case"ArrowUp":case"ArrowDown":var t,r=e.currentTarget.querySelector("ul.country-list-container li.country-list.active");r&&(t=r.querySelectorAll("a"),r="ArrowUp"===e.key?u.DIRECTIONS.previous:u.DIRECTIONS.next,u.navigate(t,e.target,r),e.preventDefault())}}function O(e){switch(e.key){case"ArrowRight":case"ArrowLeft":e.target.classList.contains("country-list")&&(W("ArrowLeft"===e.key?null===e.target.previousElementSibling?e.target.parentElement.lastElementChild:e.target.previousElementSibling:null===e.target.nextElementSibling?e.target.parentElement.firstElementChild:e.target.nextElementSibling),e.preventDefault());break;case"Esc":case"Escape":e.target.hasAttribute("data-locale")?(t=B())&&t.focus():e.target.classList.contains("country-list")&&((t=e.currentTarget.querySelector(".mh-flyout-link")).setAttribute("aria-expanded",!1),t.focus(),p&&p.classList.remove("mh-show","utilityTop")),e.stopPropagation();break;case"Enter":case" ":case"Spacebar":e.target.classList.contains("mh-flyout-link")?(e.target.setAttribute("aria-expanded",!0),u.getParentWithClass(e.target,"ContextualFooter1")&&((t=v.querySelector("div.stack.country-selector"))&&t.classList.add("active"),D(P)),e.preventDefault()):e.target.classList.contains("country-list")&&V(e);break;case"Home":e.target.classList.contains("country-list")&&(W(e.target.parentElement.firstElementChild),e.preventDefault());break;case"End":e.target.classList.contains("country-list")&&(W(e.target.parentElement.lastElementChild),e.preventDefault());break;case"ArrowUp":case"ArrowDown":var t,r;e.target.hasAttribute("data-locale")&&(t=u.getParentWithClass(e.target,"sub-nav").querySelectorAll('a:not([tabindex="-1"])'),r="ArrowUp"===e.key?u.DIRECTIONS.previous:u.DIRECTIONS.next,u.navigate(t,e.target,r),e.preventDefault()),e.target.classList.contains("country-list")&&(V(e),e.preventDefault())}}function B(){return v.querySelector('.country-selector .mh-flyout-link[aria-expanded="true"]~.flyout .country-list.active')}function W(e){X(B()),X(e),e.focus()}function F(e){console.error(e),u.setLoadingSpinner(b),E=null}function j(){for(var e=v.querySelectorAll(".country-selector .country-list"),t=v.querySelector('.country-selector .mh-flyout-link[aria-expanded="true"]~.flyout .country-list.active'),r=0,r=0,n=e.length;r<n;r++)e[r].removeEventListener("click",U),e[r].addEventListener("click",U);t&&t.focus()}function U(e){W(e.target)}function X(e){var t;e&&("true"===e.getAttribute("aria-selected")?e.setAttribute("aria-selected","false"):e.setAttribute("aria-selected","true"),e.classList.toggle("active"),"0"===e.getAttribute("tabindex")?e.setAttribute("tabindex","-1"):e.setAttribute("tabindex","0"),t=(e=e).getAttribute("aria-controls"),e=u.getParentWithClass(e,"country-list-container"),(e=t&&e.querySelector("div[id="+t+"]")).hasAttribute("hidden")?e.removeAttribute("hidden"):e.setAttribute("hidden","hidden"),e.classList.toggle("active"))}c.getElementById("mh-main")||(c.body.classList.add("no-um"),u=function(){"use strict";var a;function t(e,t,r){var n=l(),a=new Date;a.setTime(a.getTime()+1e3*r*60*60*24),r="expires="+a.toUTCString(),c.cookie=e+"="+t+";"+r+";path=/;domain="+n+";"}function r(e){for(var t=e+"=",e=escape(c.cookie),r=unescape(e).split(";"),n=0;n<r.length;n++){for(var a=r[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}var i={previous:0,next:1,home:2,end:3};function o(e){try{e.stopPropagation(),"function"==typeof dellmetrics_trackvalue&&dellmetrics_trackvalue("unified-masthead")}catch(e){}}function l(){var e=s.location.hostname.toLowerCase().split(".").reverse();return e&&2<=e.length?e[1]+"."+e[0]:null}return{setCookie:t,getCookie:r,hasParentClass:function e(t,r){return!!(t.className&&0<=t.className.split(" ").indexOf(r))||t.parentNode&&e(t.parentNode,r)},getParentWithClass:function e(t,r){return t.className&&"string"==typeof t.className&&0<=t.className.split(" ").indexOf(r)?t:t.parentNode&&e(t.parentNode,r)},getParentWithSelector:function e(t,r){var n=t.parentNode.querySelector(r);return n||t.parentNode&&e(t.parentNode,r)},getParentByTagName:function(e,t){for(t=t.toLowerCase();e&&e.parentNode;)if((e=e.parentNode).tagName&&e.tagName.toLowerCase()==t)return e;return null},navigate:function(e,t,r){var n=[].indexOf.call(e,t),a=0;switch(r){case i.previous:a=0===n?e.length-1:n-1;break;case i.next:a=n===e.length-1?0:n+1;break;case i.home:a=0;break;case i.end:a=e.length-1}e[a].focus()},checkVisibilty:function(t){return function(e){return e.offsetParent&&e.offsetParent.classList.contains(t)}},setLoadingSpinner:function(e,t){for(var r=c.querySelectorAll(e+".mh-load-spinner"),n=0;n<r.length;n++)r[n].classList.remove("mh-hide"),r[n].classList.remove("mh-show-flex"),t?r[n].classList.add("mh-show-flex"):r[n].classList.add("mh-hide")},DIRECTIONS:i,crossDomainHrefLinksAddEventListener:function(e){if(e){var t=l(),r=e.querySelectorAll("a:not([href*='"+t+"'])");if(r&&0<r.length)for(var n=0;n<r.length;n++){var a=r[n];a&&!a.classList.contains("prevent-click")&&""!==a.href&&-1===a.href.indexOf(t)&&(a.removeEventListener("click",o),a.addEventListener("click",o))}}},getPrimaryDomainName:l,isMobileToggleMenuVisible:function(){return(winWidth=s.innerWidth||c.documentElement.clientWidth||c.body.clientWidth)<768},appendTimeStampAsQueryParam:function(e){var t=e;return e&&0<e.length&&(-1===e.indexOf("?")?t+="?_="+(new Date).getTime():(e=e.split("?"))&&0<e.length&&(""===e[1]?t+="_="+(new Date).getTime():-1!==e[1].indexOf("=")?t+="&_="+(new Date).getTime():t+="=&_="+(new Date).getTime())),t},deleteCookie:function(e){0<r(e).length&&t(e,"",-100)},isElementVisibleInPage:function(e){return 0<=(e=e.getBoundingClientRect()).top&&0<=e.left&&0<e.width},getDocumentHeight:function(){return c.documentElement.scrollHeight},debounce:function(t,r,n){return r=r||500,n=n||!1,function(){var e=arguments;r=n||!a?0:r,s.clearTimeout(a),a=s.setTimeout(function(){t.apply(null,e)},r)}},isDesktopDevice:function(){return!s.matchMedia("(pointer: coarse)").matches},loadJavaScriptDynamically:function(e){var t;e&&e.detail&&"string"==typeof e.detail.scriptUrl&&0<e.detail.scriptUrl.length&&(t=c.createElement("script"),e.detail.nonceEnabled&&"true"==e.detail.nonceEnabled&&t.setAttribute("nonce",s.dellNonce||""),t.setAttribute("defer",""),t.type="application/javascript",t.src=e.detail.scriptUrl,c.body.appendChild(t))}}}(),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=c.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}"function"==typeof s.CustomEvent||-1<this.CustomEvent.toString().indexOf("CustomEventConstructor")||(e.prototype=s.Event.prototype,s.CustomEvent=e)}(),s.addEventListener("countrySelectorReady.um",function(){var e=(a=s.UW&&s.UW.locale).country,a=a.language+"-"+e,t=c.querySelectorAll("a[data-locale]");function r(e){e.preventDefault(),e.stopPropagation();var t,r,n="",e=(""==e.target.href?(t=e.target.getAttribute("data-locale"))&&0<t.length&&(n=(n=s.location.href).replace(a,t)):n=e.target.href,t);e&&0<e.length&&(t=e.split("-"),"us"===(r=t&&0<t.length?t[1]:r).toLowerCase()?u.deleteCookie("UWSiteUrl"):u.setCookie("UWSiteUrl",e,9999)),s.location.href=n}for(var n=0;n<t.length;n++)t[n].addEventListener("click",function(e){r(e)}),t[n].addEventListener("mouseover",function(e){var t,r;e.target.href.includes(void 0)||(t=e.target.getAttribute("data-locale"))&&0<t.length&&(r=(r=s.location.href).replace(a,t),e.target.href=r)})}),d=s,v=c,r=!(L="https://www.dell.com/csbapi/masthead/countrylist/{0}/{1}/marketing"),b=".js-mh-gss",E=null,L&&(v.attachEvent?v.addEventListener("readystatechange",function(e){"complete"===e.target.readyState&&A()}):"interactive"===v.readyState?A():(d.removeEventListener("DOMContentLoaded",A),d.addEventListener("DOMContentLoaded",A)),d.addEventListener("premierUser.um",function(e){if(e&&e.detail&&e.detail.isPremier)for(var t=v.querySelectorAll('[component="unified-country-selector"]'),r=0,n=t.length;r<n;r++)t[r].classList.add("readonly")}),d.addEventListener("resize",function(e){I(),A(),0!==v.querySelector("div.country-list-container").childElementCount&&g&&j()})),o=c,(e=s).addEventListener("load",function(){k((l=o.getElementById("mh-unified-footer"))&&l.querySelectorAll(".stack >.mh-stackHeading"),"stacks");var e=l,n="stacks",t=e&&e.querySelectorAll(".stack");if(t&&0<t.length)for(var r=0;r<t.length;r++)t[r].addEventListener("keydown",function(e){var t,r=e.currentTarget;r.classList.contains("country-selector")||("Esc"!=e.key&&"Escape"!=e.key||(S(n,e),r&&r.classList&&r.classList.contains("active")&&r.classList.remove("active"),(t=(r=e.target.parentElement)?r.parentElement:t)&&t.previousElementSibling&&((r=t.previousElementSibling.children[0])&&r.focus())),"a"!=e.target.tagName.toLowerCase()||"ArrowUp"!=e.key&&"ArrowDown"!=e.key||(t=(r=(t=e.target.parentElement)&&t.parentElement)&&r.querySelectorAll("a"),r="ArrowUp"===e.key?u.DIRECTIONS.previous:u.DIRECTIONS.next,u.navigate(t,e.target,r),e.preventDefault()))})}),e.addEventListener("countrySelectorReady.um",function(){u.isMobileToggleMenuVisible()&&k(l&&l.querySelectorAll("ul.country-list-container .country-list"),"stacks")}),e.addEventListener("footerCountrySelectorClicked.um",function(e){u.isMobileToggleMenuVisible()&&S("countrySelector",e)}))}(window,document);
    }, 'UMFooterFix');
	
});