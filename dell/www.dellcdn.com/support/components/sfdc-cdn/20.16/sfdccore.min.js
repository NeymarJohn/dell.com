function hideDomObject(n,t){try{document.querySelector(n).style.display="none";clearInterval(t)}catch(i){console.log("Error in:"+i)}}function hideOtherDomObject(n,t,i){try{document.querySelector(i).style.display="none";clearInterval(t)}catch(r){console.log("Error in:"+r)}}function initSnapIn(n){var i=document.getElementById("esw_storage_iframe"),t;i||(window.embedded_svc?initOriginalESW(n.serviceForceURL,n):(t=document.createElement("script"),t.setAttribute("src",n.snapInJs),t.onload=function(){initOriginalESW(null,n)},document.body.appendChild(t)))}function triggerSnapin(n,t){try{if(!(sessionStorage.getItem("isChatBotActive")!=null&&sessionStorage.getItem("isChatBotActive")=="true"))if(typeof isSnapinInitiated=="function"&&isSnapinInitiated()){var i=sendGlobalSnapinCareObjToJson();initiateChatCARE(i)}else n===undefined&&history.length>1?(n=sendGlobalSnapinObjToJson(),isResumeSprinklr()?resumeSprinklrTechChat(n):snapinChatGlobalObjNotEmpty()&&"snapinChatInitiated"in n&&n.snapinChatInitiated&&(eleExist(".helpButtonEnabled #helpButtonSpan > .message",chatClick),pageObserverForProp20("body",t),initSnapIn(n))):n&&(isRebootSprinklr(n)?(addPrefillDetailsForAgentTransfer(n),resumeSprinklrTechChat(n)):n.snapinButtonClicked||snapinChatGlobalObjNotEmpty()?customChatNotCreated()&&(n=sendGlobalSnapinObjToJson(),n.snapinButtonClicked=!0,saveGlobalSnapinObjToSession(n),appendCustPreChatSnapinDom(n,t)):(eleExist(".embeddedServiceHelpButton",hideDomObject),eleExistWithVariable(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI",hideOtherDomObject,".embeddedServiceSidebar"),saveGlobalSnapinObjToSession(n),document.getElementById("cusPreChatSnapinDom")&&custPreChatShowAdditionalDetailsInUi(n,t),initSnapIn(n)))}catch(r){console.log("Error in: "+r)}}function customChatNotCreated(){var n=document.getElementById("cusPreChat-embeddedServiceHelpButton"),t=document.querySelector(".embeddedServiceSidebar .dockableContainer"),i=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText");return i?!1:n&&window.getComputedStyle(n).display!="none"&&!t?(prechatSettingForEmc(),document.getElementById("cusPreChat-helpButtonEnabled").click(),!1):!0}function appendCustPreChatSnapinDom(n,t){var u,f,i,e,r;document.getElementById("cusPreChatSnapinDom")?(i=document.querySelector(".embeddedServiceSidebar"),e=document.getElementById("cusPreChatSnapinDom"),(!i||i&&window.getComputedStyle(i).display=="none")&&window.getComputedStyle(e).display=="none"&&maximizeCustPrechat(),r=document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton"),r&&!r.classList.contains("helpButtonEnabled")&&agentsOfflinePostChatForm()):("closeChat"in t&&t.closeChat||(t.closeChat="Close Chat"),"isEmcProduct"in n&&n.isEmcProduct&&(t.serviceTag=t.serialNumber),u=isHesAdminChat(n)?createHesAdminChat(t,n):'<div id="cusPreChatSnapinDom" class="cusPreChat-modalContainer"> <div class="cusPreChat-dockableContainer"> <div class="cusPreChat-embeddedServiceSidebarHeader"> <div class="cusPreChat-shortHeader"> <div class="cusPreChat-shortHeaderContent">  <h2 class="cusPreChat-headerText"> <div class="cusPreChat-headerTextContent"> <span id="cusPreChat-headerTextLabel">'+t.chatHeader+'<\/span> <span id="cusPreChat-headerSubtext"> <\/span><\/div><\/h2> <button id="cusPreChat-minimize-btn" class="cusPreChat-minimizeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Minimize chat<\/span> <span class="cusPreChat-minimize cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" data-key="minimize_window" aria-hidden="true" viewBox="0 0 52 52" class="slds-icon slds-icon-text-default slds-icon_x-small"><g><path d="M50 48.5c0 .8-.7 1.5-1.5 1.5h-45c-.8 0-1.5-.7-1.5-1.5v-3c0-.8.7-1.5 1.5-1.5h45c.8 0 1.5.7 1.5 1.5v3z"><\/path><\/g><\/svg> <\/span> <\/button><button id="cusPreChat-close-btn" class="cusPreChat-closeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Close chat<\/span> <span class="cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" aria-hidden="true" data-key="close" viewBox="0 0 100 100"> <path d="M65.577 53.73l27.5-27.71c1.27-1.27 1.27-3.174 0-4.445l-4.23-4.44c-1.272-1.27-3.175-1.27-4.445 0L56.694 44.847c-.847.845-2.115.845-2.96 0L26.018 16.922c-1.27-1.27-3.174-1.27-4.445 0l-4.44 4.442c-1.27 1.27-1.27 3.174 0 4.444l27.71 27.71c.846.846.846 2.116 0 2.962L16.923 84.403c-1.27 1.27-1.27 3.174 0 4.444l4.442 4.442c1.27 1.268 3.174 1.268 4.444 0l27.71-27.713c.846-.847 2.116-.847 2.962 0L84.19 93.29c1.27 1.268 3.174 1.268 4.445 0l4.44-4.445c1.27-1.268 1.27-3.17 0-4.44l-27.5-27.712c-.847-.847-.847-2.115 0-2.96z"> <\/path> <\/svg> <\/span> <\/button> <\/div><\/div><\/div><div class="cusPreChat-sidebarBody"> <div id="cusPreChat-sidebarLoadingIndicator" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"> <div class="cusPreChat-loadingBallContainer cusPreChat-animated cusPreChat-embeddedServiceLoadingBalls"> <span class="cusPreChat-loadingBall cusPreChat-first"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-second"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-third"> <\/span><\/div><\/div><div id="cusPreChat-alertMsgContainer" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div style="margin: 2.5em 1.75em;">'+t.chatUnavailableMessage+'<\/div><div><button id="cusPreChat-CloseChat" class="cusPreChat-embeddedServiceSidebarButton" type="button"><span class="cusPreChat-label cusPreChat-bBody">'+t.closeChat+'<\/span><\/button><\/div><\/div><div id="cusPreChat-hideWhileLoading" class="cusPreChat-activeFeature cusPreChat-hideWhileLoading"> <div class="cusPreChat-featureBody cusPreChat-embeddedServiceSidebarFeature"> <div class="cusPreChat-stateBody cusPreChat-embeddedServiceSidebarState"> <div class="cusPreChat-prechatUI cusPreChat-embeddedServiceLiveAgentStatePrechatDefaultUI"> <div class="cusPreChat-formContent cusPreChat-embeddedServiceSidebarForm"> <ul class="cusPreChat-fieldList"><li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"> <div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel"> <span class="">'+t.firstName+'<\/span><\/label> <input id="cusPreChat-FirstName" class="cusPreChat-FirstName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/span> <\/li><li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"> <div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="LastName"> <span class="">'+t.lastName+'<\/span> <\/label> <input id="cusPreChat-LastName" class="cusPreChat-LastName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/span> <\/li><li class="cusPreChat-inputEmail cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputEmail cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Email"> <span>'+t.emailAddress+'<\/span><\/label> <input id="cusPreChat-Email" class="cusPreChat-Email form-control cusPreChat-input" maxlength="80" type="email" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><li class="cusPreChat-inputPhone cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputPhone cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label id="Primary_Phone_Cust_Label" class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Primary_Phone__c"> <span>'+t.phoneNumber+'<\/span> <span id="primPhoneIsOptional"> '+t.optional+'<\/span><\/label> <input id="cusPreChat-Phone" class="cusPreChat-Primary_Phone__c form-control cusPreChat-input" maxlength="40" type="tel" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><li class="cusPreChat-inputDispatchNum cusPreChat-embeddedServiceSidebarFormField" style="display:none;"> <div class="cusPreChat-uiInput cusPreChat-uiInputDispatchNum cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Dispatch_Number__c"> <span>'+t.dispatchNumber+'<\/span> <\/label> <input id="cusPreChat-DispatchNum" class="cusPreChat-Dispatch_Number__c form-control cusPreChat-input" maxlength="15" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><li class="cusPreChat-inputText cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label id="Issue_Description_Cust_Label" class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Issue_Description__c"> <span>'+t.issueDescription+'<\/span> <\/label> <textarea id="cusPreChat-IssueDescription" class="cusPreChat-Issue_Description__c form-control cusPreChat-input" maxlength="'+t.issueDescriptionLength+'" type="text" aria-describedby="" placeholder="" required="" ><\/textarea><div id="snappinCharCounter" style="text-align:right;position:relative;font-size:.75em;line-height: 1.5;margin-right: .75em;margin-left: .5em;margin-top: 8px; float: right; color:#767676">0 / '+t.issueDescriptionLength+" "+t.characters+'<\/div><\/div><\/li><\/ul>  <div id="PrechatCoveo" style="display:none;"><\/div> <div style="font-size: 12px;color:#767676;text-align: left;margin: 2.5em 1.75em; font-style: italic;color:#444444;">'+t.customerPrivacyDesc+'<\/div><\/div><div class="cusPreChat-buttonWrapper cusPreChat-embeddedServiceSidebarForm"> <button id="cusPreChat-startChat" class="cusPreChat-startButton cusPreChat-uiButton--default cusPreChat-uiButton cusPreChat-embeddedServiceSidebarButton" type="button"> <span class="cusPreChat-label cusPreChat-bBody">'+t.startChat+'<\/span> <\/button><\/div><\/div><\/div><\/div><\/div><\/div><\/div><\/div><div id="cusPreChat-embeddedServiceHelpButton" class="cusPreChat-embeddedServiceHelpButton" style="display: none;"> <div class="cusPreChat-helpButton" style="width: 168px;"> <button id="cusPreChat-helpButtonEnabled" class="cusPreChat-uiButton cusPreChat-helpButtonEnabled" href="javascript:void(0)" > <span class="cusPreChat-embeddedServiceIcon" aria-hidden="true" style="display: inline-block; z-index: 1; float: left"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chat" width="100%" height="100%" style="height: 18px; width: 18px;"> <path d="M12 1.8C5.9 1.8 1 6.4 1 12c0 1.7.5 3.4 1.3 4.8.1.3.2.6.1.8l-1.4 4c-.2.3.2.6.6.6l3.9-1.6c.3-.1.5 0 .8.1 1.7.9 3.7 1.5 5.8 1.5 6 0 11-4.5 11-10.2C23 6.4 18.1 1.8 12 1.8zm-5.5 12c-1.1 0-1.9-.8-1.9-1.8s.8-1.8 1.9-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.9.8 1.9 1.8-.8 1.8-1.9 1.8z"><\/path> <\/svg> <\/span> <div class="cusPreChat-helpButtonLabel" id="cusPreChat-helpButtonSpan" aria-live="polite" aria-atomic="true"> <span class="cusPreChat-assistiveText">Live chat:<\/span> <span class="cusPreChat-message">'+t.chatHeader+"<\/span><\/div><\/button> <\/div><\/div>",f=document.body||document.getElementsByTagName("body")[0],f.insertAdjacentHTML("beforeend",u),prePopulateCustPreFormValues(n),checkIfIssueDescIsOptional(n,t),checkIfPrimPhoneNumIsOptional(n,t),custPreFormShowIssueDetailsCharRemainingOnKeyUp(t),custPreChatKeypressFieldValidation(t),custPreChatShowAdditionalDetailsInUi(n,t),n=create_snapinChatUuid(n),document.getElementById("cusPreChat-startChat").addEventListener("click",function(){var n=sendGlobalSnapinObjToJson();custPrechatInitiateChat(n,t)}),document.getElementById("cusPreChat-minimize-btn").addEventListener("click",function(){isWarrantyPartsReturnChat(n)?callDellmetricsTrack("800.300.256","SNAPIN-WarrantyReturn: Minimize"):callDellmetricsTrack("890.220.007","SNAPIN: Minimize");minimizeCustPrechat()}),document.getElementById("cusPreChat-close-btn").addEventListener("click",function(){isWarrantyPartsReturnChat(n)?callDellmetricsTrack("800.300.257","SNAPIN-WarrantyReturn: Close (x)"):callDellmetricsTrack("890.220.006","SNAPIN: Close (x)");closeCustPrechat(t)}),document.getElementById("cusPreChat-helpButtonEnabled").addEventListener("click",function(){callDellmetricsTrack("890.220.008","SNAPIN: Maximize");maximizeCustPrechat()}),eleExist(".helpButtonEnabled #helpButtonSpan > .message",chatClick),n.isCoveoSearchEnabled===!0&&(httpCoveoGetAsync(n.coveoViewUrl+"?isheaderRequired=false",apendToAHoverDiv),coveoInit(n,t)));prechatSettingForEmc();callDellmetricsTrack("890.220.010","SNAPIN: Window Load")}function prechatSettingForEmc(){makeIdReadWrite("cusPreChat-FirstName");makeIdReadWrite("cusPreChat-LastName");makeIdReadWrite("cusPreChat-Email");makeIdReadWrite("cusPreChat-Phone");"isEmcProduct"in snapInObject&&snapInObject.isEmcProduct&&(makeIdReadOnlyIfHasVal("cusPreChat-FirstName"),makeIdReadOnlyIfHasVal("cusPreChat-LastName"),makeIdReadOnlyIfHasVal("cusPreChat-Email"),isHesAdminChat(snapInObject)||makeIdReadOnlyIfHasVal("cusPreChat-Phone"))}function makeIdReadOnlyIfHasVal(n){document.getElementById(n)&&document.getElementById(n).value?document.getElementById(n).readOnly=!0:makeIdReadWrite(n)}function makeIdReadWrite(n){document.getElementById(n).readOnly=!1}function checkIfIssueDescIsOptional(n,t){var i,r;("issueVal"in n&&n.issueVal!=""&&n.issueVal!=null&&n.issueVal!=undefined&&n.issueVal!="None"||isWarrantyPartsReturnChat(n))&&document.getElementById("Issue_Description_Cust_Label")?(removeDomElementbyId("issueDescIsOptional"),i=document.createElement("span"),i.id="issueDescIsOptional",isHesAdminChat(n)&&(i.style="color: #767676;"),i.innerText=t.optional,r=document.getElementById("Issue_Description_Cust_Label"),r.appendChild(i),removeDomElementbyId("ErrMsg_cusPreChat-IssueDescription")):removeDomElementbyId("issueDescIsOptional")}function httpCoveoGetAsync(n,t){try{var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState==4&&i.status==200&&t(i.responseText)};i.open("GET",n,!0);i.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest");i.setRequestHeader("Content-Type","text/plain; charset=utf-8");i.setRequestHeader("X-Robots-Tag","noindex");i.send(null)}catch(r){console.log("Error in: "+r)}}function apendToAHoverDiv(n){$("#PrechatCoveo").append(n)}function coveoInit(n,t){try{n.isCoveoSearchEnabled===!0&&(isCoveoSearchEnabled=!0,coveoHeader=t.coveoHeader,setTimeout(function(){$.getScript(n.coveoJsUrl,function(){$.getScript(n.coveoDeflectionjs,function(){var t="",i=!1;n.emcProductId?(t=n.emcProductId,i=!0):t=n.productCode;InitiateCoveoSearch(t,n.productName,n.categoryPath,i,"chat","cusPreChat-IssueDescription","PrechatCoveo","preChatIssueDesc")})})},2e3))}catch(i){console.log("Error in: "+i)}}function CoveoPopoverDispose(){isCoveoSearchEnabled===!0&&popoverClose()}function prePopulateCustPreFormValues(n){"firstName"in n&&n.firstName!==null&&(document.getElementById("cusPreChat-FirstName").value=n.firstName);"lastName"in n&&n.lastName!==null&&(document.getElementById("cusPreChat-LastName").value=n.lastName);"email"in n&&n.email!==null&&(document.getElementById("cusPreChat-Email").value=n.email);isHesAdminChat(n)&&hesAdminAltEmailInterationDesign(n);"phoneNo"in n&&n.phoneNo!==null&&(document.getElementById("cusPreChat-Phone").value=n.phoneNo);"issueDescription"in n&&n.issueDescription!==null&&(document.getElementById("cusPreChat-IssueDescription").value=n.issueDescription)}function custPreFormShowIssueDetailsCharRemainingOnKeyUp(n){try{document.getElementById("cusPreChat-IssueDescription").onkeyup=function(){custPreFormShowIssueDetailsCharRemaining(n)}}catch(t){console.log("Error in:"+t)}}function custPreFormShowIssueDetailsCharRemaining(n){maxCharLength=n.issueDescriptionLength;innerTextColor="#767676";currentCharLength=document.getElementById("cusPreChat-IssueDescription").value.length;document.getElementById("snappinCharCounter").innerText=currentCharLength+" / "+maxCharLength+" "+n.characters;innerTextColor=currentCharLength===parseInt(maxCharLength)?"#c23934":"#767676";document.getElementById("snappinCharCounter").style.color=innerTextColor}function custPreChatKeypressFieldValidation(n){function t(t,i){/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(r(t))==!0?(t.preventDefault(),i==="cusPreChat-FirstName"?alert(n.firstNameInValid):i==="cusPreChat-LastName"&&alert(n.lastNameInValid)):i==="cusPreChat-FirstName"&&document.getElementById("ErrMsg_cusPreChat-FirstName")?removeDomElementbyId("ErrMsg_cusPreChat-FirstName"):i==="cusPreChat-LastName"&&document.getElementById("ErrMsg_cusPreChat-LastName")&&removeDomElementbyId("ErrMsg_cusPreChat-LastName")}function r(n){return n.clipboardData&&n.clipboardData.getData?n.clipboardData.getData("text/plain"):null}document.getElementById("cusPreChat-DispatchNum")&&(document.getElementById("cusPreChat-DispatchNum").onkeypress=function(n){var t=[],r=n.which||n.keyCode;for(i=48;i<58;i++)t.push(i);t.indexOf(r)>=0?document.getElementById("ErrMsg_cusPreChat-DispatchNum")&&removeDomElementbyId("ErrMsg_cusPreChat-DispatchNum"):n.preventDefault()});document.getElementById("cusPreChat-Phone").onkeypress=function(n){var t=[],r=n.which||n.keyCode;for(i=48;i<58;i++)t.push(i);t.push(45);t.push(8);t.push(9);t.indexOf(r)>=0?document.getElementById("ErrMsg_cusPreChat-Phone")&&removeDomElementbyId("ErrMsg_cusPreChat-Phone"):n.preventDefault()};document.getElementById("cusPreChat-FirstName").onkeypress=function(n){var t=n.which||n.keyCode;t>64&&t<91||t>96&&t<123||t==8||t==9?document.getElementById("ErrMsg_cusPreChat-FirstName")&&removeDomElementbyId("ErrMsg_cusPreChat-FirstName"):n.preventDefault()};document.getElementById("cusPreChat-LastName").onkeypress=function(n){var t=n.which||n.keyCode;t>64&&t<91||t>96&&t<123||t==8||t==9?document.getElementById("ErrMsg_cusPreChat-LastName")&&removeDomElementbyId("ErrMsg_cusPreChat-LastName"):n.preventDefault()};document.getElementById("cusPreChat-Email").onkeypress=function(n){var t=n.which||n.keyCode;t>63&&t<91||t>96&&t<123||t>47&&t<58||t==45||t==46||t==95||t==8||t==9?document.getElementById("ErrMsg_cusPreChat-Email")&&removeDomElementbyId("ErrMsg_cusPreChat-Email"):n.preventDefault()};document.getElementById("cusPreChat-emptyAltEmail")&&(document.getElementById("cusPreChat-emptyAltEmail").onkeypress=function(n){var t=n.which||n.keyCode;t>63&&t<91||t>96&&t<123||t>47&&t<58||t==45||t==46||t==95||t==8||t==9?document.getElementById("ErrMsg_cusPreChat-emptyAltEmail")&&removeDomElementbyId("ErrMsg_cusPreChat-emptyAltEmail"):n.preventDefault()},document.getElementById("cusPreChat-emptyAltEmail").addEventListener("paste",function(t){/[!#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(r(t))==!0?(t.preventDefault(),alert(n.emailValidation)):document.getElementById("ErrMsg_cusPreChat-emptyAltEmail")&&removeDomElementbyId("ErrMsg_cusPreChat-emptyAltEmail")}));document.getElementById("cusPreChat-BrowserVer")&&(document.getElementById("cusPreChat-BrowserVer").onkeypress=function(){document.getElementById("ErrMsg_cusPreChat-BrowserVer")&&removeDomElementbyId("ErrMsg_cusPreChat-BrowserVer")},document.getElementById("cusPreChat-BrowserVer").addEventListener("paste",function(){document.getElementById("ErrMsg_cusPreChat-BrowserVer")&&removeDomElementbyId("ErrMsg_cusPreChat-BrowserVer")}));document.getElementById("cusPreChat-IssueDescription").onkeypress=function(n){var t=n.which||n.keyCode;t==62||t==60?n.preventDefault():document.getElementById("ErrMsg_cusPreChat-IssueDescription")&&removeDomElementbyId("ErrMsg_cusPreChat-IssueDescription")};document.getElementById("cusPreChat-FirstName").addEventListener("paste",function(n){t(n,"cusPreChat-FirstName")});document.getElementById("cusPreChat-LastName").addEventListener("paste",function(n){t(n,"cusPreChat-LastName")});document.getElementById("cusPreChat-IssueDescription").addEventListener("paste",function(){document.getElementById("ErrMsg_cusPreChat-IssueDescription")&&removeDomElementbyId("ErrMsg_cusPreChat-IssueDescription")});document.getElementById("cusPreChat-Email").addEventListener("paste",function(t){/[!#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(r(t))==!0?(t.preventDefault(),alert(n.emailValidation)):document.getElementById("ErrMsg_cusPreChat-Email")&&removeDomElementbyId("ErrMsg_cusPreChat-Email")});document.getElementById("cusPreChat-Phone").addEventListener("paste",function(t){/^[0-9-]*$/.test(r(t))==!1?(t.preventDefault(),alert(n.phoneValidation)):document.getElementById("ErrMsg_cusPreChat-Phone")&&removeDomElementbyId("ErrMsg_cusPreChat-Phone")});document.getElementById("cusPreChat-FirstName").addEventListener("change",function(){t(this.value,this.id)});document.getElementById("cusPreChat-LastName").addEventListener("change",function(){t(this.value,this.id)});document.getElementById("cusPreChat-Email").addEventListener("change",function(){!/[!#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(this.value)&&document.getElementById("ErrMsg_cusPreChat-Email")&&removeDomElementbyId("ErrMsg_cusPreChat-Email")});document.getElementById("cusPreChat-Phone").addEventListener("change",function(){/^[0-9-]*$/.test(this.value)==!0&&document.getElementById("ErrMsg_cusPreChat-Phone")?removeDomElementbyId("ErrMsg_cusPreChat-Phone"):/^[0-9-]*$/.test(this.value)!=!1||document.getElementById("ErrMsg_cusPreChat-Phone")||cusPreChatErrorMsgPlaceholder(this,n.phoneValidation)});document.getElementById("cusPreChat-emptyAltEmail")&&document.getElementById("cusPreChat-emptyAltEmail").addEventListener("change",function(){!/[!#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(this.value)&&document.getElementById("ErrMsg_cusPreChat-emptyAltEmail")&&removeDomElementbyId("ErrMsg_cusPreChat-emptyAltEmail")});document.getElementById("cusPreChat-BrowserVer")&&document.getElementById("cusPreChat-BrowserVer").addEventListener("change",function(){document.getElementById("ErrMsg_cusPreChat-BrowserVer")&&removeDomElementbyId("ErrMsg_cusPreChat-BrowserVer")})}function custPreChatShowAdditionalDetailsInUi(n,t){document.getElementById("readonlyPreChatContainer")&&removeDomElement(document.getElementById("readonlyPreChatContainer"));var r=document.querySelector(".cusPreChat-sidebarBody .cusPreChat-prechatUI  .cusPreChat-embeddedServiceSidebarForm ul.cusPreChat-fieldList"),i;checkIfIssueDescIsOptional(n,t);checkIfPrimPhoneNumIsOptional(n,t);"isEmcProduct"in n&&n.isEmcProduct&&(t.serviceTag=t.serialNumber);isHesAdminChat(n)?i=createHesAdminChatTopField(n,t):isWarrantyPartsReturnChat(n)?(i="",document.querySelector(".cusPreChat-inputDispatchNum.cusPreChat-embeddedServiceSidebarFormField").style.display="block"):i=n.productName==null?'<div id="readonlyPreChatContainer" class="readonlyContainer" style="margin: 0 1.5em 6px 1.2em; text-align: left;position: relative;font-size: .75em;color: #444444;margin-bottom: 0px;">'+getChatServiceTag(t.serviceTag,n.serviceTag)+displayIssueType(n,t)+displaySiteDetails(n)+"<\/div>":'<div id="readonlyPreChatContainer" class="readonlyContainer" style="margin: 0 1.5em 6px 1.2em; text-align: left;position: relative;font-size: .75em;color: #444444;"><div style="font-size: 1.2em;">'+n.productName+"<\/div>"+getChatServiceTag(t.serviceTag,n.serviceTag)+displayIssueType(n,t)+displaySiteDetails(n)+"<\/div>";r.insertAdjacentHTML("afterbegin",i)}function displayIssueType(n,t){return"issueVal"in n&&n.issueVal!=""&&n.issueVal!=null&&n.issueVal!=undefined?"<div><b>"+t.issueType+':<\/b> <span id="preChatIssueDesc" style="font-size: 12px;">'+n.issueVal+"<\/span><\/div>":""}function displaySiteDetails(n){return"siteId"in n&&n.siteId&&n.siteId!=""&&n.siteId!=null&&n.siteId!=undefined?"siteName"in n&&n.siteName?"<div>"+n.siteId+" : "+n.siteName+"<\/div>":"<div>"+n.siteId+"<\/div>":""}function custPreFormValidation(n,t){var i,f=document.getElementById("cusPreChat-FirstName"),e=document.getElementById("cusPreChat-LastName"),h=document.getElementById("cusPreChat-Email"),o=document.getElementById("cusPreChat-Phone"),a=document.getElementById("cusPreChat-IssueDescription"),s,v,u,c,l,r,y;return document.getElementById("ErrMsg_cusPreChat-Email")&&(u=document.getElementById("ErrMsg_cusPreChat-Email"),u.parentNode.removeChild(u)),h.value?"isEmcProduct"in t&&t.isEmcProduct||(i=cusPreChatInvalidEmail(h,n)):i=cusPreChatEleIsEmpty(h,n.emailRequiredValidation),s=document.getElementById("cusPreChat-emptyAltEmail"),v=document.querySelector(".cusPreChat-emptyAltEmail.cusPreChat-embeddedServiceSidebarFormField"),s&&v.style.display!="none"&&(document.getElementById("ErrMsg_cusPreChat-emptyAltEmail")&&(u=document.getElementById("ErrMsg_cusPreChat-emptyAltEmail"),u.parentNode.removeChild(u)),s.value&&(i=cusPreChatInvalidEmail(s,n))),document.getElementById("cusPreChat-BrowserVer")&&!document.getElementById("cusPreChat-BrowserVer").value&&"browserVersionValidation"in n&&n.browserVersionValidation&&(document.getElementById("ErrMsg_cusPreChat-BrowserVer")&&removeDomElementbyId("ErrMsg_cusPreChat-BrowserVer"),i=cusPreChatEleIsEmpty(document.getElementById("cusPreChat-BrowserVer"),n.browserVersionValidation)),isWarrantyPartsReturnChat(t)&&document.getElementById("cusPreChat-DispatchNum")&&document.querySelector(".cusPreChat-inputDispatchNum.cusPreChat-embeddedServiceSidebarFormField").style.display==="block"&&(c=!0,document.getElementById("ErrMsg_cusPreChat-DispatchNum")&&removeDomElementbyId("ErrMsg_cusPreChat-DispatchNum"),l=document.getElementById("cusPreChat-DispatchNum"),c=l.value?cusPreChatInvalidDispatchNum(document.getElementById("cusPreChat-DispatchNum"),n):cusPreChatEleIsEmpty(l,n.dispatchNumberRequiredValidation),c||(i=!1)),document.getElementById("ErrMsg_cusPreChat-FirstName")?(r=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkErrMsgValidation(f,"FirstName",r,!0)&&(i=!1)):f.value?(r=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkErrMsgValidation(f,"FirstName",r,!0)&&(cusPreChatErrorMsgPlaceholder(f,n.firstNameInValid),i=!1)):i=cusPreChatEleIsEmpty(f,n.firstNameValidation),document.getElementById("ErrMsg_cusPreChat-LastName")?(r=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkErrMsgValidation(e,"LastName",r,!0)&&(i=!1)):e.value?(r=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkErrMsgValidation(e,"LastName",r,!0)&&(cusPreChatErrorMsgPlaceholder(e,n.lastNameInValid),i=!1)):i=cusPreChatEleIsEmpty(e,n.lastNameValidation),document.getElementById("ErrMsg_cusPreChat-Phone")?(r=/^[0-9-]*$/,checkErrMsgValidation(o,"Phone",r,!1)&&(i=!1)):o.value?(y=/^[0-9-]*$/,checkErrMsgValidation(o,"Phone",y,!1)&&(cusPreChatErrorMsgPlaceholder(o,n.phoneRequiredValidation),i=!1)):i=cusPreChatEleIsEmpty(o,n.phoneRequiredValidation),document.getElementById("ErrMsg_cusPreChat-IssueDescription")?i=!1:a.value||document.getElementById("issueDescIsOptional")||(i=cusPreChatEleIsEmpty(a,n.issueDescriptionValidation)),i===undefined&&(i=!0),i}function getChatServiceTag(n,t){return t&&t!=null?"<div><b>"+n+":<\/b> "+t+"<\/div>":""}function checkErrMsgValidation(n,t,i,r){if(n.readOnly||(!n.value||i.test(n.value)!=r)&&n.value){var f="ErrMsg_cusPreChat-"+t,u=document.getElementById(f);return u&&u.parentNode.removeChild(u),!1}return!0}function cusPreChatEleIsEmpty(n,t){return cusPreChatErrorMsgPlaceholder(n,t),!1}function cusPreChatInvalidEmail(n,t){if(!cusPreChatvalidateEmail(n.value)||cusPreChatBlockListEmailValidation(n.value,t.blocklistEmails))return cusPreChatErrorMsgPlaceholder(n,t.emailValidation),!1}function cusPreChatvalidateEmail(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}function cusPreChatBlockListEmailValidation(n,t){var u=t.split("|"),n=n.toUpperCase(),r;for(i=0;i<u.length;i++)if(r=u[i],r=r.toUpperCase(),n===r)return!0;return!1}function cusPreChatErrorMsgPlaceholder(n,t){try{var r=n.parentNode,i=document.createElement("ul");i.innerHTML='<li class="cusPreChat-form-element__help">'+t+"<\/li>";i.id="ErrMsg_"+n.id;i.className="cusPreChat-has-error cusPreChat-uiInput";r.parentNode.insertBefore(i,r.nextSibling)}catch(u){console.log(u)}}function removeDomElementbyId(n){if(document.getElementById(n)){var t=document.getElementById(n);t.parentNode.removeChild(t)}}function minimizeCustPrechat(){document.getElementById("cusPreChat-embeddedServiceHelpButton").style.display="block";document.getElementById("cusPreChatSnapinDom").style.display="none";CoveoPopoverDispose()}function closeCustPrechat(n){document.getElementById("cusPreChatSnapinDom").style.display="none";CoveoPopoverDispose();var t=document.querySelectorAll(".cusPreChat-has-error");t.forEach(function(n){removeDomElement(n)});removecustFormValues();custPreFormShowIssueDetailsCharRemaining(n);document.getElementById("cusPreChatSnapinDom").remove();document.getElementById("cusPreChat-embeddedServiceHelpButton").remove();CoveoPopoverDispose()}function maximizeCustPrechat(){var n=document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton");(!n||n.classList.contains("helpButtonEnabled"))&&n?(document.getElementById("cusPreChat-sidebarLoadingIndicator").style.display="none",document.getElementById("cusPreChat-hideWhileLoading").style.display="block",document.getElementById("cusPreChat-embeddedServiceHelpButton").style.display="none",document.getElementById("cusPreChatSnapinDom").style.display="block",document.getElementById("cusPreChat-minimize-btn").style.display="block",document.getElementById("cusPreChat-close-btn").style.display="block"):agentsOfflinePostChatForm();document.querySelector(".embeddedServiceHelpButton")&&(document.querySelector(".embeddedServiceHelpButton").style.display="none")}function addCustFormDetailsTo(n){return n.c_firstName=document.getElementById("cusPreChat-FirstName").value,n.c_lastName=document.getElementById("cusPreChat-LastName").value,n.c_email=document.getElementById("cusPreChat-Email").value,n.c_phoneNo=document.getElementById("cusPreChat-Phone").value,n.c_issueDescription=document.getElementById("cusPreChat-IssueDescription").value,isHesAdminChat(n)&&(n.c_alternateEmail=document.getElementById("cusPreChat-emptyAltEmail").value?document.getElementById("cusPreChat-emptyAltEmail").value:document.getElementById("cusPreChat-prefillAltEmail").value,n.c_browserVer=document.getElementById("cusPreChat-BrowserVer").value,n.c_url=document.getElementById("cusPreChat-URL").value),isWarrantyPartsReturnChat(n)&&(n.c_dispatchNumber=document.getElementById("cusPreChat-DispatchNum").value,n.issueVal=n.issueType),n}function removecustFormValues(){inputFields=document.querySelectorAll(".cusPreChat-input");inputFields.forEach(function(n){n.value&&(n.value="")});prePopulateCustPreFormValues(snapInObject)}function snapinChatGlobalObjNotEmpty(){return snapInObjectGlobal=sendGlobalSnapinObjToJson(),snapInObjectGlobal!=null&&"snapinChatInitiated"in snapInObjectGlobal&&snapInObjectGlobal.snapinChatInitiated?!0:(snapInObjectGlobal!=null&&sessionStorage.removeItem("snapInObjectSession"),!1)}function saveGlobalSnapinObjToSession(n){n&&(snapInObjectGlobal=JSON.stringify(n),sessionStorage.setItem("snapInObjectSession",snapInObjectGlobal))}function sendGlobalSnapinObjToJson(){return snapInObjectGlobal=sessionStorage.getItem("snapInObjectSession"),snapInObject=JSON.parse(snapInObjectGlobal)}function loadingSnapinQueue(){displayEleById("cusPreChat-sidebarLoadingIndicator","flex");displayEleById("cusPreChat-hideWhileLoading","none");displayEleById("cusPreChat-minimize-btn","none");displayEleById("cusPreChat-close-btn","none");removeLoaderIn10()}function snapinQueueLoaded(){document.querySelector(".embeddedServiceSidebar")&&document.getElementById("cusPreChatSnapinDom")&&(document.querySelector(".embeddedServiceSidebar").style.display="block",displayEleById("cusPreChatSnapinDom","none"),displayEleById("cusPreChat-alertMsgContainer","none"),displayEleById("cusPreChat-hideWhileLoading","block"),displayEleById("cusPreChat-minimize-btn","block"),displayEleById("cusPreChat-close-btn","block"))}function displayEleById(n,t){document.getElementById(n)&&(document.getElementById(n).style.display=t)}function agentsOfflinePostChatForm(){snapinChatInitiatedState(!1);document.getElementById("cusPreChatSnapinDom").style.display="block";document.getElementById("cusPreChat-sidebarLoadingIndicator").style.display="none";document.getElementById("cusPreChat-alertMsgContainer").style.display="flex";document.getElementById("cusPreChat-hideWhileLoading").style.display="none";document.getElementById("cusPreChat-minimize-btn").style.display="none";document.getElementById("cusPreChat-close-btn").style.display="none";document.getElementById("cusPreChat-CloseChat").addEventListener("click",function(){document.getElementById("cusPreChat-embeddedServiceHelpButton").style.display="none";document.getElementById("cusPreChat-alertMsgContainer").style.display="none";document.getElementById("cusPreChat-alertMsgContainer").style.display="none";document.getElementById("cusPreChat-hideWhileLoading").style.display="block";document.getElementById("cusPreChatSnapinDom").style.display="none"})}function removeLoaderIn10(){setTimeout(function(){var t=document.getElementById("cusPreChat-sidebarLoadingIndicator"),n;t&&window.getComputedStyle(t).display!="none"&&(document.getElementById("cusPreChatSnapinDom").style.display="none",document.querySelector(".embeddedServiceHelpButton")&&(document.querySelector(".embeddedServiceHelpButton").style.display="block"));n=document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton");n&&!n.classList.contains("helpButtonEnabled")&&snapinChatInitiatedState(!1);hideResumeSnapinLoader()},3e4)}function snapinChatInitiatedState(n){snapInObject=sendGlobalSnapinObjToJson();snapInObject&&(snapInObject.snapinChatInitiated=n,saveGlobalSnapinObjToSession(snapInObject))}function custPrechatInitiateChat(n,t){custPreFormValidation(t,n)&&(n=addCustFormDetailsTo(n),n.sprinklrChatbotRouted=!1,saveGlobalSnapinObjToSession(n),pageObserverForProp20("body",t),loadingSnapinQueue(),removecustFormValues(),custPreFormShowIssueDetailsCharRemaining(t),n=sendGlobalSnapinObjToJson(),isWarrantyPartsReturnChat(n)?callDellmetricsTrack("800.300.258","SNAPIN-WarrantyReturn: Submit|Description="+descriptionHasValue(n)):callDellmetricsTrack("890.220.002","SNAPIN: Submit|Description="+descriptionHasValue(n)),n.Is24VAEnabled&&n.IsVASupported?(checkSprinklrChatBot(n),LoadDndData(n),document.getElementById("cusPreChatSnapinDom").style.display="none",startSprinklr()):checkSnapinQueueStatus(n)==1?checkSprinklrChatBot(n)?(document.getElementById("cusPreChatSnapinDom").style.display="none",startSprinklr()):connectToSnapInAgent(n):agentsOfflinePostChatForm());CoveoPopoverDispose()}function descriptionHasValue(n){return"c_issueDescription"in n&&n.c_issueDescription!=""?"True":"False"}function checkSprinklrChatBot(n){try{if(n.language&&n.productCode){var t={engine:"dellintent",payloadTags:{lng:n.language,productCode:n.productCode,productName:n.productName,issueType:n.issueType,issueVal:n.issueVal,serviceTag:n.serviceTag,ISGProductSelected:n.ISGProductSelected},requestId:n.uuid,text:n.c_issueDescription,user_firstName:n.c_firstName,user_lastName:n.c_lastName,user_email:n.c_email,user_phoneNo:n.c_phoneNo,sprinklrURL:n.sprinklrURL!=null&&n.sprinklrURL!=undefined?n.sprinklrURL:null,intentApiURL:n.intentApiURL!=null&&n.intentApiURL!=undefined?n.intentApiURL:null,sprinklrLoadingMessage:n.sprinklrLoadingMessage!=null&&n.sprinklrLoadingMessage!=undefined?n.sprinklrLoadingMessage:null};return canSupportSprinklr(t,n.Is24VAEnabled)}return console.log("Sprinklr required Value is missing in snapInObject. Pleae check the below object value",n),!1}catch(i){return console.log("checkSprinklrChatBot-Error:",i),!1}}function triggerSnapinPostSprinkler(n){snapInObject=sendGlobalSnapinObjToJson();snapInObject.isFaqResumeChat==!1&&(typeof snapInObject.FaqAppName!="undefined"&&snapInObject.FaqAppName!=null&&snapInObject.FaqAppName!=""?setDellMetrics("222.830.810.516","nohold|transfertoAgent"):callDellmetricsTrack("890.220.017","SNAPIN: Transferred by Sprinklr"));snapInObject.caseNumber=n;snapInObject.sprinklrChatbotRouted=!0;saveGlobalSnapinObjToSession(snapInObject);isResumeSprinklr()&&(document.getElementById("cusPreChatSnapinDom").style.display="block");connectToSnapInAgent(snapInObject)}function sprinklerChatEnded(){snapinChatInitiatedState(!1);var t=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI"),n=document.querySelector(".modalContainer  .dockableContainer .closeButton.headerItem");t&&n&&n.click();document.getElementById("cusPreChatSnapinDom")&&document.getElementById("cusPreChatSnapinDom").remove()}function connectToSnapInAgent(n){pushValsToSnapinInit(n);checkSnapinQueueStatus(n)==1?(("snapinChatInitiated"in n&&n.snapinChatInitiated||"snapinButtonClicked"in n&&n.snapinButtonClicked)&&eleExistWithVariable(".helpButtonEnabled #helpButtonSpan > .message",chatClick),eleExistWithVariable(".embeddedServiceSidebar .startButton",chatStarted,n)):agentsOfflinePostChatForm()}function create_snapinChatUuid(n){var t=(new Date).getTime(),i="xxxxxxxx-xxxx-5xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var i=(t+Math.random()*18)%18|0;return t=Math.floor(t/18),(n=="x"?i:i&3|8).toString(18)});return n==null&&(n={}),n.uuid=i,saveGlobalSnapinObjToSession(n),n}function append_snapinChatUuid(n){var t=sendGlobalSnapinObjToJson(),i,r;return t&&"uuid"in t&&(i="|UUID:"+t.uuid,r=100-i.length,r<n.length&&n.slice(0,r),n=n+i),n}function pushValsToSnapinInit(n){var i=embedded_svc.settings.extraPrechatFormDetails,t=0;i.forEach(function(i){var r=i.transcriptFields[0];switch(r){case"Issue__c":embedded_svc.settings.extraPrechatFormDetails[t].value="requestType"in n&&(n.requestType=="LDell GAM Chat"||n.requestType=="HES GAM Chat")?"GAM Chat":"isEmcProduct"in n&&n.isEmcProduct?n.issueVal:getTechSupportSubject(n);break;case"Issue_Key__c":embedded_svc.settings.extraPrechatFormDetails[t].value=getIssueTypeKey(n);break;case"Service_Tag__c":embedded_svc.settings.extraPrechatFormDetails[t].value="isEmcProduct"in n&&n.isEmcProduct?"":n.serviceTag;break;case"Case_Number__c":embedded_svc.settings.extraPrechatFormDetails[t].value=n.caseNumber?n.caseNumber:"";break;case"Sprinklr_Chatbot_Routed__c":embedded_svc.settings.extraPrechatFormDetails[t].value=n.sprinklrChatbotRouted?n.sprinklrChatbotRouted:!1;break;case"Secondary_Email_Address__c":embedded_svc.settings.extraPrechatFormDetails[t].value=isHesAdminChat(n)?n.c_alternateEmail:"";break;case"Web_Browser__c":embedded_svc.settings.extraPrechatFormDetails[t].value=isHesAdminChat(n)?n.c_browserVer:"";break;case"URL__c":embedded_svc.settings.extraPrechatFormDetails[t].value=isHesAdminChat(n)?n.c_url:"";break;case"PP_Work_Order_From_Partner__c":embedded_svc.settings.extraPrechatFormDetails[t].value=isWarrantyPartsReturnChat(n)?n.c_dispatchNumber:""}t++})}function checkSnapinQueueStatus(n){function i(n){try{var i=new XMLHttpRequest;return i.onreadystatechange=function(){i.readyState==4&&i.status==200&&(t=i.responseText)},i.open("GET",n,!1),i.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest"),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.send(null),t}catch(r){console.log("Error in: "+r)}}function u(n){try{var i=new XMLHttpRequest;return i.onreadystatechange=function(){i.readyState==4&&i.status==200&&(t=i.responseText)},i.open("GET",n,!1),i.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest"),i.setRequestHeader("Content-Type","application/text; charset=utf-8"),i.send(null),t}catch(r){console.log("Error in: "+r)}}var t,r;return n.checkQueueStatusInBizHoursUrl&&n.hoursOfOperation&&n.timeZone&&(n.checkQueueStatusInBizHoursUrl!=""||n.checkQueueStatusInBizHoursUrl!=null||n.checkQueueStatusInBizHoursUrl!=undifined)&&(n.hoursOfOperation!=""||n.hoursOfOperation!=null||n.hoursOfOperation!=undifined)&&(n.timeZone!=""||n.timeZone!=null||n.timeZone!=undifined)?i(n.checkQueueStatusInBizHoursUrl+"?chatHours="+escape(n.hoursOfOperation)+"&timeZone="+escape(n.timeZone)+"&buttonId="+n.buttonId):n.checkQueueStatusInBizHoursUrl&&(n.checkQueueStatusInBizHoursUrl!=""||n.checkQueueStatusInBizHoursUrl!=null||n.checkQueueStatusInBizHoursUrl!=undifined)?i(n.checkQueueStatusInBizHoursUrl+"?buttonId="+n.buttonId):"checkBtnAvailabilityUrl"in n&&n.checkBtnAvailabilityUrl&&n.checkBtnAvailabilityUrl!=""?(r=u(n.checkBtnAvailabilityUrl+n.buttonId),t=r?1:4):t=1}function initOriginalESW(n,t){var i;snapInClickListners();snapinChatGlobalServiceTag=t.serviceTag;snapinChatGlobalIssueType=t.issueVal;snapinChatGlobalProductName=t.productName;embedded_svc.settings.displayHelpButton=!0;embedded_svc.settings.defaultMinimizedText="Chat Now";embedded_svc.settings.enabledFeatures=["LiveAgent"];embedded_svc.settings.entryFeature="LiveAgent";embedded_svc.settings.fallbackRouting="routingModel"in t&&t.routingModel&&t.routingModel.toLowerCase()==="skillbased"?t.skillIds:[t.buttonId];translatedLabels="language"in t?translation(t.language):translation("en");embedded_svc.settings.language=translatedLabels.language;i="Name";t.isEmcProduct?(i="External_ID__c",embedded_svc.settings.extraPrechatFormDetails=[{label:translatedLabels.firstName,transcriptFields:["FirstName__c"]},{label:translatedLabels.lastName,transcriptFields:["LastName__c"]},{label:translatedLabels.primPhone,transcriptFields:["ContactNumber__c"]},{label:translatedLabels.emailAdd,transcriptFields:["Email__c"]},{label:"Subject",value:t.issueVal,transcriptFields:["Issue__c"]},{label:translatedLabels.issueDesc,transcriptFields:["Description__c"]},{label:"Case Number",value:"",transcriptFields:["Case_Number__c"]},{label:"Sprinklr Chatbot Routed",value:"",transcriptFields:["Sprinklr_Chatbot_Routed__c"]},{label:"Service Tag",value:"",transcriptFields:["Service_Tag__c"]},{label:"SubIssue Key",value:getIssueTypeKey(t),transcriptFields:["Issue_Key__c"]},{label:"Chat Source",value:"EMC",transcriptFields:["Chat_Source__c"]},{label:"Serial Number",value:t.serviceTag,transcriptFields:["Serial_Number__c"]},{label:"CPID",value:t.cpid,transcriptFields:["CPID__c"]},{label:"EPDM Id",value:t.epdmId,transcriptFields:["EPDM_Id__c"]},{label:"Product",value:t.productName,transcriptFields:["Product_Name__c"]},{label:"Secondary Email Address",value:"",transcriptFields:["Secondary_Email_Address__c"]},{label:"Web Browser",value:"",transcriptFields:["Web_Browser__c"]},{label:"URL",value:"",transcriptFields:["URL__c"]},{label:"Visitor Language",value:visitorLanguageCheck(t.language),transcriptFields:["Visitor_Language__c"]},{label:"Visitor Country",value:visitorCountryCheck(t.countryCode),transcriptFields:["Visitor_Country__c"]},{label:"Request Type",value:t.requestType,transcriptFields:["Request_Type__c"]},{label:"Site Id",value:t.siteId,transcriptFields:["Site_Id__c"]}]):embedded_svc.settings.extraPrechatFormDetails=[{label:translatedLabels.firstName,transcriptFields:["FirstName__c"]},{label:translatedLabels.lastName,transcriptFields:["LastName__c"]},{label:translatedLabels.primPhone,transcriptFields:["ContactNumber__c"]},{label:translatedLabels.emailAdd,transcriptFields:["Email__c"]},{label:"Chat Source",value:getTechSupportChatSource(t),transcriptFields:["Chat_Source__c"]},{label:"Subject",value:getTechSupportSubject(t),transcriptFields:["Issue__c"]},{label:"SubIssue Key",value:getIssueTypeKey(t),transcriptFields:["Issue_Key__c"]},{label:"Visitor Language",value:visitorLanguageCheck(t.language),transcriptFields:["Visitor_Language__c"]},{label:"Visitor Country",value:visitorCountryCheck(t.countryCode),transcriptFields:["Visitor_Country__c"]},{label:"Case Number",value:"",transcriptFields:["Case_Number__c"]},{label:"Sprinklr Chatbot Routed",value:!1,transcriptFields:["Sprinklr_Chatbot_Routed__c"]},{label:"DPS Number",value:"",transcriptFields:["PP_Work_Order_From_Partner__c"]},{label:"Service Tag",value:t.serviceTag,transcriptFields:["Service_Tag__c"]},{label:"CustomerNumber",value:t.customerNumber,transcriptFields:["CustomerNumber__c"]},{label:"CustomerBUID",value:t.buid,transcriptFields:["CustomerBUID__c"]},{label:"Request Type",value:t.requestType,transcriptFields:["Request_Type__c"]},{label:translatedLabels.issueDesc,transcriptFields:["Description__c"]}];embedded_svc.settings.extraPrechatInfo=[{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"LastName",isExactMatch:!1,label:translatedLabels.lastName},{doCreate:!1,doFind:!1,fieldName:"FirstName",isExactMatch:!1,label:translatedLabels.firstName},{doCreate:!1,doFind:!1,fieldName:"Email",isExactMatch:!1,label:translatedLabels.emailAdd},{doCreate:!1,doFind:!1,fieldName:"Primary_Phone__c",isExactMatch:!1,label:translatedLabels.primPhone}],entityName:"Contact",saveToTranscript:""},{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:i,isExactMatch:!1,label:"Service Tag"}],entityName:"Asset",saveToTranscript:"Asset__c"},{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"Issue_Description__c",isExactMatch:!1,label:translatedLabels.issueDesc}],entityName:"Case"}];var r=null,u=null,f=null,e=null,o=null;r="c_firstName"in t?t.c_firstName:"FirstName";u="c_lastName"in t?t.c_lastName:"LastName";f="c_email"in t?t.c_email:"email@dell.com";o="c_phoneNo"in t?t.c_phoneNo:"123";e="c_issueDescription"in t?t.c_issueDescription:"issueDescription";embedded_svc.settings.prepopulatedPrechatFields={FirstName:r,LastName:u,Email:f,Primary_Phone__c:o,Issue_Description__c:e};embedded_svc.addEventHandler("onConnectionError",function(){snapinChatInitiatedState(!1)});embedded_svc.addEventHandler("onIdleTimeoutOccurred",function(){snapinChatInitiatedState(!1)});embedded_svc.addEventHandler("onChatEndedByChasitor",function(){snapinChatInitiatedState(!1)});embedded_svc.addEventHandler("onChatEndedByAgent",function(){snapinChatInitiatedState(!1)});embedded_svc.addEventHandler("onChasitorMessage",function(){snapinChatInitiatedState(!0)});embedded_svc.addEventHandler("onChatEstablished",function(){callDellmetricsTrack("890.220.013","SNAPIN: Chat Started")});embedded_svc.addEventHandler("onAgentMessage",function(){snapinChatInitiatedState(!0)});embedded_svc.init(t.snapInInitURL,t.snapInLAURL,n,t.organizationId,t.componentName,{baseLiveAgentContentURL:t.baseLiveAgentContentURL,deploymentId:t.deploymentId,buttonId:t.buttonId,baseLiveAgentURL:t.baseLiveAgentURL,eswLiveAgentDevName:t.LiveAgentDevName,isOfflineSupportEnabled:!1})}function visitorLanguageCheck(n){return n&&n!=""?n:"en"}function visitorCountryCheck(n){return n&&n!=""?n:"us"}function getTechSupportSubject(n){return"productFamily"in n&&n.productFamily==="security_dell_data"&&"productName"in n?"Dell Data Security":"issueVal"in n&&n.issueVal?n.issueVal:void 0}function getTechSupportChatSource(n){return"serviceTag"in n&&n.serviceTag||isWarrantyPartsReturnChat(n)||"customerNumber"in n&&n.customerNumber?"Tech":"Product"}function getIssueTypeKey(n){return"requestType"in n&&(n.requestType=="LDell GAM Chat"||n.requestType=="HES GAM Chat")?"GAM Chat":"issueType"in n&&n.issueType?n.issueType:""}function triggerResumeSnapin(n){var r,u,i,t;try{snapinChatGlobalObjNotEmpty()?(showResumeSnapinLoader(),r=document.querySelector(".helpButtonEnabled #helpButtonSpan > .message"),r.innerText==="Chat Now"&&r.click()):"reconnectObject"in n&&n.reconnectObject?("ButtonId"in n.reconnectObject&&n.reconnectObject.ButtonId.length>15&&(u=n.reconnectObject.ButtonId,n.reconnectObject.ButtonId=u.substring(0,15),console.log("ButtonId",n.reconnectObject.ButtonId)),pageObserverForProp20("body"),n.snapinResumeChatInitiated=!1,saveGlobalSnapinObjToSession(n),showResumeSnapinLoader(),document.querySelector(".embeddedServiceHelpButton")?eleExist(".helpButtonEnabled #helpButtonSpan > .message",resumeChatClick):(i=function(t){eleExist(".helpButtonEnabled #helpButtonSpan > .message",resumeChatClick);embedded_svc.settings.displayHelpButton=!0;translatedLabels="language"in n.reconnectObject?translation(n.reconnectObject.language):translation("en");embedded_svc.settings.language=translatedLabels.language;embedded_svc.settings.enabledFeatures=["LiveAgent"];embedded_svc.settings.entryFeature="LiveAgent";embedded_svc.settings.defaultMinimizedText="Chat Now";"Id"in n.reconnectObject.Owner&&n.reconnectObject.Owner.Id&&(embedded_svc.settings.fallbackRouting=[n.reconnectObject.Owner.Id,n.reconnectObject.ButtonId]);embedded_svc.settings.extraPrechatFormDetails=[{label:"Chat Source",value:getReconnectChatSource(n.reconnectObject.ChatType),transcriptFields:["Chat_Source__c"]},{label:translatedLabels.firstName,name:"FirstName",value:n.reconnectObject.Contact.FirstName,displayToAgent:!0},{label:translatedLabels.lastName,value:n.reconnectObject.Contact.LastName,displayToAgent:!0},{label:"Reconnect Chat Transcript",value:n.reconnectChatKey,transcriptFields:["Reconnect_Chat_Transcript__c"]}];embedded_svc.init(n.snapInInitURL,n.snapInLAURL,t,n.organizationId,n.componentName,{baseLiveAgentContentURL:n.baseLiveAgentContentURL,deploymentId:n.deploymentId,buttonId:n.reconnectObject.ButtonId,baseLiveAgentURL:n.baseLiveAgentURL,eswLiveAgentDevName:n.LiveAgentDevName,isOfflineSupportEnabled:!1})},window.embedded_svc?i(n.serviceForceURL):(t=document.createElement("script"),t.setAttribute("src",n.snapInJs),t.onload=function(){i(null)},document.body.appendChild(t)))):(pageObserverForProp20("body"),n.snapinResumeChatInitiated=!1,saveGlobalSnapinObjToSession(n),showResumeSnapinLoader(),i=function(t){snapinChatGlobalIssueType=n.issueVal;snapinChatGlobalServiceTag=n.serviceTag;"productName"in n&&(snapinChatGlobalProductName=n.productName);eleExist(".helpButtonEnabled #helpButtonSpan > .message",resumeChatClick);embedded_svc.settings.displayHelpButton=!0;"routingModel"in n&&n.routingModel&&n.routingModel.toLowerCase()==="skillbased"&&(embedded_svc.settings.fallbackRouting=n.skillIds);translatedLabels="language"in n?translation(n.language):translation("en");embedded_svc.settings.language=translatedLabels.language;embedded_svc.settings.enabledFeatures=["LiveAgent"];embedded_svc.settings.entryFeature="LiveAgent";embedded_svc.settings.defaultMinimizedText="Chat Now";embedded_svc.settings.extraPrechatFormDetails=[{label:"Delta Sr",value:n.srNumber,transcriptFields:["Delta_SR__c"]},{label:translatedLabels.firstName,name:"FirstName",value:n.firstName,displayToAgent:!0},{label:translatedLabels.lastName,value:n.lastName,displayToAgent:!0}];embedded_svc.settings.extraPrechatInfo=[{entityFieldMaps:[{doCreate:!0,doFind:!0,fieldName:"Delta_SR__c",isExactMatch:!0,label:"Delta Sr"}],entityName:"Case"}];embedded_svc.init(n.snapInInitURL,n.snapInLAURL,t,n.organizationId,n.componentName,{baseLiveAgentContentURL:n.baseLiveAgentContentURL,deploymentId:n.deploymentId,buttonId:n.buttonId,baseLiveAgentURL:n.baseLiveAgentURL,eswLiveAgentDevName:n.LiveAgentDevName,isOfflineSupportEnabled:!1})},window.embedded_svc?i(n.serviceForceURL,n.srNumber):(t=document.createElement("script"),t.setAttribute("src",n.snapInJs),t.onload=function(){i(null,n.srNumber)},document.body.appendChild(t)))}catch(f){console.log("Error in: "+f)}}function getReconnectChatSource(n){try{var t=n.toLowerCase();return t==="hes tech chat"||t==="hes generic chat"||t==="hes admin chat"?"EMC":t==="tech"?"Tech":n}catch(i){return console.log("error in fuction:",i),""}}function showResumeSnapinLoader(){if(snapInObject=sendGlobalSnapinObjToJson(),!snapInObject.snapinResumeChatInitiated)if(saveGlobalSnapinObjToSession(snapInObject),document.getElementById("cusResumeSnapIn-loader"))document.getElementById("cusResumeSnapIn-loader").style.display="block";else{var n=document.body||document.getElementsByTagName("body")[0];n.insertAdjacentHTML("beforeend",'<div id="cusResumeSnapIn-loader" class="cusPreChat-embeddedServiceHelpButton"><div class="cusPreChat-helpButton" style="width: 168px;"><div class="cusPreChat-uiButton" style="cursor: default;"><div class="cusPreChat-helpButtonLabel"><span class="cusPreChat-message">Loading<\/span><\/div><\/div><\/div><\/div>')}}function hideResumeSnapinLoader(){document.getElementById("cusResumeSnapIn-loader")&&(document.getElementById("cusResumeSnapIn-loader").style.display="none",snapInObject=sendGlobalSnapinObjToJson(),snapInObject.snapinResumeChatInitiated=!0,saveGlobalSnapinObjToSession(snapInObject))}function chatClick(n,t){try{snapInObject=sendGlobalSnapinObjToJson();("snapinChatInitiated"in snapInObject&&snapInObject.snapinChatInitiated&&document.querySelector(n).innerText==="Chat Now"||document.querySelector(n).innerText==="Chat Now")&&document.querySelector(n).click();clearInterval(t)}catch(i){console.log("Error in:"+i)}}function resumeChatClick(n,t){try{document.querySelector(n).innerText==="Chat Now"&&document.querySelector(n).click();clearInterval(t)}catch(i){console.log("Error in:"+i)}}function chatStarted(n,t,i){try{var r=document.querySelector(".embeddedServiceHelpButton .helpButton .uiButton");r&&r.classList.contains("helpButtonEnabled")?f(i,u):(agentsOfflinePostChatForm(),clearInterval(t));function u(){i=sendGlobalSnapinObjToJson();document.querySelector(n).click();clearInterval(t)}function f(n,t){var i=embedded_svc.sidebarInstanceMap[Object.keys(embedded_svc.sidebarInstanceMap)[0]].getActiveState(),r=i.get("v.prechatFields");r.forEach(function(t){t.name==="FirstName"?t.value=n.c_firstName:t.name==="LastName"?t.value=n.c_lastName:t.name==="Email"?t.value=n.c_email:t.name==="Primary_Phone__c"?(phone=n.c_phoneNo,t.value=phone.replace(/[&\/\\#!@,+$~%.'":*?<>{}^a-zA-Z]/g,"")):t.name==="Issue_Description__c"&&(t.value=n.c_issueDescription)});i.set("v.prechatFields",r);t()}}catch(u){console.log("Error in:"+u)}}function translation(n){var t=n.replace("_","-");return t=t.toLowerCase(),this.primPhone="Primary Phone Number",this.issueDesc="Issue Description",t=="de"?(this.firstName="Vorname",this.lastName="Nachname",this.emailAdd="E-Mail",this.language="de"):t=="ja"?(this.firstName="名",this.lastName="姓",this.emailAdd="メール",this.language="ja"):t=="ko"?(this.firstName="이름(성 없이)",this.lastName="성",this.emailAdd="이메일",this.language="ko"):t=="es"?(this.firstName="Nombre",this.lastName="Apellidos",this.emailAdd="Correo electrónico",this.language="es"):t=="zh"||t=="cn"||t=="zh-cn"?(this.firstName="名字",this.lastName="姓氏",this.emailAdd="电子邮件",this.language="zh-CN"):t=="zh-tw"?(this.firstName="名字",this.lastName="姓氏",this.emailAdd="電子郵件",this.language="zh-TW"):t=="pt-pt"?(this.firstName="Nome próprio",this.lastName="Apelido",this.emailAdd="E-mail",this.language="pt-pt"):t=="pt"||t=="pt-br"?(this.firstName="Primeiro Nome",this.lastName="Sobrenome",this.emailAdd="Email",this.language="pt-br"):t=="nl"||t=="nl-nl"?(this.firstName="Voornaam",this.lastName="Achternaam",this.emailAdd="E-mail",this.language="nl-NL"):t=="fr"?(this.firstName="Prénom",this.lastName="Nom",this.emailAdd="Adresse e-mail",this.language="fr"):t=="da"?(this.firstName="Fornavn",this.lastName="Efternavn",this.emailAdd="Mail",this.language="da"):t=="fi"?(this.firstName="Etunimi",this.lastName="Sukunimi",this.emailAdd="Sähköposti",this.language="fi"):t=="it"?(this.firstName="Nome",this.lastName="Cognome",this.emailAdd="Email",this.language="it"):t=="no"?(this.firstName="Fornavn",this.lastName="Etternavn",this.emailAdd="E-post",this.language="no"):t=="ru"?(this.firstName="Личное имя",this.lastName="Фамилия",this.emailAdd="Эл. почта",this.language="ru"):t=="sv"?(this.firstName="Förnamn",this.lastName="Efternamn",this.emailAdd="E-post",this.language="sv"):t=="th"?(this.firstName="ชื่อจริง",this.lastName="นามสกุล",this.emailAdd="อีเมล",this.language="th"):t=="pl"?(this.firstName="Imię",this.lastName="Nazwisko",this.emailAdd="E-mail",this.language="pl"):t=="sk"?(this.firstName="Krstné meno",this.lastName="Priezvisko",this.emailAdd="E-mail",this.language="sk"):(this.firstName="First Name",this.lastName="Last Name",this.emailAdd="Email Address",this.language="en"),console.log("Language = "+this.language),this}function snapInClickListners(){window.addEventListener("click",function(n){var t,i;try{if(document.querySelector(".embeddedServiceSidebar")||document.querySelector(".embeddedServiceHelpButton"))if(t=n.target||n.srcElement,t&&t.tagName.toLowerCase()==="embeddedservice-chat-header"&&(closestByTagName(n.toElement,"svg")||closestByTagName(n.toElement,"button")))closestByTagName(n.toElement,"svg").dataset.key==="minimize_window"||closestByTagName(n.toElement,"button").className==="minimizeButton"?isWarrantyPartsReturnChat(snapInObject)?callDellmetricsTrack("800.300.256","SNAPIN-WarrantyReturn: Minimize"):callDellmetricsTrack("890.220.007","SNAPIN: Minimize"):(closestByTagName(n.toElement,"svg").dataset.key==="close"||closestByTagName(n.toElement,"button").className==="closeButton")&&(isWarrantyPartsReturnChat(snapInObject)?callDellmetricsTrack("800.300.257","SNAPIN-WarrantyReturn: Close (x)"):callDellmetricsTrack("890.220.006","SNAPIN: Close (x)"),document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer")||snapinChatInitiatedState(!1));else if(t&&t.tagName.toLowerCase()==="embeddedservice-chat-input-footer-menu"&&(closestByTagName(n.toElement,"svg")||closestByTagName(n.toElement,"button")))closestByTagName(n.toElement,"svg").dataset.key==="rows"||closestByTagName(n.toElement,"button").className==="slds-button slds-button_icon slds-button_icon-container-more slds-button_icon-large"?callDellmetricsTrack("890.220.015","SNAPIN: Hamburger Menu"):(i=closestByTagName(n.toElement,"a"),i!=undefined&&i!=null&&i.innerText&&callDellmetricsTrack("890.220.003","SNAPIN: '"+i.innerText+"' Button Clicked"));else if(closestByTagName(t,"button")!=null&&closestByTagName(t,"button")!=undefined)switch(closestByTagName(t,"button").className){case"dialogButton dialog-button-0 uiButton embeddedServiceSidebarButton":case"endChatButton postChatButton uiButton--default uiButton embeddedServiceSidebarButton":case"endChatButton saveTranscriptButton uiButton--inverse uiButton embeddedServiceSidebarButton":callDellmetricsTrack("890.220.003","SNAPIN: '"+t.innerText+"' Button Clicked");break;case"dialogButton dialog-button-1 uiButton embeddedServiceSidebarButton":callDellmetricsTrack("890.220.004","SNAPIN: '"+t.innerText+"' Button Clicked");break;case"dialogButton dialog-button-1 uiButton--inverse uiButton embeddedServiceSidebarButton":callDellmetricsTrack("890.220.004","SNAPIN: '"+t.innerText+"' Button Clicked");break;case"waitingCancelChat uiButton--inverse uiButton embeddedServiceSidebarButton":callDellmetricsTrack("890.220.005","SNAPIN: Cancel Chat");break;case"closeButton":isWarrantyPartsReturnChat(snapInObject)?callDellmetricsTrack("800.300.257","SNAPIN-WarrantyReturn: Close (x)"):callDellmetricsTrack("890.220.006","SNAPIN: Close (x)");break;case"minimizeButton":isWarrantyPartsReturnChat(snapInObject)?callDellmetricsTrack("800.300.256","SNAPIN-WarrantyReturn: Minimize"):callDellmetricsTrack("890.220.007","SNAPIN: Minimize");break;case"sidebarHeader minimizedContainer helpButton embeddedServiceSidebarMinimizedDefaultUI":callDellmetricsTrack("890.220.008","SNAPIN: Maximize");break;case"sidebarHeader minimizedContainer embeddedServiceSidebarMinimizedDefaultUI":callDellmetricsTrack("890.220.008","SNAPIN: Maximize")}}catch(r){this.console.log("Error in function",r)}})}function callDellmetricsTrack(n,t){showsAgentOflineMsg(n,t)&&(document.querySelector(".dialog-button-0.embeddedServiceSidebarButton").style.display="none");typeof dellmetricsTrack=="function"&&dellmetricsTrack&&(trackevent?t?(t=append_snapinChatUuid(t),dellmetricsTrack(n,t)):dellmetricsTrack(n):trackevent=!0)}function showsAgentOflineMsg(n,t){return n=="890.220.016"&&(t.includes("Im Moment kann nicht gechattet werden. Versuchen Sie es später erneut.")||t.includes("ただいまチャットできません。 後でもう一度お試しください。")||t.includes("지금은 채팅을 할 수 없습니다. 나중에 다시 시도하십시오.")||t.includes("No podemos chatear en estos momentos. Inténtelo de nuevo más tarde.")||t.includes("我们现在无法聊天。 请稍后重试。")||t.includes("我們目前無法聊天。 請稍後再試一次。")||t.includes("Não podemos conversar neste momento. Tente novamente mais tarde.")||t.includes("Não podemos conversar agora. Tente novamente mais tarde.")||t.includes("We kunnen momenteel niet chatten. Probeer het later opnieuw.")||t.includes("Nous ne pouvons pas discuter pour le moment. Veuillez réessayer ultérieurement.")||t.includes("Vi kan ikke chatte lige nu. Prøv igen senere.")||t.includes("Emme voi chatata juuri nyt. Yritä myöhemmin uudelleen.")||t.includes("Non possiamo chattare al momento Riprova più tardi.")||t.includes("Vi kan ikke chatte akkurat nå. Prøv på nytt senere.")||t.includes("В настоящее время чат недоступен. Повторите попытку позже.")||t.includes("Vi kan inte chatta just nu. Försök igen senare.")||t.includes("เราไม่สามารถสนทนาได้ในตอนนี้ ลองอีกครั้งในภายหลัง")||t.includes("Nie możemy w tej chwili rozmawiać na czacie Spróbuj ponownie później.")||t.includes("Momenálne nemôžeme četovať. Skúste to znova.")||t.includes("Não podemos conversar agora. Tente novamente mais tarde.")||t.includes("We can't chat right now. Try again later."))?!0:!1}function pageObserverForProp20(n,t){try{snapInPrechatForm=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI");snapInWaiting=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer");snapInChatStarted=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText");snapInChatEnded=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .endChatContainer");snapInConfirmationDialoug=document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer");snapInhelpBtnDisabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonDisabled");snapInhelpBtnEnabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonEnabled");snapInPrechatForm?snapInCurrentPage="snapInPrechatForm":snapInWaiting?snapInCurrentPage="snapInWaiting":snapInChatStarted?snapInCurrentPage="snapInChatStarted":snapInChatEnded?snapInCurrentPage="snapInChatEnded":snapInConfirmationDialoug?snapInCurrentPage="snapInConfirmationDialoug":snapInhelpBtnDisabled?(removeLoaderIn10(),snapInCurrentPage="snapInhelpBtnDisabled"):snapInhelpBtnEnabled?snapInhelpBtnEnabled="snapInhelpBtnEnabled":snapInCurrentPage=null;var i=window.MutationObserver||window.WebKitMutationObserver,r=function(n){n.forEach(function(n){n.addedNodes.length>0&&(snapInPrechatForm=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI"),snapInWaiting=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer"),snapInChatStarted=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText"),snapInChatEnded=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .endChatContainer"),snapInConfirmationDialoug=document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer"),snapInhelpBtnDisabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonDisabled"),snapInhelpBtnEnabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonEnabled"),snapInEmbeddedServiceHelpBtn=document.querySelector(".embeddedServiceHelpButton"),snapInPrechatForm&&snapInCurrentPage!="snapInPrechatForm"?(snapInCurrentPage="snapInPrechatForm",document.querySelector(".modalContainer.embeddedServiceSidebar").style.display="none",snapinChatInitiatedState(!1)):snapInWaiting&&snapInCurrentPage!="snapInWaiting"?(snapInCurrentPage="snapInWaiting",callDellmetricsTrack("890.220.011","SNAPIN: You are up next Window load"),snapinQueueLoaded(),hideResumeSnapinLoader(),snapinChatInitiatedState(!1),eleExistWithVariable(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer .queuePositionNumber",waitChatCounter)):snapInChatStarted&&snapInCurrentPage!="snapInChatStarted"?(snapInCurrentPage="snapInChatStarted",snapinQueueLoaded(),hideResumeSnapinLoader(),snapinChatInitiatedState(!0),t&&addChatPrivacyInfo(t)):snapInChatEnded&&snapInCurrentPage!="snapInChatEnded"?(snapInCurrentPage="snapInChatEnded",snapinQueueLoaded(),hideResumeSnapinLoader(),snapinChatInitiatedState(!1),callDellmetricsTrack("890.220.009","SNAPIN: Chat Ended")):snapInConfirmationDialoug&&snapInCurrentPage!="snapInConfirmationDialoug"?(snapInCurrentPage="snapInConfirmationDialoug",snapinQueueLoaded(),callDellmetricsTrack("890.220.016",document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer").innerText),hideResumeSnapinLoader()):snapInEmbeddedServiceHelpBtn&&window.getComputedStyle(snapInEmbeddedServiceHelpBtn).display==="block"&&(snapInhelpBtnDisabled&&window.getComputedStyle(snapInhelpBtnDisabled).display==="flex"&&snapInCurrentPage!="snapInhelpBtnDisabled"?(snapInCurrentPage="snapInhelpBtnDisabled",snapInhelpBtnDisabled.style.display="none",removeLoaderIn10()):snapInhelpBtnEnabled&&window.getComputedStyle(snapInhelpBtnEnabled).display==="flex"&&snapInCurrentPage!="snapInhelpBtnEnabled"&&(snapInCurrentPage==="snapInhelpBtnDisabled"&&document.getElementById("cusCAREPreChatSnapinDom")&&(document.getElementById("cusPreChatSnapinDom").style.display="block"),snapInCurrentPage="snapInhelpBtnEnabled",snapInhelpBtnEnabled.style.display="none")))})},u=new i(r),f=document.querySelector(n);u.observe(f,{childList:!0,subtree:!0})}catch(e){console.log("Error in Observer - "+e)}}function addChatPrivacyInfo(n){setTimeout(function(){var u=document.getElementById("snapinChatPopUpMsg"),e=document.querySelector(".dockableContainer .chatMessage.ended"),f,i,t,r;u?e&&(u.style.display="none"):(f=n&&"chatPrivacyInfo"in n&&n.chatPrivacyInfo?n.chatPrivacyInfo:"Please do not share any payment or sensitive information in this chat window.",i=document.createElement("DIV"),i.id="snapinChatPopUpMsg",t=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateChatInputFooter"),t&&t.parentNode.insertBefore(i,t),innerVal='<span style="float: left;margin: 11px;fill:#0A6EBE;"><svg x="0px" y="0px" width="20px" height="20px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85   c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786   c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576   c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765   c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"/><\/g><\/svg><\/span><span class="cusPreChat-x-small cusPreChat-embeddedServiceIcon" id="btnCloseSnapinPopMsg" style="float:right;padding:5px;cursor:pointer;"> <svg focusable="false" aria-hidden="true" data-key="close" viewBox="0 0 120 120" style="fill:#333"> <path d="M65.577 53.73l27.5-27.71c1.27-1.27 1.27-3.174 0-4.445l-4.23-4.44c-1.272-1.27-3.175-1.27-4.445 0L56.694 44.847c-.847.845-2.115.845-2.96 0L26.018 16.922c-1.27-1.27-3.174-1.27-4.445 0l-4.44 4.442c-1.27 1.27-1.27 3.174 0 4.444l27.71 27.71c.846.846.846 2.116 0 2.962L16.923 84.403c-1.27 1.27-1.27 3.174 0 4.444l4.442 4.442c1.27 1.268 3.174 1.268 4.444 0l27.71-27.713c.846-.847 2.116-.847 2.962 0L84.19 93.29c1.27 1.268 3.174 1.268 4.445 0l4.44-4.445c1.27-1.268 1.27-3.17 0-4.44l-27.5-27.712c-.847-.847-.847-2.115 0-2.96z"><\/path><\/svg><\/span><p style="text-align:left;padding:7px;margin:0;font-size:13px;background:#DFF1FE;border-top:1px solid #0A6EBE;border-bottom:1px solid #0A6EBE;color:#333;">'+f+"<\/p>",document.getElementById("snapinChatPopUpMsg")&&(document.getElementById("snapinChatPopUpMsg").innerHTML=innerVal),r=document.getElementById("btnCloseSnapinPopMsg"),r&&r.addEventListener("click",function(){document.getElementById("snapinChatPopUpMsg").style.display="none"}))},50)}function waitChatCounter(n,t,i){try{var r=document.querySelector(n).innerText;i!=r&&(callDellmetricsTrack("890.220.012","SNAPIN: Queue number "+r),clearInterval(t),r>0&&r!=""&&r!=null&&r!=undefined&&r!=" "&&eleExistWithVariable(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer .queuePositionNumber",waitChatCounter,document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer .queuePositionNumber").innerText))}catch(u){clearInterval(t);console.log("Error in:"+u)}}function eleExistWithVariable(n,t,i){var r=setInterval(function(){if(document.querySelector(n))try{t(n,r,i)}catch(u){console.log("error in "+t+" function: "+u)}},1e3)}function snapinPrechatLoaded(n,t){try{document.getElementById("loadingSnapinMsg")&&removeDomElement(document.getElementById("loadingSnapinMsg"));clearInterval(t)}catch(i){console.log("Error in:"+i)}}function removeDomElement(n){n.parentNode.removeChild(n)}function eleExist(n,t){var i=setInterval(function(){if(document.querySelector(n))try{t(n,i)}catch(r){console.log("error in "+t+" function: "+r)}},1e3)}function isHesAdminChat(n){return"requestType"in n&&n.requestType=="HES Admin Chat"&&!("isTechChat"in n&&n.isTechChat)?!0:!1}function createHesAdminChat(n,t){hesCustomNoticeDom="hesCustomNotice"in n&&n.hesCustomNotice?'<li id ="cusPreChat-inputHesCustomNotice" class="cusPreChat-inputHesCustomNotice cusPreChat-embeddedServiceSidebarFormField" style="margin: 16px 0px 0px 16px;color: #000;font-size: 14px;"><div style="font-size: 14px;color:#767676;text-align: left;color: #000;font-family: inherit;">'+n.hesCustomNotice+"<\/div><\/li>":"";"alternateEmail"in n&&n.alternateEmail||(n.alternateEmail="Alternate Email");"browserVersion"in n&&n.browserVersion||(n.browserVersion="Browser version having the issue");"browserVersionExample"in n&&n.browserVersionExample||(n.browserVersionExample="Example: Firefox X.X");"urlTriedToReach"in n&&n.urlTriedToReach||(n.urlTriedToReach="URL you are trying to reach");staticEleWithToolTipStyling();var i='<li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"> <div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" style="font-size: 16px;color: #000 !important;font-family: inherit;margin-bottom: 0px;margin-top: 16px;"> <span class="">'+n.firstName+'<\/span><\/label> <div class="cusPreChat-tooltip"><input id="cusPreChat-FirstName" class="cusPreChat-FirstName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true" readonly="" style="border: none;background: none;padding: 0px;height: 23px;color: #666;box-shadow: none;"><span class="cusPreChat-tooltiptext">'+t.firstName+'<\/span><\/div><\/div><\/span><\/li><li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"> <div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="LastName" style=" font-size: 16px; color: #000 !important; font-family: inherit; margin-bottom: 0px; margin-top: 16px; "> <span class="">'+n.lastName+'<\/span> <\/label> <div class="cusPreChat-tooltip"><input id="cusPreChat-LastName" class="cusPreChat-LastName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true" readonly="" style=" border: none; background: none; padding: 0px; height: 23px; color: #666; box-shadow: none; "><span class="cusPreChat-tooltiptext">'+t.lastName+'<\/span><\/div><\/div><\/span><\/li><li class="cusPreChat-inputEmail cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputEmail cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Email" style=" font-size: 16px; color: #000 !important; font-family: inherit; margin-bottom: 0px; margin-top: 16px; "> <span>'+n.emailAddress+'<\/span><\/label> <div class="cusPreChat-tooltip"><input id="cusPreChat-Email" class="cusPreChat-Email form-control cusPreChat-input" maxlength="80" type="email" aria-describedby="" placeholder="" required="" aria-required="true" readonly="" style=" border: none; background: none; padding: 0px; height: 23px; color: #666; box-shadow: none; "><span class="cusPreChat-tooltiptext">'+t.email+"<\/span><\/div><\/div><\/li>";return'<div id="cusPreChatSnapinDom" class="cusPreChat-modalContainer"><div class="cusPreChat-dockableContainer"><div class="cusPreChat-embeddedServiceSidebarHeader"> <div class="cusPreChat-shortHeader"> <div class="cusPreChat-shortHeaderContent">  <h2 class="cusPreChat-headerText"> <div class="cusPreChat-headerTextContent"> <span id="cusPreChat-headerTextLabel">'+n.chatHeader+'<\/span> <span id="cusPreChat-headerSubtext"> <\/span><\/div><\/h2> <button id="cusPreChat-minimize-btn" class="cusPreChat-minimizeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Minimize chat<\/span> <span class="cusPreChat-minimize cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" data-key="minimize_window" aria-hidden="true" viewBox="0 0 52 52" class="slds-icon slds-icon-text-default slds-icon_x-small"><g><path d="M50 48.5c0 .8-.7 1.5-1.5 1.5h-45c-.8 0-1.5-.7-1.5-1.5v-3c0-.8.7-1.5 1.5-1.5h45c.8 0 1.5.7 1.5 1.5v3z"><\/path><\/g><\/svg> <\/span> <\/button><button id="cusPreChat-close-btn" class="cusPreChat-closeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Close chat<\/span> <span class="cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" aria-hidden="true" data-key="close" viewBox="0 0 100 100"> <path d="M65.577 53.73l27.5-27.71c1.27-1.27 1.27-3.174 0-4.445l-4.23-4.44c-1.272-1.27-3.175-1.27-4.445 0L56.694 44.847c-.847.845-2.115.845-2.96 0L26.018 16.922c-1.27-1.27-3.174-1.27-4.445 0l-4.44 4.442c-1.27 1.27-1.27 3.174 0 4.444l27.71 27.71c.846.846.846 2.116 0 2.962L16.923 84.403c-1.27 1.27-1.27 3.174 0 4.444l4.442 4.442c1.27 1.268 3.174 1.268 4.444 0l27.71-27.713c.846-.847 2.116-.847 2.962 0L84.19 93.29c1.27 1.268 3.174 1.268 4.445 0l4.44-4.445c1.27-1.268 1.27-3.17 0-4.44l-27.5-27.712c-.847-.847-.847-2.115 0-2.96z"> <\/path> <\/svg> <\/span> <\/button> <\/div><\/div><\/div><div class="cusPreChat-sidebarBody"> <div id="cusPreChat-sidebarLoadingIndicator" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"> <div class="cusPreChat-loadingBallContainer cusPreChat-animated cusPreChat-embeddedServiceLoadingBalls"> <span class="cusPreChat-loadingBall cusPreChat-first"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-second"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-third"> <\/span><\/div><\/div><div id="cusPreChat-alertMsgContainer" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"> <div style="margin: 2.5em 1.75em;">'+n.chatUnavailableMessage+'<\/div><div><button id="cusPreChat-CloseChat" class="cusPreChat-embeddedServiceSidebarButton" type="button"><span class="cusPreChat-label cusPreChat-bBody">'+n.closeChat+'<\/span><\/button><\/div><\/div><div id="cusPreChat-hideWhileLoading" class="cusPreChat-activeFeature cusPreChat-hideWhileLoading"> <div class="cusPreChat-featureBody cusPreChat-embeddedServiceSidebarFeature"> <div class="cusPreChat-stateBody cusPreChat-embeddedServiceSidebarState"> <div class="cusPreChat-prechatUI cusPreChat-embeddedServiceLiveAgentStatePrechatDefaultUI"> <div class="cusPreChat-formContent cusPreChat-embeddedServiceSidebarForm"> <ul class="cusPreChat-fieldList" style="margin: 0;"> <div id="readonlyPreChatContainer" class="cusPreChat-readonlyContainer" style="text-align: left;position: relative;font-size: .75em;color: #444444;background: white;padding: 10px 12px;"> <div style="font-size: 18px;">Site Info Place Holder<\/div><div style="font-size: 14px;font-family: inherit;"><b>'+n.issueType+':<\/b> <span id="preChatIssueDesc" style="font-size: 14px;font-family: inherit;">'+t.issueType+'<\/span><\/div><\/div><div style="margin-right: 12px;">'+hesCustomNoticeDom+i+'<li class="cusPreChat-showAltEmailField cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputshowAltEmailField cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label id="cusPreChat-showAltEmailFieldBtn" class="cusPreChat-FormBtns cusPreChat-form-element__label cusPreChat-uiLabel" style=" font-weight: 500 !important; font-size: 14px; font-family: inherit; font-style: normal; margin-top: 21px; color: #006BBD; cursor: pointer; margin-bottom: 0px; "> <div style=" float: left; margin: 0px 8px 0px 0px; "> <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="cusPreChat-FormBtnchild"> <path d="M15.4508 7.35001C15.0508 4.05001 12.3508 1.35001 8.95076 0.850006C8.65076 0.850006 8.25076 0.75 7.95076 0.75C3.45076 0.75 -0.049236 4.65 0.550764 9.25C0.950764 12.55 3.65076 15.25 7.05076 15.75C7.35076 15.75 7.75076 15.85 8.05076 15.85C12.4508 15.85 16.0508 11.95 15.4508 7.35001ZM12.8508 12.65C11.6508 14.05 9.85076 14.85 7.95076 14.85C7.65076 14.85 7.35076 14.85 7.05076 14.75C4.15076 14.35 1.85076 12.05 1.45076 9.15C1.25076 7.25 1.75076 5.45 3.05076 4.05C4.25076 2.65 6.05076 1.85001 7.95076 1.85001C8.25076 1.85001 8.55076 1.85 8.85076 1.95C11.7508 2.35 14.0508 4.65 14.4508 7.55C14.7508 9.35 14.1508 11.15 12.8508 12.65Z"><\/path> <path d="M8.55076 4.05H7.45076V7.75H3.85076V8.85001H7.45076V12.55H8.55076V8.85001H12.2508V7.75H8.55076V4.05Z"><\/path> <\/svg> <\/div><div style=" float: left; margin-top: 1px; "><span class="cusPreChat-FormBtnchild">'+n.alternateEmail+'<\/span><span style=" margin-left: 5px; color: #767676; ">'+n.optional+'<\/span><\/div><\/label> <\/div><\/li><li class="cusPreChat-emptyAltEmail cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiEmptyAltEmail cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" style=" font-weight: 500 !important; font-size: 14px; font-family: inherit; color: #111 !important; font-style: normal; margin-top: 16px; "> <span>'+n.alternateEmail+'<\/span> <\/label> <input id="cusPreChat-emptyAltEmail" class=" form-control cusPreChat-input" maxlength="80" type="email" aria-describedby="" placeholder="" required="" aria-required="true" style=" float: left; border-radius: 3px; background: #FFFFFF; /* Graphite #7070 */ border: 1px solid #707070; /* font-size: 16px; */ /* height: 40px; */ width: calc(100% - 25px); "> <div id="cusPreChat-hideAltEmailFieldBtn" style=" float: right; margin-top: 7px; cursor: pointer; " class="cusPreChat-FormBtns"> <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"> <path d="M12.5 7.30005H3.5V8.30005H12.5V7.30005Z"><\/path> <path d="M8 0.300049C3.9 0.300049 0.5 3.70005 0.5 7.80005C0.5 11.9 3.9 15.3 8 15.3C12.1 15.3 15.5 11.9 15.5 7.80005C15.5 3.70005 12.1 0.300049 8 0.300049ZM8 14.3C4.4 14.3 1.5 11.4 1.5 7.80005C1.5 4.20005 4.4 1.30005 8 1.30005C11.6 1.30005 14.5 4.20005 14.5 7.80005C14.5 11.3 11.6 14.3 8 14.3Z"><\/path> <\/svg> <\/div><span><\/span> <\/div><\/li><li class="cusPreChat-prefillAltEmail cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiprefillAltEmail cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" style=" font-weight: 500 !important; font-size: 14px; font-family: inherit; color: #111 !important; font-style: normal; margin-top: 16px; "> <span>'+n.alternateEmail+'<\/span> <\/label> <input id="cusPreChat-prefillAltEmail" class="form-control cusPreChat-input" maxlength="80" type="email" aria-describedby="" placeholder="" required="" aria-required="true" style="border-radius: 3px; background: #FFFFFF; border: 1px solid #707070;"><span><\/span><\/div><\/li><li class="cusPreChat-inputPhone cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputPhone cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Primary_Phone__c" style=" font-weight: 500 !important; font-size: 14px; font-family: inherit; color: #111 !important; font-style: normal; margin-top: 16px; "> <span>'+n.phoneNumber+'<\/span> <\/label> <input id="cusPreChat-Phone" class="cusPreChat-Primary_Phone__c form-control cusPreChat-input" maxlength="40" type="tel" aria-describedby="" placeholder="" required="" aria-required="true" style=" border-radius: 3px; border: 1px solid #707070; "><\/div><\/li><li class="cusPreChat-inputBrowser cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputBrowser cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" style=" font-weight: 500 !important; font-size: 14px; font-family: inherit; color: #111 !important; font-style: normal; margin-top: 16px; "> <span>'+n.browserVersion+'<\/span> <\/label> <input id="cusPreChat-BrowserVer" class="form-control cusPreChat-input" maxlength="50" type="text" aria-describedby="" placeholder="" required="" aria-required="true" style=" margin-bottom: 0; border-radius: 3px; background: #FFFFFF; border: 1px solid #707070; "> <div id="cusPrechatBrowserEx" style="font-family: inherit;text-align:right;position:relative;font-size: 14px;line-height: 1.5;margin-right: .75em;margin-left: .5em;margin-top: 3px;float: right;color:#767676;">'+n.browserVersionExample+'<\/div><\/div><\/li><li class="cusPreChat-inputURL cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputURL cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" style=" font-weight: 500 !important; font-size: 14px; font-family: inherit; color: #111 !important; font-style: normal; margin-top: 16px; "> <span>'+n.urlTriedToReach+'<\/span><span style=" margin-left: 5px; color: #767676; ">'+n.optional+'<\/span> <\/label> <input id="cusPreChat-URL" class="cusPreChat-URLtryingfor form-control cusPreChat-input" maxlength="255" type="text" aria-describedby="" placeholder="" required="" aria-required="true" style=" border-radius: 3px; background: #FFFFFF; border: 1px solid #707070; "><\/div><\/li><li class="cusPreChat-inputText cusPreChat-embeddedServiceSidebarFormField"> <div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label id="Issue_Description_Cust_Label" class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Issue_Description__c" style=" font-weight: 500 !important; font-size: 14px; font-family: inherit; color: #111 !important; font-style: normal; margin-top: 16px; "> <span>'+n.issueDescription+'<\/span> <span id="issueDescIsOptional" style="color: #767676;">'+n.optional+'<\/span><\/label> <textarea id="cusPreChat-IssueDescription" class="cusPreChat-Issue_Description__c form-control cusPreChat-input" maxlength="35000" type="text" aria-describedby="" placeholder="" required="" style=" border-radius: 3px; background: #FFFFFF; border: 1px solid #707070; "><\/textarea> <div id="snappinCharCounter" style="text-align:right;position:relative;font-size:.75em;line-height: 1.5;margin-right: .75em;margin-left: .5em;margin-bottom: 8px;float: right;color:#767676;">0 / '+n.issueDescriptionLength+" "+n.characters+'<\/div><\/div><\/li><\/div><\/ul> <div id="PrechatCoveo" style="display:none;"><\/div><div style="font-size: 12px;font-style: normal !important;color:#767676;text-align: left;margin: 40px 1.75em 25px 1.75em;font-style: italic;color:#444444;text-decoration: none;font-family: inherit;">'+n.customerPrivacyDesc+'<\/div><\/div><div class="cusPreChat-buttonWrapper cusPreChat-embeddedServiceSidebarForm" style=" padding: 12px 24px 12px 24px; background-color: #fff; "> <button id="cusPreChat-startChat" class="cusPreChat-startButton cusPreChat-uiButton--default cusPreChat-uiButton cusPreChat-embeddedServiceSidebarButton" type="button" style=" border-radius: 4px !important; "> <span class="cusPreChat-label cusPreChat-bBody">'+n.startChat+'<\/span> <\/button><\/div><\/div><\/div><\/div><\/div><\/div><div id="cusPreChat-embeddedServiceHelpButton" class="cusPreChat-embeddedServiceHelpButton" style="display: none;"> <div class="cusPreChat-helpButton" style="width: 168px;"> <button id="cusPreChat-helpButtonEnabled" class="cusPreChat-uiButton cusPreChat-helpButtonEnabled" href="javascript:void(0)" > <span class="cusPreChat-embeddedServiceIcon" aria-hidden="true" style="z-index: 1; float: left"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chat" width="100%" height="100%" style="height: 18px; width: 18px;"> <path d="M12 1.8C5.9 1.8 1 6.4 1 12c0 1.7.5 3.4 1.3 4.8.1.3.2.6.1.8l-1.4 4c-.2.3.2.6.6.6l3.9-1.6c.3-.1.5 0 .8.1 1.7.9 3.7 1.5 5.8 1.5 6 0 11-4.5 11-10.2C23 6.4 18.1 1.8 12 1.8zm-5.5 12c-1.1 0-1.9-.8-1.9-1.8s.8-1.8 1.9-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.9.8 1.9 1.8-.8 1.8-1.9 1.8z"><\/path> <\/svg> <\/span> <div class="cusPreChat-helpButtonLabel" id="cusPreChat-helpButtonSpan" aria-live="polite" aria-atomic="true"> <span class="cusPreChat-assistiveText">Live chat:<\/span> <span class="cusPreChat-message">'+n.chatHeader+"<\/span><\/div><\/button> <\/div><\/div>"}function createHesAdminChatTopField(n,t){var i="";return i="siteName"in n&&n.siteName?'<div style="font-size: 18px;">'+n.siteId+" : "+n.siteName+"<\/div>":'<div style="font-size: 18px;">'+n.siteId+"<\/div>",'<div id="readonlyPreChatContainer" class="cusPreChat-readonlyContainer" style="text-align: left;position: relative;font-size: .75em;color: #444444;background: white;padding: 10px 12px;">'+i+'<div style="font-size: 14px;font-family: inherit;"><b>'+t.issueType+':<\/b> <span id="preChatIssueType_static" style="font-size: 14px;font-family: inherit;">'+n.issueVal+"<\/span><\/div><\/div>"}function hesAdminAltEmailInterationDesign(n){try{"alternateEmail"in n&&n.alternateEmail?(document.getElementById("cusPreChat-prefillAltEmail").value=n.alternateEmail,document.querySelector(".cusPreChat-uiprefillAltEmail").style.display="block",document.querySelector(".cusPreChat-showAltEmailField").style.display="none",document.querySelector(".cusPreChat-emptyAltEmail").style.display="none"):(document.getElementById("cusPreChat-emptyAltEmail").value=n.alternateEmail,document.querySelector(".cusPreChat-uiprefillAltEmail").style.display="none",document.querySelector(".cusPreChat-showAltEmailField").style.display="block",document.querySelector(".cusPreChat-emptyAltEmail").style.display="none",document.getElementById("cusPreChat-showAltEmailFieldBtn").addEventListener("click",function(){document.querySelector(".cusPreChat-showAltEmailField").style.display="none";document.querySelector(".cusPreChat-emptyAltEmail").style.display="block"}),document.getElementById("cusPreChat-hideAltEmailFieldBtn").addEventListener("click",function(){document.querySelector(".cusPreChat-showAltEmailField").style.display="block";document.querySelector(".cusPreChat-emptyAltEmail").style.display="none";document.getElementById("ErrMsg_cusPreChat-emptyAltEmail")&&removeDomElementbyId("ErrMsg_cusPreChat-emptyAltEmail")}))}catch(t){console.log("Error On: "+t)}}function staticEleWithToolTipStyling(){if(!document.getElementById("snapinToolTipCSS")){var t=".cusPreChat-tooltip{position: relative; display: inline-block; width:100%}.cusPreChat-tooltip .cusPreChat-input{text-overflow: ellipsis; white-space: nowrap; overflow: hidden;}.cusPreChat-tooltiptext{visibility:hidden; background-color: #f1f1f1; color: #666; border:none; text-align: center; padding: 0px; margin:0px; top:0px; left:0px; width:100%; text-align:left; word-wrap: break-word; position: absolute; z-index: 1;}.cusPreChat-tooltip:hover .cusPreChat-tooltiptext{visibility: visible;}",i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";n.id="snapinToolTipCSS";n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t));i.appendChild(n)}}function isWarrantyPartsReturnChat(n){return"requestType"in n&&n.requestType=="warrantyReturn"?!0:!1}function checkIfPrimPhoneNumIsOptional(){removeDomElementbyId("primPhoneIsOptional")}function cusPreChatInvalidDispatchNum(n,t){return cusPreChatValidateNumeric(n.value)&&cusPreChatTextCharLimit(15,8,n.value)?!0:(cusPreChatErrorMsgPlaceholder(n,t.dispatchNumberValidation),!1)}function cusPreChatValidateNumeric(n){return n.match(/^[0-9]+$/)?!0:!1}function cusPreChatTextCharLimit(n,t,i){return i.length<=n&&i.length>=t?!0:!1}function isResumeSprinklr(){var t=sessionStorage.getItem("sprinklrChatBotObject"),n=JSON.parse(t);return n&&"userAuthToken"in n&&n.userAuthToken&&"sprinklrContextId"in n&&n.sprinklrContextId?!0:!1}function isRebootSprinklr(n){var i,t;try{return i=sessionStorage.getItem("sprinklrChatBotObject"),t=JSON.parse(i),(!t||isResumeSprinklr())&&n&&"applicationContext"in n&&n.applicationContext==="SprinklrTechBot-ResumeChat"?(t={payloadTags:{productName:n.productName?n.productName:"",lng:n.language?n.language:"",productCode:n.productCode?n.productCode:"",issueType:n.issueType?n.issueType:"",issueVal:n.issueVal?n.issueVal:"",serviceTag:n.serviceTag?n.serviceTag:""},requestId:n.sprinklrRequestId?n.sprinklrRequestId:"",text:n.issueDescription?n.issueDescription:"",userAgent:navigator.userAgent,engine:"dellintent",sprinklrURL:n.sprinklrURL?n.sprinklrURL:"",sprinklrFaqURL:n.sprinklrFaqURL?n.sprinklrFaqURL:"",user_firstName:n.firstName?n.firstName:"",user_lastName:n.lastName?n.lastName:"",user_email:n.email?n.email:"",user_phoneNo:n.phone?n.phone:"",userAuthToken:n.sprinklrUserAuthToken?n.sprinklrUserAuthToken:"",sprinklrContextId:n.sprinklrContextId?n.sprinklrContextId:"",sprinklrLoadingMessage:n.sprinklrLoadingMessage?n.sprinklrLoadingMessage:"",applicationContext:n.applicationContext?n.applicationContext:""},sessionStorage.setItem("sprinklrChatBotObject",JSON.stringify(t)),!0):!1}catch(r){return console.log("Error in isRebootSprinklr function: ",r),!1}}function resumeSprinklrTechChat(n){initSnapIn(n);eleExist(".helpButtonEnabled #helpButtonSpan > .message",chatClick);eleExist(".embeddedServiceHelpButton",hideDomObject);eleExistWithVariable(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI",hideOtherDomObject,".embeddedServiceSidebar");var t=document.body||document.getElementsByTagName("body")[0];t.insertAdjacentHTML("beforeend",'<div id="cusPreChatSnapinDom" class="cusPreChat-modalContainer" style="display: none;"> <div class="cusPreChat-dockableContainer"> <div class="cusPreChat-embeddedServiceSidebarHeader"> <div class="cusPreChat-shortHeader"> <div class="cusPreChat-shortHeaderContent">  <h2 class="cusPreChat-headerText"> <div class="cusPreChat-headerTextContent"> <span id="cusPreChat-headerTextLabel">Chat Now<\/span> <span id="cusPreChat-headerSubtext"> <\/span><\/div><\/h2>  <\/div><\/div><\/div><div class="cusPreChat-sidebarBody"> <div id="cusPreChat-sidebarLoadingIndicator" class="cusPreChat-sidebarLoadingIndicator"> <div class="cusPreChat-loadingBallContainer cusPreChat-animated cusPreChat-embeddedServiceLoadingBalls"> <span class="cusPreChat-loadingBall cusPreChat-first"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-second"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-third"> <\/span><\/div><\/div><div id="cusPreChat-alertMsgContainer" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div style="margin: 2.5em 1.75em;">Sorry Currently Chat is not Avilable<\/div><div><button id="cusPreChat-CloseChat" class="cusPreChat-embeddedServiceSidebarButton" type="button"><span class="cusPreChat-label cusPreChat-bBody">Close Chat<\/span><\/button><\/div><\/div><\/div><\/div><\/div>');pageObserverForProp20("body");startSprinklr()}function addPrefillDetailsForAgentTransfer(n){n.c_firstName=n.firstName;n.c_lastName=n.lastName;n.c_email=n.email;n.c_phoneNo=n.phone;n.c_serviceTag=n.serviceTag;n.c_issueDescription=n.issueDescription;saveGlobalSnapinObjToSession(n)}function isTechOrCare(n){return n.applicationContext==="ChatBot-CareBot"||n.applicationContext==="ChatBot-CareEnglish"?"CARE":"Tech"}function triggerChatBot(n){onChatBotServiceTagChange();"applicationContext"in n&&n.applicationContext==="ChatBot-ResumeChat"?(n.c_firstName=n.First_Name,n.c_lastName=n.Last_Name,n.c_email=n.Email,n.c_phoneNo=n.Phone,n.c_serviceTag=n.Service_Tag,n.buid=n.buid,n.c_CARE_Chat_Order_Number=n.CARE_Chat_Order_Number,saveGlobalSnapinBotObjToSession(n),eleExistWithVariable(".embeddedServiceSidebar .startButton",ChatBotStarted,n)):(n.StepName_Manual_Bot="Details",openBotPrechatform(n));initiateChatBot(n);HideLoadingImage()}function clickStartChatBot(n,t){document.querySelector(n).click();clearInterval(t)}function initiateChatBot(n){var i,r,t;n==undefined&&sessionStorage.getItem("chatBotObjectSession")!=null?n=JSON.parse(sessionStorage.getItem("chatBotObjectSession")):(sessionStorage.setItem("chatBotObjectSession",JSON.stringify(n)),eleExist(".embeddedServiceHelpButton .helpButton .helpButtonEnabled",clickStartChatBot));OmniChatBotTrackerListner();AddElementToPage();i=function(t){var i;document.getElementById("chatBotStyle")||(i=null,i=isTechOrCare(n)==="CARE"?".embeddedServiceLiveAgentStateChatHeader .message,.embeddedServiceLiveAgentStateChatHeaderOption .optionName,.embeddedServiceSidebarFormField .uiInput .uiLabel-left{font-size:.75em!important}.embeddedServiceLiveAgentStateChatPlaintextMessageDefaultUI.plaintextContent,.embeddedServiceSidebarDialogState #dialogTextBody,.embeddedServiceSidebarFormField .slds-style-inputtext,.embeddedServiceSidebarFormField .slds-style-select,.embeddedServiceSidebarHeader .shortHeader,.embeddedServiceSidebarMinimizedDefaultUI .minimizedText{font-size:.875em!important}.embeddedServiceSidebar .headerItem,.embeddedServiceSidebarButton{font-size:1em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .slds-button__icon{width:1.5em!important;height:1.5em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .slds-button_icon-container-more{line-height:1.875em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .slds-dropdown-trigger{padding:.5em .5em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .data-metrics={btnname:chgprod,appcode:880.130.862}":".embeddedServiceLiveAgentStateChatHeader .message,.embeddedServiceLiveAgentStateChatHeaderOption .optionName,.embeddedServiceSidebarFormField .uiInput .uiLabel-left{font-size:.75em!important}.embeddedServiceLiveAgentStateChatPlaintextMessageDefaultUI.plaintextContent,.embeddedServiceSidebarDialogState #dialogTextBody,.embeddedServiceSidebarFormField .slds-style-inputtext,.embeddedServiceSidebarFormField .slds-style-select,.embeddedServiceSidebarHeader .shortHeader,.embeddedServiceSidebarMinimizedDefaultUI .minimizedText{font-size:.875em!important}.embeddedServiceSidebar .headerItem,.embeddedServiceSidebarButton{font-size:1em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .slds-button__icon{width:1.5em!important;height:1.5em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .slds-button_icon-container-more{line-height:1.875em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .slds-dropdown-trigger{padding:.5em .5em!important}.embeddedServiceLiveAgentStateChatInputFooter .footerMenuWrapper .footer-menu .data-metrics={btnname:chgprod,appcode:880.130.862}",head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),style.type="text/css",style.id="chatBotStyle",style.styleSheet?style.styleSheet.cssText=i:style.appendChild(document.createTextNode(i)),head.appendChild(style),HideLoader());translatedLabels="applicationContext"in n&&n.applicationContext==="ChatBot-CareBot"&&"language"in n?translation(n.language):translation("en");embedded_svc.settings.language=translatedLabels.language;snapinBotPageObserver("body");var r=null,e="ChatBot",u=null;"applicationContext"in n&&(n.applicationContext==="ChatBot-CareBot"||n.applicationContext==="ChatBot-CareEnglish")?(e="Chatbot-CareBot",u={label:translatedLabels.primPhone,transcriptFields:["ContactNumber__c"],displayToAgent:!0},r="VA_Flag"in n?{label:"VA Flag",value:n.VA_Flag,transcriptFields:["VA_Flag__c"],displayToAgent:!0}:{label:"VA Flag",value:!1,transcriptFields:["VA_Flag__c"],displayToAgent:!0}):(u={label:"Phone",transcriptFields:["Phone"],displayToAgent:!0},r="VA_Flag"in n?{label:"VA Flag",value:n.VA_Flag,transcriptFields:["VA_Flag__c"],displayToAgent:!0}:{label:"VA Flag",value:!1,transcriptFields:["VA_Flag__c"],displayToAgent:!0});embedded_svc.settings.displayHelpButton=!1;embedded_svc.settings.extraPrechatFormDetails=[{label:"Transcript From",value:e,transcriptFields:["Transcript_From__c"],displayToAgent:!0},{label:"Chat Source",value:isTechOrCare(n),transcriptFields:["Chat_Source__c"]},{label:"Service Tag",transcriptFields:["Service_Tag__c"],displayToAgent:!0},{label:"CARE_Chat_Order_Number",transcriptFields:["CARE_Chat_Order_Number__c"],displayToAgent:!0},{label:"Order Number",value:appendBuidForCareBot(n),transcriptFields:["Order_Number__c"]},{label:"Issue",value:selectIssueTypeForCareBot(n),transcriptFields:["Issue__c"]},u,r,{label:translatedLabels.firstName,transcriptFields:["FirstName__c"],displayToAgent:!0},{label:translatedLabels.lastName,transcriptFields:["LastName__c"],displayToAgent:!0},{label:translatedLabels.emailAdd,transcriptFields:["Email__c"],displayToAgent:!0},{label:"product_Model",value:n.product_Model,transcriptFields:["product_Model__c"],displayToAgent:!0},{label:"Kb_Article",value:n.Kb_Article,transcriptFields:["KB__c"],displayToAgent:!0},{label:"issue_Description",value:n.issue_Description,transcriptFields:["issue_Description__c"],displayToAgent:!0},{label:"warranty_Details",value:n.warranty_Details,transcriptFields:["warranty_Details__c"],displayToAgent:!0},{label:"windows_Version",value:n.windows_Version,transcriptFields:["windows_Version__c"],displayToAgent:!0},{label:"BIOS_Version",value:n.BIOS_Version,transcriptFields:["BIOS_Version__c"],displayToAgent:!0},{label:"recent_Software_Updated_Date",value:n.recent_Software_Updated_Date,transcriptFields:["recent_Software_Updated_Date__c"],displayToAgent:!0},{label:"is_External_Peripherals_Connected",value:n.is_External_Peripherals_Connected,transcriptFields:["is_External_Peripherals_Connected__c"],displayToAgent:!0},{label:"is_SA_Diagnostic_Passed",value:n.is_SA_Diagnostic_Passed,transcriptFields:["is_SA_Diagnostic_Passed__c"],displayToAgent:!0},{label:"is_Error_Related_HWorSW",value:n.is_Error_Related_HWorSW,transcriptFields:["is_Error_Related_HWorSW__c"],displayToAgent:!0},{label:"is_BIOSandDrivers_Updated",value:n.is_BIOSandDrivers_Updated,transcriptFields:["is_BIOSandDrivers_Updated__c"],displayToAgent:!0},{label:"is_AnyAntivirus_Installed",value:n.is_AnyAntivirus_Installed,transcriptFields:["is_AnyAntivirus_Installed__c"],displayToAgent:!0},{label:"is_Related_Heat_Issue",value:n.is_Related_Heat_Issue,transcriptFields:["is_Related_Heat_Issue__c"],displayToAgent:!0},{label:"is_Warranty_Covered",value:n.is_Warranty_Covered,transcriptFields:["is_Warranty_Covered__c"],displayToAgent:!0},{label:"is_HardDrive_Test_Passed",value:n.is_HardDrive_Test_Passed,transcriptFields:["is_HardDrive_Test_Passed__c"],displayToAgent:!0},{label:"is_Memory_Test_Passed",value:n.is_Memory_Test_Passed,transcriptFields:["is_Memory_Test_Passed__c"],displayToAgent:!0},{label:"is_MotherBoard_Test_Passed",value:n.is_MotherBoard_Test_Passed,transcriptFields:["is_MotherBoard_Test_Passed__c"],displayToAgent:!0},{label:"is_HDD_IDE",value:n.is_HDD_IDE,transcriptFields:["is_HDD_IDE__c"],displayToAgent:!0},{label:"last_time_scan_run",value:n.last_time_scan_run,transcriptFields:["last_time_scan_run__c"],displayToAgent:!0},{label:"isDsdnstalled",value:n.isDsdnstalled,transcriptFields:["isDsdnstalled__c"],displayToAgent:!0},{label:"isHwAlert",value:n.isHwAlert,transcriptFields:["isHwAlert__c"],displayToAgent:!0},{label:"isSwAlert",value:n.isSwAlert,transcriptFields:["isSwAlert__c"],displayToAgent:!0},{label:"Application_Context",transcriptFields:["Application_Context__c"],displayToAgent:!0},{label:"StepName_Manual_Bot",value:n.StepName_Manual_Bot,transcriptFields:["StepName_Manual_Bot__c"],displayToAgent:!0},{label:"Agent_QueueName",value:n.Agent_QueueName,transcriptFields:["Agent_QueueName__c"],displayToAgent:!0},{label:"BotFutureUse_2",value:n.BotFutureUse_2,transcriptFields:["BotFutureUse_2__c"],displayToAgent:!0},];var o=null,s=null,h=null,f=null,c=null,l=null,a=null;o="First_Name"in n?n.First_Name:"firstNameVal";s="Last_Name"in n?n.Last_Name:"lastNameVal";h="Email"in n?n.Email:"emailVal@dell.com";f="Phone"in n?n.Phone:"primePhoneVal";c="Service_Tag"in n?n.Service_Tag:"1234";a="CARE_Chat_Order_Number"in n?n.CARE_Chat_Order_Number:"123456";l="applicationContext"in n?n.applicationContext:"testing";embedded_svc.settings.prepopulatedPrechatFields={FirstName:o,LastName:s,Email:h,ContactNumber__c:f,Phone:f,Service_Tag__c:c,Application_Context__c:l,CARE_Chat_Order_Number__c:a};embedded_svc.settings.extraPrechatInfo=[{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"LastName",isExactMatch:!1,label:translatedLabels.lastName},{doCreate:!1,doFind:!1,fieldName:"FirstName",isExactMatch:!1,label:translatedLabels.firstName},{doCreate:!1,doFind:!1,fieldName:"Email",isExactMatch:!1,label:translatedLabels.emailAdd}],entityName:"Contact",saveToTranscript:"ContactId"},{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"Name",isExactMatch:!1,label:"Service Tag"}],entityName:"Asset",saveToTranscript:"Asset__c"},{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"AssetId",isExactMatch:!1,label:"Asset"},{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"External_ID__c",isExactMatch:!1,label:"Application_Context"}],entityName:"Case",saveToTranscript:"Application_Context__c"}],entityName:"Case"}];embedded_svc.settings.chatbotAvatarImgURL="https://i.dell.com/is/image/DellContent/content/dam/global-site-design/product_images/esupport/icons/bot_icon_40x40.png.png";embedded_svc.settings.defaultMinimizedText="Get Started";embedded_svc.settings.enabledFeatures=["LiveAgent"];embedded_svc.settings.entryFeature="LiveAgent";embedded_svc.init(n.chatBotInitURL,n.chatBotLAURL,t,n.organizationId,n.componentName,{baseLiveAgentContentURL:n.baseLiveAgentContentURL,deploymentId:n.deploymentId,buttonId:n.buttonId,baseLiveAgentURL:n.baseLiveAgentURL,eswLiveAgentDevName:n.LiveAgentDevName,isOfflineSupportEnabled:!1})};r=document.getElementById("esw_storage_iframe");r?(ResgisterChatBotHandler(),onBotStart()):window.embedded_svc?(i(n.serviceForceURL),ResgisterChatBotHandler(),onBotStart()):(t=document.createElement("script"),t.setAttribute("src",n.snapInJs),t.onload=function(){i(null);ResgisterChatBotHandler();onBotStart()},document.body.appendChild(t));HookClosePreChatForm()}function appendBuidForCareBot(n){var t=null;return"buid"in n&&n.buid?t=n.CARE_Chat_Order_Number+"-"+n.buid:n.applicationContext==="ChatBot-CareBot"?t=n.CARE_Chat_Order_Number+"-3696":n.applicationContext==="ChatBot-CareEnglish"&&(t=n.CARE_Chat_Order_Number+"-11"),t}function selectIssueTypeForCareBot(n){var t=null;return n.applicationContext==="ChatBot-CareBot"?t="Status do pedido":n.applicationContext==="ChatBot-CareEnglish"&&(t="Order Status"),t}function ResgisterChatBotHandler(){embedded_svc.addEventHandler("onAgentMessage",function(){console.log("onAgentMessage event triggerred");bindHandler();sessionStorage.setItem("isChatBotActive","true");isAgentEventTriggered=!0});embedded_svc.addEventHandler("onChatEndedByChasitor",function(n){console.log("onChatEndedByChasitor event triggerred");callDellmetricsTrackForBot("880.130.860",n.liveAgentSessionKey);CloseAndClearChatBot();SetToDefaultValues()});embedded_svc.addEventHandler("onChatTransferSuccessful",function(){console.log("onChatTransferSuccessful event triggerred");EnableChatBotInput()});embedded_svc.addEventHandler("onChatEndedByAgent",function(){console.log("onChatEndedByAgent event triggerred");CloseAndClearChatBot();SetToDefaultValues()});embedded_svc.addEventHandler("onConnectionError",function(){console.log("onConnectionError event triggerred");CloseAndClearChatBot();SetToDefaultValues()});embedded_svc.addEventHandler("onIdleTimeoutOccurred",function(){console.log("onIdleTimeoutOccurred event triggerred");CloseAndClearChatBot();SetToDefaultValues()});embedded_svc.addEventHandler("onChatRequestSuccess",function(n){console.log("onChatRequestSuccess event triggerred");SetToDefaultValues();sessionStorage.removeItem("GR_MessageCount");sessionStorage.removeItem("isChatBotActive");StoreChatBotSessionKey(n.liveAgentSessionKey);callDellmetricsTrackForBot("880.130.863",n.liveAgentSessionKey)});embedded_svc.addEventHandler("onChatReconnectSuccessful",function(){console.log("onChatReconnectSuccessful event triggerred")});embedded_svc.addEventHandler("onChatEstablished",function(n){console.log("onChatEstablished event triggerred");callDellmetricsTrackForBot("880.130.864",n.liveAgentSessionKey);setTimeout(function(){var t=document.querySelector("embeddedservice-chat-input-footer-menu");t&&t.addEventListener("click",function(){callDellmetricsTrackForBot("880.130.861",n.liveAgentSessionKey)})},300)});embedded_svc.addEventHandler("onChasitorMessage",function(n){console.log("onChasitorMessage event triggerred");setTimeout(function(){var i=document.querySelectorAll(".chatContent"),t=i[i.length-1];(t.innerText==="Chat with Live Agent"||t.innerText==="Conversar com o Live Agent"||t.innerText==="Transfer to Agent")&&callDellmetricsTrackForBot("880.130.862",n.liveAgentSessionKey)},300)})}function OmniChatBotTrackerListner(){try{window.addEventListener("click",function(n){var t,i;try{if(document.querySelector(".embeddedServiceSidebar")||document.querySelector(".embeddedServiceHelpButton"))if(t=n.target||n.srcElement,t&&t.tagName.toLowerCase()==="embeddedservice-chat-header"&&(closestByTagName(n.toElement,"svg")||closestByTagName(n.toElement,"button")))closestByTagName(n.toElement,"svg").dataset.key==="minimize_window"||closestByTagName(n.toElement,"button").className==="minimizeButton"?callDellmetricsTrackForBot("880.130.854","Minimize"):(closestByTagName(n.toElement,"svg").dataset.key==="close"||closestByTagName(n.toElement,"button").className==="closeButton")&&callDellmetricsTrackForBot("880.130.855","Close");else if(t&&t.tagName.toLowerCase()==="embeddedservice-chat-input-footer-menu"&&(closestByTagName(n.toElement,"svg")||closestByTagName(n.toElement,"button")))closestByTagName(n.toElement,"svg").dataset.key!=="rows"&&closestByTagName(n.toElement,"button").className!=="slds-button slds-button_icon slds-button_icon-container-more slds-button_icon-large"&&(i=closestByTagName(n.toElement,"a"),i!=undefined&&i!=null&&i.innerText&&callDellmetricsTrackForBot("880.130.859","Save Transcript"));else if(t&&closestByTagName(t,"button")!=null)switch(closestByTagName(t,"button").className){case"waitingCancelChat uiButton--inverse uiButton embeddedServiceSidebarButton":callDellmetricsTrackForBot("880.130.856","Cancel Chat Request");chasitorTextMaintainState();isBinded=!1;bindHandler();break;case"closeButton headerItem":callDellmetricsTrackForBot("880.130.855","Close");break;case"minimizeButton headerItem":callDellmetricsTrackForBot("880.130.854","Minimize");break;case"dialogButton dialog-button-0 uiButton embeddedServiceSidebarButton":(n.target.innerText==="Leave"||n.target.innerText==="Sair")&&(n.target.parentNode.parentNode.parentNode.firstElementChild.textContent==="Leave?"||n.target.parentNode.parentNode.parentNode.firstElementChild.textContent==="Sair?")&&callDellmetricsTrackForBot("880.130.857","Leave Chat");break;case"dialogButton dialog-button-1 uiButton--inverse uiButton embeddedServiceSidebarButton":(n.target.innerText==="Continue to Wait"||n.target.innerText==="Continuar esperando")&&(n.target.parentNode.parentNode.parentNode.firstElementChild.textContent==="Leave?"||n.target.parentNode.parentNode.parentNode.firstElementChild.textContent==="Sair?")&&callDellmetricsTrackForBot("880.130.858","Continue to Wait");chasitorTextMaintainState();isBinded=!1;bindHandler()}}catch(r){this.console.log("function error",r)}})}catch(n){console.log(n)}}function callDellmetricsTrackForBot(n,t){typeof dellmetricsTrack=="function"&&dellmetricsTrack&&(t?dellmetricsTrack(n,t):dellmetricsTrack(n))}function openBotPrechatform(n){if(document.getElementById("cusBotPreChatSnapinDom")){var t=document.querySelector(".modalContainer.embeddedServiceSidebar"),i=document.querySelector(".embeddedServiceSidebar .embeddedServiceSidebarMinimizedDefaultUI");t&&t.style.display=="none"?(callDellmetricsTrackForBot("880.130.852","Chat Window Load"),document.getElementById("cusBotPreChat-helpButtonEnabled").click()):i?i.click():document.getElementById("cusBotPreChat-helpButtonEnabled").click()}else callDellmetricsTrackForBot("880.130.852","Chat Window Load"),createBotCustPreChat(n)}function createBotCustPreChat(n){var t=createFixedLabels(n),i,r;i="applicationContext"in n&&n.applicationContext==="ChatBot-CareBot"?'<div id="cusBotPreChatSnapinDom" class="cusPreChat-modalContainer"><div class="cusPreChat-dockableContainer" style="max-height:520px;"><div class="cusPreChat-embeddedServiceSidebarHeader"><div class="cusPreChat-shortHeader"><div class="cusPreChat-shortHeaderContent"> <button id="cusBotPreChat-minimize-btn" class="cusPreChat-minimizeButton cusPreChat-headerItem cusBotPreChat-minimizeButton"> <span class="cusPreChat-assistiveText">Minimize chat<\/span> <span class="cusPreChat-minimize cusPreChat-x-small cusPreChat-embeddedServiceIcon"><svg focusable="false" aria-hidden="true" data-key="contract_alt" viewBox="0 0 100 100"> <path d="M56.923 45.962h29.615c1.924 0 2.5-2.116.962-3.654l-9.423-9.616 17.308-17.5c.96-.96.96-2.692 0-3.654L88.27 4.423c-.962-.77-2.5-.77-3.655.192L67.308 21.923 57.5 12.5c-1.538-1.538-3.654-.962-3.654.962v29.615c0 1.346 1.73 2.885 3.077 2.885zm-13.846 7.884H13.462c-1.924 0-2.5 2.116-.962 3.654l9.423 9.615-17.308 17.5c-.96.962-.96 2.693 0 3.654l7.116 7.115c.962.96 2.5.96 3.655 0l17.5-17.5 9.807 9.423c1.346 1.73 3.462 1.154 3.462-.77V57.115c0-1.346-1.73-3.27-3.077-3.27z"> <\/path> <\/svg><\/span> <\/button><h2 class="cusPreChat-headerText" style="text-align:center; padding-left: 0px;"><div class="cusPreChat-headerTextContent"> <span id="cusBotPreChat-headerTextLabel">Conversar Agora<\/span> <span id="cusBotPreChat-headerSubtext"> <\/span><\/div><\/h2> <button id="cusBotPreChat-close-btn" class="cusPreChat-closeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Close chat<\/span> <span class="cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" aria-hidden="true" data-key="close" viewBox="0 0 100 100"> <path d="M65.577 53.73l27.5-27.71c1.27-1.27 1.27-3.174 0-4.445l-4.23-4.44c-1.272-1.27-3.175-1.27-4.445 0L56.694 44.847c-.847.845-2.115.845-2.96 0L26.018 16.922c-1.27-1.27-3.174-1.27-4.445 0l-4.44 4.442c-1.27 1.27-1.27 3.174 0 4.444l27.71 27.71c.846.846.846 2.116 0 2.962L16.923 84.403c-1.27 1.27-1.27 3.174 0 4.444l4.442 4.442c1.27 1.268 3.174 1.268 4.444 0l27.71-27.713c.846-.847 2.116-.847 2.962 0L84.19 93.29c1.27 1.268 3.174 1.268 4.445 0l4.44-4.445c1.27-1.268 1.27-3.17 0-4.44l-27.5-27.712c-.847-.847-.847-2.115 0-2.96z"> <\/path> <\/svg> <\/span> <\/button><\/div><\/div><\/div><div class="cusPreChat-sidebarBody"><div id="cusBotPreChat-sidebarLoadingIndicator" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div class="cusPreChat-loadingBallContainer cusPreChat-animated cusPreChat-embeddedServiceLoadingBalls"> <span class="cusPreChat-loadingBall cusPreChat-first"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-second"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-third"> <\/span><\/div><\/div><div id="cusBotPreChat-alertMsgContainer" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div style="margin: 2.5em 1.75em;">Sorry, no agents are currently Avilable<\/div><div> <button id="cusBotPreChat-CloseChat" class="cusPreChat-embeddedServiceSidebarButton" type="button"><span class="cusPreChat-label cusPreChat-bBody">Close Chat<\/span> <\/button><\/div><\/div><div id="cusBotPreChat-hideWhileLoading" class="cusPreChat-activeFeature cusPreChat-hideWhileLoading"><div class="cusPreChat-featureBody cusPreChat-embeddedServiceSidebarFeature"><div class="cusPreChat-stateBody cusPreChat-embeddedServiceSidebarState"><div class="cusPreChat-prechatUI cusPreChat-embeddedServiceLiveAgentStatePrechatDefaultUI"><div class="cusPreChat-formContent cusPreChat-embeddedServiceSidebarForm"><ul id="cusBotPreChat-fieldList" class="cusPreChat-fieldList">'+t+'<li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"><div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel"> <span class="">Nome<\/span> <\/label> <input id="cusBotPreChat-FirstName" class="cusPreChat-FirstName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div> <\/span><\/li><li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"><div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="LastName"> <span class="">Sobrenome<\/span> <\/label> <input id="cusBotPreChat-LastName" class="cusPreChat-LastName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div> <\/span><\/li><li class="cusPreChat-inputEmail cusPreChat-embeddedServiceSidebarFormField"><div class="cusPreChat-uiInput cusPreChat-uiInputEmail cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel"> <span>Email<\/span> <\/label> <input id="cusBotPreChat-Email" class="cusPreChat-Email form-control cusPreChat-input" maxlength="80" type="email" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><li class="cusPreChat-inputPhone cusPreChat-embeddedServiceSidebarFormField"><div class="cusPreChat-uiInput cusPreChat-uiInputPhone cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel"> <span>Número de Telefone Principal<\/span> <\/label> <input id="cusBotPreChat-Phone" class="cusPreChat-Primary_Phone__c form-control cusPreChat-input" maxlength="40" type="tel" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><\/ul><div style="font-size: 12px;color:#767676;text-align: left;margin: 1em 1.75em; font-style: italic;color:#444444;" bis_skin_checked="1"><b>Sua privacidade é importante para nós.<\/b> Usaremos apenas suas informações para processar sua solicitação. Não o compartilharemos com ninguém. Para saber mais sobre como usamos e protegemos seus dados, consulte o&nbsp;<a target="_blank" href="//www.dell.com/learn/policies-privacy">Declaração de Privacidade da Dell.<\/a> <\/div><\/div><div class="cusPreChat-buttonWrapper cusPreChat-embeddedServiceSidebarForm"> <button id="cusBotPreChat-startChat" class="cusPreChat-startButton cusPreChat-uiButton--default cusPreChat-uiButton cusPreChat-embeddedServiceSidebarButton" type="button"> <span class="cusPreChat-label cusPreChat-bBody">Iniciar bate-papo<\/span> <\/button><\/div><\/div><\/div><\/div><\/div><\/div><\/div><\/div><div id="cusBotPreChat-embeddedServiceHelpButton" class="cusPreChat-embeddedServiceHelpButton" style="display: none;"><div class="cusPreChat-helpButton" style="width: 168px;"> <button id="cusBotPreChat-helpButtonEnabled" class="cusPreChat-uiButton cusPreChat-helpButtonEnabled" href="javascript:void(0)"> <span class="cusPreChat-embeddedServiceIcon" aria-hidden="true" style="display: inline-block; z-index: 1; float: left"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chat" width="100%" height="100%" style="height: 18px; width: 18px;"> <path d="M12 1.8C5.9 1.8 1 6.4 1 12c0 1.7.5 3.4 1.3 4.8.1.3.2.6.1.8l-1.4 4c-.2.3.2.6.6.6l3.9-1.6c.3-.1.5 0 .8.1 1.7.9 3.7 1.5 5.8 1.5 6 0 11-4.5 11-10.2C23 6.4 18.1 1.8 12 1.8zm-5.5 12c-1.1 0-1.9-.8-1.9-1.8s.8-1.8 1.9-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.9.8 1.9 1.8-.8 1.8-1.9 1.8z"><\/path> <\/svg> <\/span><div class="cusPreChat-helpButtonLabel" id="cusBotPreChat-helpButtonSpan" aria-live="polite" aria-atomic="true"> <span class="cusPreChat-assistiveText">Live chat:<\/span> <span class="cusPreChat-message">Conversar Agora<\/span><\/div> <\/button><\/div><\/div>':'<div id="cusBotPreChatSnapinDom" class="cusPreChat-modalContainer"><div class="cusPreChat-dockableContainer" style="max-height:520px;"><div class="cusPreChat-embeddedServiceSidebarHeader"><div class="cusPreChat-shortHeader"><div class="cusPreChat-shortHeaderContent"> <button id="cusBotPreChat-minimize-btn" class="cusPreChat-minimizeButton cusPreChat-headerItem cusBotPreChat-minimizeButton"> <span class="cusPreChat-assistiveText">Minimize chat<\/span> <span class="cusPreChat-minimize cusPreChat-x-small cusPreChat-embeddedServiceIcon"><svg focusable="false" aria-hidden="true" data-key="contract_alt" viewBox="0 0 100 100"> <path d="M56.923 45.962h29.615c1.924 0 2.5-2.116.962-3.654l-9.423-9.616 17.308-17.5c.96-.96.96-2.692 0-3.654L88.27 4.423c-.962-.77-2.5-.77-3.655.192L67.308 21.923 57.5 12.5c-1.538-1.538-3.654-.962-3.654.962v29.615c0 1.346 1.73 2.885 3.077 2.885zm-13.846 7.884H13.462c-1.924 0-2.5 2.116-.962 3.654l9.423 9.615-17.308 17.5c-.96.962-.96 2.693 0 3.654l7.116 7.115c.962.96 2.5.96 3.655 0l17.5-17.5 9.807 9.423c1.346 1.73 3.462 1.154 3.462-.77V57.115c0-1.346-1.73-3.27-3.077-3.27z"> <\/path> <\/svg><\/span> <\/button><h2 class="cusPreChat-headerText" style="text-align:center; padding-left: 0px;"><div class="cusPreChat-headerTextContent"> <span id="cusBotPreChat-headerTextLabel">Chat Now<\/span> <span id="cusBotPreChat-headerSubtext"> <\/span><\/div><\/h2> <button id="cusBotPreChat-close-btn" class="cusPreChat-closeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Close chat<\/span> <span class="cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" aria-hidden="true" data-key="close" viewBox="0 0 100 100"> <path d="M65.577 53.73l27.5-27.71c1.27-1.27 1.27-3.174 0-4.445l-4.23-4.44c-1.272-1.27-3.175-1.27-4.445 0L56.694 44.847c-.847.845-2.115.845-2.96 0L26.018 16.922c-1.27-1.27-3.174-1.27-4.445 0l-4.44 4.442c-1.27 1.27-1.27 3.174 0 4.444l27.71 27.71c.846.846.846 2.116 0 2.962L16.923 84.403c-1.27 1.27-1.27 3.174 0 4.444l4.442 4.442c1.27 1.268 3.174 1.268 4.444 0l27.71-27.713c.846-.847 2.116-.847 2.962 0L84.19 93.29c1.27 1.268 3.174 1.268 4.445 0l4.44-4.445c1.27-1.268 1.27-3.17 0-4.44l-27.5-27.712c-.847-.847-.847-2.115 0-2.96z"> <\/path> <\/svg> <\/span> <\/button><\/div><\/div><\/div><div class="cusPreChat-sidebarBody"><div id="cusBotPreChat-sidebarLoadingIndicator" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div class="cusPreChat-loadingBallContainer cusPreChat-animated cusPreChat-embeddedServiceLoadingBalls"> <span class="cusPreChat-loadingBall cusPreChat-first"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-second"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-third"> <\/span><\/div><\/div><div id="cusBotPreChat-alertMsgContainer" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div style="margin: 2.5em 1.75em;">Sorry, no agents are currently Avilable<\/div><div> <button id="cusBotPreChat-CloseChat" class="cusPreChat-embeddedServiceSidebarButton" type="button"><span class="cusPreChat-label cusPreChat-bBody">Close Chat<\/span> <\/button><\/div><\/div><div id="cusBotPreChat-hideWhileLoading" class="cusPreChat-activeFeature cusPreChat-hideWhileLoading"><div class="cusPreChat-featureBody cusPreChat-embeddedServiceSidebarFeature"><div class="cusPreChat-stateBody cusPreChat-embeddedServiceSidebarState"><div class="cusPreChat-prechatUI cusPreChat-embeddedServiceLiveAgentStatePrechatDefaultUI"><div class="cusPreChat-formContent cusPreChat-embeddedServiceSidebarForm"><ul id="cusBotPreChat-fieldList" class="cusPreChat-fieldList">'+t+'<li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"><div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel"> <span class="">First Name<\/span> <\/label> <input id="cusBotPreChat-FirstName" class="cusPreChat-FirstName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div> <\/span><\/li><li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"><div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="LastName"> <span class="">Last Name<\/span> <\/label> <input id="cusBotPreChat-LastName" class="cusPreChat-LastName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div> <\/span><\/li><li class="cusPreChat-inputEmail cusPreChat-embeddedServiceSidebarFormField"><div class="cusPreChat-uiInput cusPreChat-uiInputEmail cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel"> <span>Email<\/span> <\/label> <input id="cusBotPreChat-Email" class="cusPreChat-Email form-control cusPreChat-input" maxlength="80" type="email" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><li class="cusPreChat-inputPhone cusPreChat-embeddedServiceSidebarFormField"><div class="cusPreChat-uiInput cusPreChat-uiInputPhone cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel"> <span>Phone Number<\/span> <\/label> <input id="cusBotPreChat-Phone" class="cusPreChat-Primary_Phone__c form-control cusPreChat-input" maxlength="40" type="tel" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><\/ul><div style="font-size: 12px;color:#767676;text-align: left;margin: 1em 1.75em; font-style: italic;color:#444444;" bis_skin_checked="1"><b>Your privacy is important to us.<\/b> We will only use your information to process your request. We will not share it with anyone. To learn more about how we use and protect your data, see the&nbsp;<a target="_blank" href="//www.dell.com/learn/policies-privacy">Dell Privacy Statement.<\/a> <\/div><\/div><div class="cusPreChat-buttonWrapper cusPreChat-embeddedServiceSidebarForm"> <button id="cusBotPreChat-startChat" class="cusPreChat-startButton cusPreChat-uiButton--default cusPreChat-uiButton cusPreChat-embeddedServiceSidebarButton" type="button"> <span class="cusPreChat-label cusPreChat-bBody">Start Chat<\/span> <\/button><\/div><\/div><\/div><\/div><\/div><\/div><\/div><\/div><div id="cusBotPreChat-embeddedServiceHelpButton" class="cusPreChat-embeddedServiceHelpButton" style="display: none;"><div class="cusPreChat-helpButton" style="width: 168px;"> <button id="cusBotPreChat-helpButtonEnabled" class="cusPreChat-uiButton cusPreChat-helpButtonEnabled" href="javascript:void(0)"> <span class="cusPreChat-embeddedServiceIcon" aria-hidden="true" style="display: inline-block; z-index: 1; float: left"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chat" width="100%" height="100%" style="height: 18px; width: 18px;"> <path d="M12 1.8C5.9 1.8 1 6.4 1 12c0 1.7.5 3.4 1.3 4.8.1.3.2.6.1.8l-1.4 4c-.2.3.2.6.6.6l3.9-1.6c.3-.1.5 0 .8.1 1.7.9 3.7 1.5 5.8 1.5 6 0 11-4.5 11-10.2C23 6.4 18.1 1.8 12 1.8zm-5.5 12c-1.1 0-1.9-.8-1.9-1.8s.8-1.8 1.9-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.9.8 1.9 1.8-.8 1.8-1.9 1.8z"><\/path> <\/svg> <\/span><div class="cusPreChat-helpButtonLabel" id="cusBotPreChat-helpButtonSpan" aria-live="polite" aria-atomic="true"> <span class="cusPreChat-assistiveText">Live chat:<\/span> <span class="cusPreChat-message">Chat Now<\/span><\/div> <\/button><\/div><\/div>';r=document.body||document.getElementsByTagName("body")[0];r.insertAdjacentHTML("beforeend",i);document.getElementById("cusBotPreChat-minimize-btn").addEventListener("click",custMinimizeBtnClickedInBot);document.getElementById("cusBotPreChat-close-btn").addEventListener("click",custCloseBtnClickedInBot);document.getElementById("cusBotPreChat-helpButtonEnabled").addEventListener("click",maximizeCustBotPrechat);custBotPreChatKeypressFieldValidation();prePopulateCustBotPreFormValues(n);document.getElementById("cusBotPreChat-startChat").addEventListener("click",function(){startSnapinChatBot(n)})}function createFixedLabels(n){var t="",i="",r;return"applicationContext"in n&&n.applicationContext!=="ChatBot-CareBot"&&n.applicationContext!=="ChatBot-CareEnglish"?("product_Model"in n&&!(n.product_Model===""||n.product_Model===null||n.product_Model===undefined)&&(t='<div style="font-size: 1.2em;">'+n.product_Model+"<\/div>"),"issue_Description"in n&&!(n.issue_Description===""||n.issue_Description===null||n.issue_Description===undefined)&&(i="<div><b>Issue:<\/b> "+n.issue_Description+"<\/div>"),'<div id="readonlyPreChatContainer" class="cusPreChat-readonlyContainer" style="margin: 1em 0px 0px 15px; text-align: left;position: relative;font-size: .75em;color: #444444;" bis_skin_checked="1">'+t+i+'<div> <b>Service Tag:<\/b> <span  id="botServiceTagLabel">'+n.Service_Tag+"<\/span><\/div><\/div>"):(r="applicationContext"in n&&n.applicationContext==="ChatBot-CareBot"?"ID do pedido":"Order ID",'<div id="readonlyPreChatContainer" class="cusPreChat-readonlyContainer" style="margin: 1em 0px 0px 15px; text-align: left;position: relative;font-size: .75em;color: #444444;" bis_skin_checked="1"><div> <b>'+r+':<\/b> <span  id="botCareChatOrderNumberLabel">'+n.CARE_Chat_Order_Number+"<\/span><\/div><\/div>")}function startSnapinChatBot(n){chatBotFieldsValidated(n)&&(callDellmetricsTrackForBot("880.130.853","Start Chat in Popup"),loadingSnapinBotQueue(),n=addCustBotFormDetailsTo(n),checkForCareCustomerVarification(n),saveGlobalSnapinBotObjToSession(n),eleExistWithVariable(".embeddedServiceSidebar .startButton",ChatBotStarted,n))}function checkForCareCustomerVarification(n){var t,i;try{(n.applicationContext==="ChatBot-CareBot"||n.applicationContext==="ChatBot-CareEnglish")&&(i={Buid:n.buid,OrderNumber:n.c_CARE_Chat_Order_Number,FirstName:n.c_firstName,LastName:n.c_lastName,EmailAddress:n.c_email,PhoneNumber:n.c_phoneNo},t=IsVerifiedCareChat(i))}catch(r){return t=!1}pushVarifiedCustomerFlagToBot(t)}function pushVarifiedCustomerFlagToBot(n){try{var t=embedded_svc.settings.extraPrechatFormDetails,i=0;t&&t.forEach(function(t){var r=t.transcriptFields[0];r==="VA_Flag__c"&&(embedded_svc.settings.extraPrechatFormDetails[i].value=n);i++})}catch(r){console.log("Error on pushVarifiedCustomerFlagToBot",r)}}function loadingSnapinBotQueue(){document.getElementById("cusBotPreChat-sidebarLoadingIndicator").style.display="flex";document.getElementById("cusBotPreChat-hideWhileLoading").style.display="none";document.getElementById("cusBotPreChat-minimize-btn").style.display="none";document.getElementById("cusBotPreChat-close-btn").style.display="none"}function snapinBotQueueLoaded(){try{document.getElementById("cusBotPreChat-sidebarLoadingIndicator")&&(document.getElementById("cusBotPreChat-sidebarLoadingIndicator").style.display="none",document.getElementById("cusBotPreChat-hideWhileLoading").style.display="block",document.getElementById("cusBotPreChat-minimize-btn").style.display="block",document.getElementById("cusBotPreChat-close-btn").style.display="block",closeCustBotPrechat());var n=document.querySelector(".modalContainer.embeddedServiceSidebar");n&&(n.style.display="block")}catch(t){console.log("Exception at method name snapinBotQueueLoaded :"+t)}}function ChatBotStarted(n,t,i){try{changeBotPrechatValues(i);document.querySelector(" .embeddedServiceSidebar .dockableContainer .prechatUI  .embeddedServiceSidebarForm .embeddedServiceSidebarButton").click();clearInterval(t)}catch(r){console.log("Error in:"+r)}}function changeBotPrechatValues(n){var t=embedded_svc.sidebarInstanceMap[Object.keys(embedded_svc.sidebarInstanceMap)[0]].getActiveState(),i=t.get("v.prechatFields");i.forEach(function(t){t.name==="FirstName"?t.value=n.c_firstName:t.name==="LastName"?t.value=n.c_lastName:t.name==="Email"?t.value=n.c_email:t.name==="Primary_Phone__c"?t.value=n.c_phoneNo:t.name==="Phone"?t.value=n.c_phoneNo:t.name==="Service_Tag__c"?t.value=n.Service_Tag:t.name==="Application_Context__c"?t.value=n.applicationContext:t.name==="CARE_Chat_Order_Number__c"?t.value=n.CARE_Chat_Order_Number:console.log("ValueName"+t.name)});t.set("v.prechatFields",i)}function custMinimizeBtnClickedInBot(){callDellmetricsTrackForBot("880.130.854","Minimize");minimizeCustBotPrechat()}function minimizeCustBotPrechat(){document.getElementById("cusBotPreChat-embeddedServiceHelpButton").style.display="block";document.getElementById("cusBotPreChatSnapinDom").style.display="none"}function custCloseBtnClickedInBot(){callDellmetricsTrackForBot("880.130.855","Close");closeCustBotPrechat()}function closeCustBotPrechat(){document.getElementById("cusBotPreChat-embeddedServiceHelpButton").style.display="none";document.getElementById("cusBotPreChatSnapinDom").style.display="none"}function maximizeCustBotPrechat(){document.getElementById("cusBotPreChat-embeddedServiceHelpButton").style.display="none";document.getElementById("cusBotPreChatSnapinDom").style.display="block"}function prePopulateCustBotPreFormValues(n){"First_Name"in n&&n.First_Name!==null&&(document.getElementById("cusBotPreChat-FirstName").value=n.First_Name);"Last_Name"in n&&n.Last_Name!==null&&(document.getElementById("cusBotPreChat-LastName").value=n.Last_Name);"Email"in n&&n.Email!==null&&(document.getElementById("cusBotPreChat-Email").value=n.Email);"Phone"in n&&n.Phone!==null&&(document.getElementById("cusBotPreChat-Phone").value=n.Phone);"Service_Tag"in n&&n.Service_Tag!==null&&document.getElementById("botServiceTagLabel")&&(document.getElementById("botServiceTagLabel").value=n.Service_Tag);"CARE_Chat_Order_Number"in n&&n.CARE_Chat_Order_Number!==null&&document.getElementById("botCareChatOrderNumberLabel")&&(console.log("chatBotObject.CARE_Chat_Order_Number",n.CARE_Chat_Order_Number),document.getElementById("botCareChatOrderNumberLabel").innerText=n.CARE_Chat_Order_Number)}function chatBotFieldsValidated(n){var t,f=document.getElementById("cusBotPreChat-FirstName"),e=document.getElementById("cusBotPreChat-LastName"),h=document.getElementById("cusBotPreChat-Email"),u=document.getElementById("cusBotPreChat-Phone"),r="This is a required field",c="Invalid Email id",o,i,s;return n.applicationContext==="ChatBot-CareBot"&&(r="Este é um campo obrigatório",c="ID de email inválido"),document.getElementById("ErrMsg_cusBotPreChat-Email")&&(i=document.getElementById("ErrMsg_cusBotPreChat-Email"),i.parentNode.removeChild(i)),t=h.value?cusBotPreChatInvalidEmail(h,c):cusBotPreChatEleIsEmpty(h,r),document.getElementById("ErrMsg_cusBotPreChat-FirstName")&&!f.value?t=!1:f.value?document.getElementById("ErrMsg_cusBotPreChat-FirstName")?(i=document.getElementById("ErrMsg_cusBotPreChat-FirstName"),i.parentNode.removeChild(i)):(o=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkBotErrMsgValidation(f,"FirstName",o,!0)&&(cusBotPreChatErrorMsgPlaceholder(f,r),t=!1)):t=cusBotPreChatEleIsEmpty(f,r),document.getElementById("ErrMsg_cusBotPreChat-LastName")&&!e.value?t=!1:e.value?document.getElementById("ErrMsg_cusBotPreChat-LastName")?(i=document.getElementById("ErrMsg_cusBotPreChat-LastName"),i.parentNode.removeChild(i)):(o=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkBotErrMsgValidation(e,"LastName",o,!0)&&(cusBotPreChatErrorMsgPlaceholder(e,r),t=!1)):t=cusBotPreChatEleIsEmpty(e,r),document.getElementById("ErrMsg_cusBotPreChat-Phone")&&!u.value?t=!1:u.value?document.getElementById("ErrMsg_cusBotPreChat-Phone")?(i=document.getElementById("ErrMsg_cusBotPreChat-Phone"),i.parentNode.removeChild(i),s=/^[0-9-]*$/,checkBotErrMsgValidation(u,"Phone",s,!1)?(cusBotPreChatErrorMsgPlaceholder(u,r),t=!1):t=!0):(s=/^[0-9-]*$/,checkBotErrMsgValidation(u,"Phone",s,!1)&&(cusBotPreChatErrorMsgPlaceholder(u,r),t=!1)):t=cusBotPreChatEleIsEmpty(u,r),t===undefined&&(t=!0),t}function checkBotErrMsgValidation(n,t,i,r){if(n.value&&i.test(n.value)==r||!n.value)return!0;var f="ErrMsg_cusBotPreChat-"+t,u=document.getElementById(f);return u&&u.parentNode.removeChild(u),!1}function cusBotPreChatEleIsEmpty(n,t){return cusBotPreChatErrorMsgPlaceholder(n,t),!1}function cusBotPreChatInvalidEmail(n,t){if(!cusBotPreChatvalidateEmail(n.value))return cusBotPreChatErrorMsgPlaceholder(n,t),!1}function cusBotPreChatvalidateEmail(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}function cusBotPreChatBlockListEmailValidation(n,t){var u=t.split("|"),n=n.toUpperCase(),r;for(i=0;i<u.length;i++)if(r=u[i],r=r.toUpperCase(),n===r)return!0;return!1}function cusBotPreChatErrorMsgPlaceholder(n,t){try{var r=n.parentNode,i=document.createElement("ul");i.innerHTML='<li class="cusPreChat-form-element__help">'+t+"<\/li>";i.id="ErrMsg_"+n.id;i.className="cusPreChat-has-error cusPreChat-uiInput";r.parentNode.insertBefore(i,r.nextSibling)}catch(u){Console.log(u)}}function custBotPreChatKeypressFieldValidation(){function n(n,i){/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t(n))==!0?(n.preventDefault(),alert(orderSnapinLabelObj.pasteInvalidTextMsg)):i==="cusBotPreChat-FirstName"&&document.getElementById("ErrMsg_cusBotPreChat-FirstName")?removeDomElementbyId("ErrMsg_cusBotPreChat-FirstName"):i==="cusBotPreChat-LastName"&&document.getElementById("ErrMsg_cusBotPreChat-LastName")&&removeDomElementbyId("ErrMsg_cusBotPreChat-LastName")}function t(n){return n.clipboardData&&n.clipboardData.getData?n.clipboardData.getData("text/plain"):null}var r="This is a required field",u="Invalid Phone Number",f="Invalid Email id";typeof Application_Context!="undefined"&&Application_Context==="ChatBot-CareBot"&&(r="Este é um campo obrigatório",u="Número de telefone inválido",f="ID de email inválido");document.getElementById("cusBotPreChat-Phone").onkeypress=function(n){var t=[],r=n.which||n.keyCode;for(i=48;i<58;i++)t.push(i);t.push(45);t.push(8);t.push(9);t.indexOf(r)>=0?document.getElementById("ErrMsg_cusBotPreChat-Phone")&&removeDomElementbyId("ErrMsg_cusBotPreChat-Phone"):n.preventDefault()};document.getElementById("cusBotPreChat-FirstName").onkeypress=function(n){var t=n.which||n.keyCode;t>64&&t<91||t>96&&t<123||t==8||t==9?document.getElementById("ErrMsg_cusBotPreChat-FirstName")&&removeDomElementbyId("ErrMsg_cusBotPreChat-FirstName"):n.preventDefault()};document.getElementById("cusBotPreChat-LastName").onkeypress=function(n){var t=n.which||n.keyCode;t>64&&t<91||t>96&&t<123||t==8||t==9?document.getElementById("ErrMsg_cusBotPreChat-LastName")&&removeDomElementbyId("ErrMsg_cusBotPreChat-LastName"):n.preventDefault()};document.getElementById("cusBotPreChat-Email").onkeypress=function(n){var t=n.which||n.keyCode;t>63&&t<91||t>96&&t<123||t>47&&t<58||t==45||t==46||t==95||t==8||t==9?document.getElementById("ErrMsg_cusBotPreChat-Email")&&removeDomElementbyId("ErrMsg_cusBotPreChat-Email"):n.preventDefault()};document.getElementById("cusBotPreChat-FirstName").addEventListener("paste",function(t){n(t,"cusBotPreChat-FirstName")});document.getElementById("cusBotPreChat-LastName").addEventListener("paste",function(t){n(t,"cusBotPreChat-LastName")});document.getElementById("cusBotPreChat-Email").addEventListener("paste",function(n){/[!#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(t(n))==!0?(n.preventDefault(),alert(f)):document.getElementById("ErrMsg_cusBotPreChat-Email")&&removeDomElementbyId("ErrMsg_cusBotPreChat-Email")});document.getElementById("cusBotPreChat-Phone").addEventListener("paste",function(n){/^[0-9-]*$/.test(t(n))==!1?(n.preventDefault(),alert(u)):document.getElementById("ErrMsg_cusBotPreChat-Phone")&&removeDomElementbyId("ErrMsg_cusBotPreChat-Phone")});document.getElementById("cusBotPreChat-FirstName").addEventListener("change",function(){n(this.value,this.id)});document.getElementById("cusBotPreChat-LastName").addEventListener("change",function(){n(this.value,this.id)});document.getElementById("cusBotPreChat-Email").addEventListener("change",function(){!/[!#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(this.value)&&document.getElementById("ErrMsg_cusBotPreChat-Email")&&removeDomElementbyId("ErrMsg_cusBotPreChat-Email")});document.getElementById("cusBotPreChat-Phone").addEventListener("change",function(){/^[0-9-]*$/.test(this.value)==!0&&document.getElementById("ErrMsg_cusBotPreChat-Phone")?removeDomElementbyId("ErrMsg_cusBotPreChat-Phone"):/^[0-9-]*$/.test(this.value)!=!1||document.getElementById("ErrMsg_cusBotPreChat-Phone")||cusBotPreChatErrorMsgPlaceholder(this,r)})}function addCustBotFormDetailsTo(n){return n.c_firstName=document.getElementById("cusBotPreChat-FirstName").value,n.c_lastName=document.getElementById("cusBotPreChat-LastName").value,n.c_email=document.getElementById("cusBotPreChat-Email").value,n.c_phoneNo=document.getElementById("cusBotPreChat-Phone").value,document.getElementById("botServiceTagLabel")&&(n.c_serviceTag=document.getElementById("botServiceTagLabel").innerText),document.getElementById("botCareChatOrderNumberLabel")&&(n.c_CARE_Chat_Order_Number=document.getElementById("botCareChatOrderNumberLabel").innerText),n}function saveGlobalSnapinBotObjToSession(n){if(n){var t=JSON.stringify(n);sessionStorage.setItem("chatBotObjectSession",t)}}function snapinBotPageObserver(n){var t;try{t=document.querySelector(".modalContainer.loading.initialLoading");snapInPrechatForm=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI");snapInWaiting=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer");snapInChatStarted=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText");snapInConfirmationDialoug=document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer");snapInhelpBtnDisabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonDisabled");snapInhelpBtnEnabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonEnabled");t?snapInCurrentPage="snapInLoadingPrechatForm":snapInPrechatForm?snapInCurrentPage="snapInPrechatForm":snapInWaiting?snapInCurrentPage="snapInWaiting":snapInChatStarted?snapInCurrentPage="snapInChatStarted":snapInConfirmationDialoug?snapInCurrentPage="snapInConfirmationDialoug":snapInhelpBtnDisabled?snapInCurrentPage="snapInhelpBtnDisabled":snapInhelpBtnEnabled?snapInhelpBtnEnabled="snapInhelpBtnEnabled":snapInCurrentPage=null;var i=window.MutationObserver||window.WebKitMutationObserver,r=function(n){n.forEach(function(n){n.addedNodes.length>0&&(t=document.querySelector(".modalContainer.loading.initialLoading"),snapInPrechatForm=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI"),snapInWaiting=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer"),snapInChatStarted=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText"),snapInConfirmationDialoug=document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer"),snapInhelpBtnDisabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonDisabled"),snapInhelpBtnEnabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonEnabled"),snapInEmbeddedServiceHelpBtn=document.querySelector(".embeddedServiceHelpButton"),t&&snapInCurrentPage!="snapInLoadingPrechatForm"?(snapInCurrentPage="snapInLoadingPrechatForm",serviceSidebar=document.querySelector(".modalContainer.embeddedServiceSidebar"),serviceSidebar.style.display="none"):snapInPrechatForm&&snapInCurrentPage!="snapInPrechatForm"?(snapInCurrentPage="snapInPrechatForm",serviceSidebar=document.querySelector(".modalContainer.embeddedServiceSidebar"),serviceSidebar.style.display="none"):snapInWaiting&&snapInCurrentPage!="snapInWaiting"?(snapInCurrentPage="snapInWaiting",snapinBotQueueLoaded()):snapInChatStarted&&snapInCurrentPage!="snapInChatStarted"?(snapInCurrentPage="snapInChatStarted",snapinBotQueueLoaded()):snapInConfirmationDialoug&&snapInCurrentPage!="snapInConfirmationDialoug"?snapInCurrentPage="snapInConfirmationDialoug":snapInhelpBtnDisabled&&window.getComputedStyle(snapInhelpBtnDisabled).display==="flex"&&snapInCurrentPage!="snapInhelpBtnDisabled"?snapInCurrentPage="snapInhelpBtnDisabled":snapInhelpBtnEnabled&&window.getComputedStyle(snapInhelpBtnEnabled).display==="flex"&&snapInCurrentPage!="snapInhelpBtnEnabled"&&(snapInCurrentPage="snapInhelpBtnEnabled"))})},u=new i(r),f=document.querySelector(n);u.observe(f,{childList:!0,subtree:!0})}catch(e){Console.log("Error in Observer - "+e)}}function chatBotClick(n,t){try{document.querySelector(n).innerText==="Get Started"&&document.querySelector(n).click();clearInterval(t)}catch(i){Console.log("Error in:"+i)}}function onChatBotServiceTagChange(){var n=document.getElementById("cusBotPreChatSnapinDom");n&&n.parentNode.removeChild(n)}function triggerSnapinWithoutPrecaht(n){initSnapIn(n);eleExist(".helpButtonEnabled #helpButtonSpan > .message",chatClick);eleExist(".embeddedServiceHelpButton",hideDomObject);eleExistWithVariable(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI",hideOtherDomObject,".embeddedServiceSidebar");var t=document.body||document.getElementsByTagName("body")[0];t.insertAdjacentHTML("beforeend",'<div id="cusPreChatSnapinDom" class="cusPreChat-modalContainer" style="display: none;"> <div class="cusPreChat-dockableContainer"> <div class="cusPreChat-embeddedServiceSidebarHeader"> <div class="cusPreChat-shortHeader"> <div class="cusPreChat-shortHeaderContent">  <h2 class="cusPreChat-headerText"> <div class="cusPreChat-headerTextContent"> <span id="cusPreChat-headerTextLabel">Chat Now<\/span> <span id="cusPreChat-headerSubtext"> <\/span><\/div><\/h2>  <\/div><\/div><\/div><div class="cusPreChat-sidebarBody"> <div id="cusPreChat-sidebarLoadingIndicator" class="cusPreChat-sidebarLoadingIndicator"> <div class="cusPreChat-loadingBallContainer cusPreChat-animated cusPreChat-embeddedServiceLoadingBalls"> <span class="cusPreChat-loadingBall cusPreChat-first"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-second"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-third"> <\/span><\/div><\/div><div id="cusPreChat-alertMsgContainer" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div style="margin: 2.5em 1.75em;">Sorry Currently Chat is not Avilable<\/div><div><button id="cusPreChat-CloseChat" class="cusPreChat-embeddedServiceSidebarButton" type="button"><span class="cusPreChat-label cusPreChat-bBody">Close Chat<\/span><\/button><\/div><\/div><\/div><\/div><\/div>');pageObserverForProp20("body")}function bindHandler(){if(!isBinded){$("ul[class*='messageWrapper']").on("DOMSubtreeModified",this.messageReceived);isBinded=!0}}function SetToDefaultValues(){isBinded=!1}function executeCommand(n){n.redirectURL!=null&&(n.execute(),n="",consoleLog("Executing Command"),isMessageFinished=!1)}function messageReceived(n){var r;if(n.currentTarget.lastElementChild.childNodes.length>2){var t=n.currentTarget.lastElementChild.childNodes[1].innerText,u=n.currentTarget.childElementCount,i=sessionStorage.getItem("GR_MessageCount");i=i==null?0:i;u>parseInt(i)&&(sessionStorage.setItem("GR_MessageCount",u),lastmessage!=t&&t!=""?(lastmessage=t,r=new getCommand(t),r.redirectURL!=null&&waitForMessageToOver(executeCommand(r))):(consoleLog("Message Finished"),isMessageFinished=!0))}}function UpdateSystemOS(n){if(n.toUpperCase()!="OTHER"&&window.sessionStorage.getItem("chatBotObjectSession")!=null){var t=JSON.parse(window.sessionStorage.getItem("chatBotObjectSession"));t.ChatBotInfo.oSissueManualBot=n;t.ChatBotInfo.manualTroubleshootURL=UpdateManualsUrl(t.ChatBotInfo.issueDescription,n);window.sessionStorage.setItem("chatBotObjectSession",JSON.stringify(t))}}function ProcessChildMessage(n){try{HideLoader();var t=document.getElementsByClassName("chasitorText")[0],i=document.createEvent("Event");i.initEvent("keydown",!0,!1);i.which=i.keyCode=13;t.value=n;t.removeAttribute("disabled");t.dispatchEvent(i);t.setAttribute("disabled","disabled")}catch(r){console.error("Error found while posting message to chatbot : "+r)}}function processChatBotCommand(){serviceTagInfoDeffer.then(function(n){consoleLog(JSON.stringify(n));GetChatBotinfo().then(function(n){if(sessionStorage.getItem("ChatBot_SessionKey")!=null&&(n.chatKey=sessionStorage.getItem("ChatBot_SessionKey")),sessionStorage.getItem("chatBotObjectSession")!=null){var t=JSON.parse(sessionStorage.getItem("chatBotObjectSession"));serviceTagInfo!=null&&serviceTagInfo.isSystemInfoCompleted=="true"?(n.oSissueManualBot=serviceTagInfo.OSCode,n.isDsdInstalled=serviceTagInfo.isDsdInstalled,n.systemOS=!0):(n.oSissueManualBot=t.OSCode,n.isDsdInstalled=t.isDsdInstalled,n.systemOS=!1);n.firstName=t.c_firstName;n.lastName=t.c_lastName;n.email=t.c_email;n.contactNumber=t.c_phoneNo;n.caseNumber="0";n.serviceTag=t.Service_Tag;n.productModel=t.product_Model;n.kb=t.IssueDesc;n.issueDescription=t.IssueDesc;n.agentQueueName=t.SFDCId;n.applicationContext=t.applicationContext;n.isDsdInstalled=="false"&&(n.isSwAlert=!1);UpdateDriverScanURL(n.isSwAlert,n.serviceTag);n.driverPageURL=driverPageURL;n.manualTroubleshootURL=UpdateManualsUrl(t.IssueType,n.oSissueManualBot);SrRedirectURL=n.eSupportSrRedirectURL;DispatchRedirectURL=n.eSupportDispatchRedirectURL;t.ChatBotInfo=n;sessionStorage.setItem("chatBotObjectSession",JSON.stringify(t));SendResponseToChatbot(t.ChatBotInfo).then(function(){ProcessChildMessage("...")}).fail(function(n){console.error("processChatBotCommand|ESB end point threw error"+JSON.stringify(n));ProcessChildMessage("....")})}}).fail(function(n){console.error("rejected promise in method GetChatBotinfo"+JSON.stringify(n));ProcessChildMessage("....")})}).fail(function(n){consoleLog("rejected promise in method SA"+JSON.stringify(n));console.error("processChatBotCommand|rejected promise in method SA"+JSON.stringify(n));ProcessChildMessage("....")})}function UpdateDriverScanURL(n,t){try{if(n!=undefined&&t!=undefined&&n){var i=GetLwpDetails_SEO();!t.indexOf("0-")==0&&(t="0-"+t);driverPageURL=driverPageURL.format(i,t)}}catch(r){consoleLog(r)}}function UpdateQuickTestUrl(){var n,t;try{n=window.sessionStorage.getItem("encTagFromSA");n?(t=GetLwpDetails_SEO(),!n.indexOf("0-")==0&&(n="0-"+n),quickTestURL=quickTestURL.format(t,n)):consoleLog("Method: UpdateQuickTestUrl > serviceTag: "+n)}catch(i){consoleLog(i)}return quickTestURL}function popupAdWindow(n,t){document.getElementsByClassName("helpButton").length!=0&&(n="Chat",t="Troubleshoot your PC’s performance issues now using our automated assistant",document.getElementsByClassName("helpButton")[0].insertAdjacentHTML("beforeend",'<div class="talk-bubble tri-right border btm-right-in tag-remove"><li class="close" onclick="closeBubble()">&times;<\/li><div class="talktext"><h3 class="text-header-left">'+n+"<\/h3><p>"+t+"<\/p><\/div><\/div>"))}function closeBubble(){var n=document.getElementsByClassName("close");n[0].parentElement.style.display="none"}function processODESucessresponse(n,t,i,r){if(sessionStorage.getItem("chatBotObjectSession")!=null){var u=JSON.parse(sessionStorage.getItem("chatBotObjectSession")).ChatBotInfo;u.isHwAlert=n;u.isHardDriveTestPassed=t;u.isSwAlert=i;u.quickSATestMsg="Results Available";u.quickSATest="C";u.componentFailure=r;UpdateDriverScanURL(i,u.serviceTag);SendResponseToChatbot(u).then(function(){waitForElement(".chasitorText",function(){setTimeout(function(){ProcessChildMessage("...")},2e3)})}).fail(function(){waitForElement(".chasitorText",function(){setTimeout(function(){ProcessChildMessage("....")},2e3)})})}}function processODEProgress(n,t){if(sessionStorage.getItem("chatBotObjectSession")!=null){var i=JSON.parse(sessionStorage.getItem("chatBotObjectSession")).ChatBotInfo;i.quickSATestMsg=n;i.quickSATest=t;SendResponseToChatbot(i).then(function(){ProcessChildMessage("...")}).fail(function(n){consoleLog("rejected promise"+n);ProcessChildMessage("....")})}}function updateSrInfoToSfdc(n){if(sessionStorage.getItem("chatBotObjectSession")!=null){var t=JSON.parse(sessionStorage.getItem("chatBotObjectSession")).ChatBotInfo;t.srNumber=n;SendResponseToChatbot(t).then(function(){ProcessChildMessage("...")}).fail(function(n){consoleLog("rejected promise"+n);ProcessChildMessage("....")})}}function SendPartialResponseToChatbot(n){var i=JSON.stringify(n);consoleLog(i);var r="",f=GetLwpDetails_SEO(),t=$.Deferred();try{sessionStorage.getItem("chatBotObjectSession")!=null&&(r="/support/guidedpath/"+f+"/DigitalResolution/ChatBotUpdate");$.ajax({url:r,data:i,dataType:"json",type:"PUT",contentType:"application/json; charset=utf-8",success:function(n){t.resolve(n)},error:function(n){consoleLog(n);t.reject(n)}})}catch(u){consoleLog("Response error"+u);t.reject(u)}return t.promise()}function SendResponseToChatbot(n){var r=JSON.stringify(n);consoleLog(r);var u="",f=GetLwpDetails_SEO(),t=$.Deferred();try{sessionStorage.getItem("chatBotObjectSession")!=null&&(u="/support/guidedpath/"+f+"/DigitalResolution/ChatBotUpdate");$.ajax({url:u,data:r,dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",success:function(n){t.resolve(n)},error:function(n){consoleLog(n);console.error("SendResponseToChatbot "+n);t.reject(n)}})}catch(i){consoleLog("Response error"+i);console.error("SendResponseToChatbot "+i);t.reject(i)}return t.promise()}function UpdateManualsUrl(n,t){var i=GetLwpDetails_SEO();return i==undefined?manualTroubleshootURL.format("en-us","pcslow",t):manualTroubleshootURL.format(i,"pcslow",t)}function GetCurrentSysInfo(n){var t=$.Deferred();try{n.getClientSystemInfo(!0,!1,!1,function(n){n!=null&&n.data!=null?t.resolve(n.data):(consoleLog(n),t.reject(n))},function(n){consoleLog(n);t.reject(n)})}catch(i){console.error("Exception in getClientSystemInfo ; Method: GetCurrentSysInfo > Error: "+i);t.reject(i)}return t}function requestDeviceDriversScan(n,t){var i=$.Deferred();try{n.getDeviceDrivers(function(n){window.sessionStorage.setItem("Ode_DriverScan",JSON.stringify(n));var t=n;n.data!=undefined&&n.data!=null&&(t.ProductScanEnabled=n.data.ProductScanEnabled,t.ProductCode=n.data.ProductCode,t.ServiceTag=n.data.ServiceTag,t.OSLocale=n.data.OSLocale,t.OSCode=n.data.OSCode,t.Status=n.data.Status,t.Error=n.data.Error,t.Message=n.data.Message,t.UpdatesFound=n.data.UpdatesFound,t.DellUpdate=n.data.DellUpdate,t.Updates=n.data.Updates);window.sessionStorage.setItem("DriverScanData",JSON.stringify(t));console.log("DriverScanData = "+JSON.stringify(t));i.resolve(n)},function(n){consoleLog("Error Occured in Drivers Scan !");i.reject(n)},!0,t)}catch(r){console.error("Exception in getDeviceDrivers ; Method: requestDeviceDriversScan > Error: "+r);i.reject(r)}return i.promise()}function requestGetDriverScanStatus(n,t){var i=$.Deferred();try{n.getDriverScanStatus(function(n){if(n.FinalResponse===!0&&n.Progress.CurrentValue===100){window.sessionStorage.setItem("Ode_DriverScan",JSON.stringify(n));var t=n;n.data!=undefined&&n.data!=null&&(t.ProductScanEnabled=n.data.ProductScanEnabled,t.ProductCode=n.data.ProductCode,t.ServiceTag=n.data.ServiceTag,t.OSLocale=n.data.OSLocale,t.OSCode=n.data.OSCode,t.Status=n.data.Status,t.Error=n.data.Error,t.Message=n.data.Message,t.UpdatesFound=n.data.UpdatesFound,t.DellUpdate=n.data.DellUpdate,t.Updates=n.data.Updates);window.sessionStorage.setItem("DriverScanData",JSON.stringify(t));console.log("DriverScanData_GetDriverScanStatus = "+JSON.stringify(t));i.resolve(n)}},function(n){consoleLog("Error Occured in RequestGetDriverScanStatus Scan !");window.sessionStorage.setItem("SAScanError",JSON.stringify(n));i.reject(n)},t)}catch(r){console.error("Exception in getDriverScanStatus ; Method: requestGetDriverScanStatus > Error: "+r);i.reject(r)}return i.promise()}function requestDeviceDriversScan_sprinklr(){var n=$.Deferred(),t;try{getDSD(function(i){i.findService(function(){getDSD(function(i){i.runDriverScan(function(r){r!=null&&r!=undefined&&(t=setInterval(function(){requestGetDriverScanStatus(i,r.jobId).then(function(i){i.FinalResponse===!0&&(clearInterval(t),n.resolve(i))}).fail(function(i){console.error("Error in requestGetDriverScanStatus ; Method:requestDeviceDriversScan_sprinklr > Fail: "+i);clearInterval(t);n.reject(i)})},5e3))},function(t){console.error("Error in RunDriverScan  ; Method:requestDeviceDriversScan_sprinklr > Error: "+t);window.sessionStorage.setItem("SAScanError",JSON.stringify(t));n.reject(t)},sprinklrChatBotObject.ScanIcSource)})},function(t){console.error("Error in Findservice ; Method:requestDeviceDriversScan_sprinklr > Error: "+t);serviceTagInfo.isSystemInfoCompleted="true";n.resolve()})})}catch(i){consoleLog(i);console.error("Exception in requestDeviceDriversScan_sprinklr > Error: "+i);n.reject(i)}return n.promise()}function startChatBot(n,t,i,r,u,f,e,o,s,h){GetChatbotconfiguration(n,t).done(function(n){n&&n.Data&&(ChatBotDsdTokenUrl=n.Data.DsdTokenUrl,n.Data.Service_Tag=u,n.Data.isDsdInstalled=!1,n.Data.OSCode="",n.Data.applicationContext=f,n.Data.incidentBaseUrl=i,n.Data.IssueDesc=e,n.Data.product_Model=o,n.Data.issue_Description=e.replace("_"," ").toProperCase(),n.Data.SFDCId=s,n.Data.Agent_QueueName=s,n.Data.buttonId=h,n.Data.IssueType=e,r(n.Data),serviceTagInfoDeffer=setCurrentSystemInfo(serviceTagInfo,u,undefined,0))}).fail(function(n){consoleLog("Start Chat > GetChatbotconfiguration >"+JSON.stringify(n));console.error("Start Chat|GetChatbotconfiguration  "+JSON.stringify(n))})}function startCareChatBot(n,t,i,r,u){GetChatbotconfiguration("OrderStatus","").done(function(f){if(f&&f.Data){ChatBotDsdTokenUrl=f.Data.DsdTokenUrl;f.Data.Service_Tag="";f.Data.CARE_Chat_Order_Number=i;f.Data.isDsdInstalled=!1;f.Data.OSCode="";f.Data.incidentBaseUrl="";f.Data.IssueDesc=t;f.Data.product_Model="";f.Data.issue_Description=t;f.Data.SFDCId=n;f.Data.Agent_QueueName=n;f.Data.BotFutureUse_2=u;f.Data.buid=r;r=="3696"?(f.Data.applicationContext="ChatBot-CareBot",f.Data.language="pt-br"):r=="11"&&(f.Data.applicationContext="ChatBot-CareEnglish",f.Data.language="en");f.Data.IssueType=t;var e=GetButtonId(f.Data.SfdcIdAndButtonId,n);e.length!=0&&(f.Data.buttonId=e[0].split(",")[1].split(":")[1]);triggerChatBot(f.Data)}}).fail(function(n){consoleLog("Start Chat > GetChatbotconfiguration >"+JSON.stringify(n));console.error("startCareChatBot|GetChatbotconfiguration  "+JSON.stringify(n))})}function GetButtonId(n,t){return t="SFDCID:"+t,n=n.split("|"),n.filter(function(n){return n.toLowerCase().indexOf(t.toLowerCase())!==-1})}function resumeChatBot(n,t,i,r,u,f,e,o,s,h,c,l,a){GetChatbotconfiguration(n,"").then(function(n){n&&(n.Service_Tag=t,n.isDsdInstalled=!1,n.OSCode=h,n.First_Name=f,n.Last_Name=e,n.Phone=o,n.Email=i,n.c_firstName=f,n.c_lastName=e,n.c_email=i,n.c_phoneNo=o,n.c_serviceTag=t,n.applicationContext=r,n.IssueDesc=u,n.product_Model=s,n.issue_Description=u,n.StepName_Manual_Bot=c,n.SFDCId=l,n.Agent_QueueName=l,n.buttonId=a,this.triggerChatBot(n))}).fail(function(n){consoleLog("resumeChatBot > GetChatbotconfiguration >"+JSON.stringify(n));console.error("resumeChatBot|GetChatbotconfiguration  "+JSON.stringify(n))})}function setCurrentSystemInfo(n,t,i,r){var u=$.Deferred();try{$.eSupportClientApi!==undefined?getDSD(function(f){f.findService(function(){getDSD(function(f){GetCurrentSysInfo(f).done(function(i){n.Service_Tag=i.serviceTagData.serviceTag;n.OSCode=i.OSCode;n.isDsdInstalled=n.Service_Tag==t?"true":"false";n.isSystemInfoCompleted="true";u.resolve(n)}).fail(function(t){console.error("Error in ChatBot-SA Call GetCurrentSysInfo ; Method: setCurrentSystemInfo > Fail: "+t);n.isSystemInfoCompleted="true";consoleLog("serviceTagInfo.isSystemInfoCompleted is failed");u.reject(t)});r==0&&requestDeviceDriversScan(f,i).then(function(n){consoleLog(JSON.stringify(n));u.resolve(n)}).fail(function(n){console.error("Error in ChatBot-SA call requestDeviceDriversScan ; Method: setCurrentSystemInfo > Fail: "+n);u.reject(n)})})},function(t){console.error("Error in ChatBot-SA call Method: setCurrentSystemInfo > Error: "+t);n.isSystemInfoCompleted="true";u.resolve()})}):u.resolve()}catch(f){console.error("Error in ChatBot-SA call Exception in setCurrentSystemInfo > Error: "+f);u.resolve()}return u.promise(n)}function HideLoadingImage(){try{document.getElementById("VirtualAgentProcessing")!=null&&(document.getElementById("VirtualAgentProcessing").style.visibility="hidden")}catch(n){consoleLog("exception in method HideLoadingImage: "+n)}}function ShowLoadingImage(){try{document.getElementById("VirtualAgentProcessing")!=null&&(document.getElementById("VirtualAgentProcessing").style.visibility="visible");$("#dcuVirtualAgent").length>0&&($("#dcuVirtualAgent").addClass("disabled"),document.getElementById("dcuVirtualAgent").style.pointerEvents="none")}catch(n){consoleLog("exception in method ShowLoadingImage: "+n)}}function GetLwpDetails_SEO(){var i="",n,t;return Dell&&Dell.OnlineUtils&&Dell.OnlineUtils.Lwp?(n=Dell.OnlineUtils.Lwp,n!=undefined&&n.country&&n.language&&n.customerset&&(i=n.language+"-"+n.country.toUpperCase())):Dell&&Dell.Global&&Dell.Global.lwp&&(t=Dell.Global.lwp,t!=undefined&&t.c&&t.l&&t.cs&&(i=t.l+"-"+t.c)),i}function GetChatbotconfiguration(n){var t=$.Deferred(),r=GetLwpDetails_SEO(),i="";i=r?"/support/guidedpath/"+r+"/DigitalResolution/ChatBotConfiguration?appName="+n:"/support/guidedpath/DigitalResolution/ChatBotConfiguration?appName="+n;console.log(i);try{$.ajax({url:i,dataType:"json",type:"GET",contentType:"application/json; charset=utf-8","async":!0,beforeSend:function(n){n.withCredentials=!0},success:function(n){consoleLog(n);t.resolve(n)},error:function(n){consoleLog(n);t.reject(n)}})}catch(u){consoleLog("Response error"+u);t.reject(u)}return t.promise()}function GetDriversDataFromSession(){var t=[],n;try{sessionStorage.getItem("Ode_DriverScan")!=null&&(n=JSON.parse(sessionStorage.getItem("Ode_DriverScan")),n!=null&&n.data!=null&&n.data.Updates!=null&&n.data.Updates.length>0&&n.data.Updates.forEach(function(n){t.push(n.DriverId)}))}catch(i){consoleLog("Method is GetDriversDataFromSession:"+i)}return t}function GetChatBotinfo(){var t=$.Deferred(),o,s;try{var i="",u=GetDriversDataFromSession(),h=sessionStorage.getItem("chatBotObjectSession");if(h!=null){var n=JSON.parse(sessionStorage.getItem("chatBotObjectSession")),f=n.c_email,e=GetLwpDetails_SEO();u.length!=0?(o={serviceTag:n.Service_Tag,emailId:f,issueType:n.IssueType,applicationContext:n.applicationContext,sfdcQueueId:n.SFDCId,driverIds:u.toLocaleString()},i="/support/guidedpath/"+e+"/DigitalResolution/ChatBotQueueInfo?"+$.param(o)):(s={serviceTag:n.Service_Tag,emailId:f,issueType:n.IssueType,applicationContext:n.applicationContext,sfdcQueueId:n.SFDCId},i="/support/guidedpath/"+e+"/DigitalResolution/ChatBotQueueInfo?"+$.param(s));console.log(i)}$.ajax({url:i,dataType:"json",type:"GET",contentType:"application/json; charset=utf-8",success:function(n){consoleLog(n);t.resolve(n)},error:function(n){consoleLog(n);console.error("GetChatBotinfo "+n);t.reject(n)}})}catch(r){consoleLog("Response error"+r);console.error("GetChatBotinfo "+r);t.reject(r)}return t.promise()}function CloseAndClearChatBot(){try{$("div#divLoading").remove();sessionStorage.removeItem("isChatBotActive");sessionStorage.removeItem("chatBotObjectSession");sessionStorage.removeItem("GR_ServiceTag");sessionStorage.removeItem("Ode_DriverScan");sessionStorage.removeItem("ChatBot_SessionKey");sessionStorage.removeItem("GR_MessageCount");sessionStorage.removeItem("GR_IsPageRedirected");sessionStorage.removeItem("ode_diagscancommand");$("#dcuVirtualAgent").length>0&&$("#dcuVirtualAgent").hasClass("disabled")&&($("#dcuVirtualAgent").removeClass("disabled"),document.getElementById("dcuVirtualAgent").style.pointerEvents="auto");$("#cusBotPreChatSnapinDom").length>0&&$("#cusBotPreChatSnapinDom").hide();SetToDefaultValues()}catch(n){consoleLog(n);console.error("CloseAndClearChatBot "+n)}}function ShowLoader(){try{var n=$("div.dockableContainer").width(),t=$("div.dockableContainer").height(),i=$("div.dockableContainer").position();$("div#divLoading").css({height:t,width:n,left:i.left,position:"fixed",background:"black",zIndex:9999,display:"block",opacity:.5})}catch(r){consoleLog(r)}}function HideLoader(){try{$("div#divLoading").css({display:"none"})}catch(n){consoleLog(n)}}function AddElementToPage(){try{var n=document.createElement("div");n.id="divLoading";n.style.display="none";n.style.borderRadius="8px 8px 0px 0px";n.style.position="fixed";n.style.bottom=0;n.innerHTML='<i class="icon-ui-loading" style="left: 50%;top: 50%;position: relative;"><\/i>';document.body.appendChild(n)}catch(t){consoleLog(t)}}function HookClosePreChatForm(){document.getElementById("lnkIssueChange")!=null&&document.getElementById("lnkIssueChange").addEventListener("click",function(){CloseAndClearChatBot()})}function StoreChatBotSessionKey(n){sessionStorage.setItem("ChatBot_SessionKey",n)}function DisableChatBotInput(){try{document.getElementsByClassName("chasitorText").length>0&&setTimeout(function(){var n=document.getElementsByClassName("chasitorText")[0];n.focus();n.blur();n.setAttribute("disabled","disabled");n.classList.remove("textAreaIsFocused");n.style.background="#CCC";n.style.opacity="0.5";n.disabled=!0;textBoxPlaceHolderWhenDiabled=language=="pt-br"?"Selecione uma das opções acima quando solicitado.":"Select from the options above when prompted.";n.placeholder=textBoxPlaceHolderWhenDiabled;n.style.padding="6px 8px";sessionStorage.setItem("chasitorTextEnabled",!1)},1)}catch(n){var t="Exception >> Method : DisableChatBotInput, Message : "+n;consoleLog(t);console.error("DisableChatBotInput "+n)}}function EnableChatBotInput(){var n,t;try{document.getElementsByClassName("chasitorText").length>0&&(n=document.getElementsByClassName("chasitorText")[0],n.removeAttribute("disabled"),n.classList.add("textAreaIsFocused"),n.style.background="",n.style.opacity="",n.disabled=!1,textBoxPlaceHolderWhenEnabled=language=="pt-br"?"Digite sua mensagem...":"Type your message...",n.placeholder=textBoxPlaceHolderWhenEnabled,n.style.padding="12px 8px",sessionStorage.setItem("chasitorTextEnabled",!0))}catch(i){t="Exception >> Method : EnableChatBotInput, Message : "+i;consoleLog(t);console.error(t)}}function onBotStart(){waitForElement("#cusBotPreChat-close-btn",function(){$("#cusBotPreChat-close-btn").click(function(){CloseAndClearChatBot()})});waitForElement(".messageWrapper .wrapper",function(){bindHandler();triggerOnRefresh()});waitForElement(".chasitorText",function(){DisableChatBotInput()})}function triggerOnRefresh(){if(sessionStorage.getItem("GR_IsPageRedirected")!=null&&sessionStorage.getItem("GR_IsPageRedirected")=="true"){var n=typeof InstallTrigger!="undefined";n?ProcessChildMessageWithSucess():ProcessChildMessage("...");sessionStorage.setItem("GR_IsPageRedirected","false")}}function FetchSessionValue(n){if(sessionStorage.getItem(n)!=null)return JSON.parse(sessionStorage.getItem(n)).ChatBotInfo}function hideChatWithAgentIfChatbotActive(){consoleLog("Method : hideChatWithAgentIfChatbotActive");$(".sidebar-actions").each(function(n,t){var i,r;$(t).find("ul.unstyled").length>0?(i=$(t).find("ul.unstyled li").length,i>1?$(t).find(".SrChatStatusInfo").hide():i===0&&$(t).hide()):(r=$(t).find("div.SrChatStatusInfo").length,r>1?$(t).find("div.SrChatStatusInfo").hide():r===1&&$(t).hide())})}function ProcessChildMessageWithSucess(){try{setTimeout(function(){ProcessChildMessage("...")},5e3)}catch(n){consoleLog(n)}}function consoleLog(n){console.log(n)}function getDSDforOde(n){try{getTokensforOde(ChatBotDsdTokenUrl,function(t){try{var i=new $.eSupportClientApi(t.SuppAssistEnabled);jQuery.support.cors=!0;i.tokenExpires.setValue(t.Expires);i.isAliveToken.setValue(t.IsAliveToken);i.getClientSystemInfoToken.setValue(t.GetClientSystemInfoToken);i.getClientSystemInfoTokenM.setValue(t.GetClientSystemInfoTokenM);i.runDiagnosticsTokenM.setValue(t.RunDiagnosticsTokenM);i.getDiagnosticsStatusTokenM.setValue(t.GetDiagnosticsStatusTokenM);i.cancelDiagnosticsTokenM.setValue(t.CancelDiagnosticsTokenM);n(i)}catch(r){console.log(r);console.error("Error in ChatBot-SA call in $.eSupportClientApi dsd Tokens ; Method: getDSD  > Error: "+r);throw r;}},function(n){console.log(n);console.error("Error in ChatBot-SA call getTokens ; Method: getDSD  > Error: "+n);throw n;})}catch(t){consoleLog("Error in getDSD"+t);console.error("Error in ChatBot-SA call in getDSD > Error: "+t);throw"Error in getDSD";}}function getDSD(n){try{getTokens(ChatBotDsdTokenUrl,function(t){try{var i=new $.eSupportClientApi(t.SuppAssistEnabled);jQuery.support.cors=!0;i.tokenExpires.setValue(t.Expires);i.isAliveToken.setValue(t.IsaliveToken);i.getDeviceDriversToken.setValue(t.DeviceDriversToken);i.getClientSystemInfoToken.setValue(t.ClientSystemInfoToken);i.getDeviceDriversTokenM.setValue(t.DeviceDriversTokenM);i.getClientSystemInfoTokenM.setValue(t.ClientSystemInfoTokenM);i.runDriverScanTokenM.setValue(t.RunDriverScanTokenM);i.getDriverScanStatusTokenM.setValue(t.GetDriverScanStatusTokenM);i.cancelDriverScanTokenM.setValue(t.CancelDriverScanTokenM);i.runDiagnosticsTokenM.setValue(t.RunDiagnosticsTokenM);i.getDiagnosticsStatusTokenM.setValue(t.GetDiagnosticsStatusTokenM);i.cancelDiagnosticsTokenM.setValue(t.CancelDiagnosticsTokenM);n(i)}catch(r){console.log(r);console.error("Error in ChatBot-SA call in $.eSupportClientApi dsd Tokens ; Method: getDSD  > Error: "+r);throw r;}},function(n){console.log(n);console.error("Error in ChatBot-SA call getTokens ; Method: getDSD  > Error: "+n);throw n;})}catch(t){consoleLog("Error in getDSD"+t);console.error("Error in ChatBot-SA call in getDSD > Error: "+t);throw"Error in getDSD";}}function GetEncryptedSvcTag(n,t){var i=t;return $.ajax({url:n.replace("__servicetag",t),contentType:"application/json","async":!1,type:"GET"}).done(function(n){i=n}).fail(function(n,t,i){console.log("drivers svc tag encryption failed."+i)}),i}function getTokens(n,t,i){var e=GetLwpDetails_SEO(),r,u,f;n=e?"/support/driver/"+e+"/ips/api/DriversbyScan/getdsdtoken":"/support/driver/ips/api/DriversbyScan/getdsdtoken";tagFromSA=window.localStorage.getItem("tagFromSA");(tagFromSA==null||tagFromSA==undefined)&&(tagFromSA=window.sessionStorage.getItem("tagFromSA"));r=window.sessionStorage.getItem("sid");u=r!==null&&r.length>0?1:0;tagFromSA&&(f=GetEncryptedSvcTag("//www.dell.com/support/components/detectproduct/encvalue/__servicetag?appName=incidents",tagFromSA),window.sessionStorage.setItem("encTagFromSA",f),n+="?code="+f);n+=n.indexOf("?")!==-1?"&sId="+u+"&buster="+(new Date).getMilliseconds()+"&ctime="+getClientTime():"?sId="+u+"&buster="+(new Date).getMilliseconds()+"&ctime="+getClientTime();$.ajax({url:n,dataType:"json",success:function(n){if(n.Skey!==null&&n.Skey!==undefined&&n.Skey.length>0){var i=n.Skey;window.sessionStorage.setItem("sid",i)}t(n)},error:function(n){i(n)}})}function getTokensforOde(n,t,i){var e=GetLwpDetails_SEO(),r,u,f;n=e?"/support/diagnose/"+e+"/ips/DiagnosticRun/GetClientSecurityTokens":"https://www.dell.com/support/diagnose/ips/DiagnosticRun/GetClientSecurityTokens";tagFromSA=window.localStorage.getItem("tagFromSA");(tagFromSA==null||tagFromSA==undefined)&&(tagFromSA=window.sessionStorage.getItem("tagFromSA"));r=window.sessionStorage.getItem("sid");u=r!==null&&r.length>0?1:0;tagFromSA&&(f=GetEncryptedSvcTag("//www.dell.com/support/components/detectproduct/encvalue/__servicetag?appName=incidents",tagFromSA),window.sessionStorage.setItem("encTagFromSA",f),n+="?code="+f);n+=n.indexOf("?")!==-1?"&sId="+u+"&buster="+(new Date).getMilliseconds()+"&clientTime="+getClientTime():"?sId="+u+"&buster="+(new Date).getMilliseconds()+"&clientTime="+getClientTime();$.ajax({url:n,dataType:"json",success:function(n){if(n.Skey!==null&&n.Skey!==undefined&&n.Skey.length>0){var i=n.Skey;window.sessionStorage.setItem("sid",i)}t(n)},error:function(n){i(n)}})}function RunQuickTestWithNoVideo(){sessionStorage.setItem("ode_diagscancommand","GR|QuicktestNoVideo")}function chasitorTextMaintainState(){var n=sessionStorage.getItem("chasitorTextEnabled");n=="true"?EnableChatBotInput():DisableChatBotInput()}function IsVerifiedCareChat(n){console.log(n);var t=!1,r="",i=GetLwpDetails_SEO();r=i!=undefined&&i!=null?"/support/contactus/"+i+"/OrderSupport/VerifyCustomer":"/support/contactus/en-us/OrderSupport/VerifyCustomer";try{$.ajax({url:r,data:JSON.stringify(n),dataType:"json",type:"POST",cache:!1,"async":!1,contentType:"application/json; charset=utf-8",success:function(n){n!=null&&n!=undefined&&(console.log("Success !!!"),t=n);console.log(n)},error:function(n){console.error("IsVerifiedCareChat exception "+n)}})}catch(u){console.error("IsVerifiedCareChat exception "+u)}return console.log("Is Customer Verified =  "+t),t}function triggerOrderSnapin(n,t){var i=document.querySelector(".embeddedServiceSidebar"),f=document.getElementById("cusCAREPreChatSnapinDom");if(i&&(!i||window.getComputedStyle(i).display!="none")||f){var r=document.querySelector(".modalContainer.embeddedServiceSidebar"),u=document.querySelector(".embeddedServiceSidebar .embeddedServiceSidebarMinimizedDefaultUI"),e=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText");e||(r&&r.style.display=="none"?(prePopulateCustCarePreFormValues(n),maximizeCustCAREPrechat()):u?u.click():(prePopulateCustCarePreFormValues(n),maximizeCustCAREPrechat(),document.getElementById("cusCAREPreChat-minimize-btn").style.display="block",document.getElementById("cusCAREPreChat-close-btn").style.display="block"))}else n=create_snapinCareChatUuid(n),createCusCAREpreChatSnapinDom(n,t),prePopulateCustCarePreFormValues(n),removeDomElementbyId("issueDescIsOptionalInCare"),custCarePreFormShowIssueDetailsCharRemainingOnKeyUp(t),custCarePreChatKeypressFieldValidation(t),document.getElementById("cusCAREPreChat-minimize-btn").addEventListener("click",minimizeCustCAREPrechat),document.getElementById("cusCAREPreChat-close-btn").addEventListener("click",function(){assignCarePropVal("890.130.145","890.130.156");closeCustCAREPrechat(t)}),document.getElementById("cusCAREPreChat-helpButtonEnabled").addEventListener("click",function(){assignCarePropVal("890.130.144","890.130.155");maximizeCustCAREPrechat()}),document.getElementById("cusCAREPreChat-startChat").addEventListener("click",function(){startCAREChat(n,t)});initiateChatCARE(n,t);assignCarePropVal("890.130.142","890.130.153")}function createCusCAREpreChatSnapinDom(n,t){var i="",r="",u="",f,h=t.orderPreChatHeader,e="",o,s;switch(n.viewType){case"Order":r="DPId"in n&&n.DPId?"<div> <b>"+t.DPId+":<\/b> "+n.DPId+"<\/div>":"irnNumber"in n&&n.irnNumber?"<div> <b>"+t.irnNumber+":<\/b> "+n.irnNumber+"<\/div>":"";i="orderNumber"in n&&n.orderNumber?"<div> <b>"+t.orderNumber+":<\/b> "+n.orderNumber+"<\/div>":"";break;case"DPid":i="DPId"in n&&n.DPId?"<div> <b>"+t.DPId+":<\/b> "+n.DPId+"<\/div>":"irnNumber"in n&&n.irnNumber?"<div> <b>"+t.irnNumber+":<\/b> "+n.irnNumber+"<\/div>":"";break;case"CustomerNumber":i="customerNumber"in n&&n.customerNumber?"<div> <b>"+t.customerNumber+":<\/b> "+n.customerNumber+"<\/div>":"";break;case"PONumber":i="poNumber"in n&&n.poNumber?"<div> <b>"+t.poNumber+":<\/b> "+n.poNumber+"<\/div>":"";break;case"GeneralChat":case"":i=""}"issueType"in n&&n.issueType!=""&&n.issueType!=null&&n.issueType!=undefined&&"issueType"in t&&t.issueType!=""&&t.issueType!=null&&t.issueType!=undefined&&n.issueType!="None"&&(u='<div id="careIssueTypeDom" assignedCareBtn="'+n.buttonId+'"> <b>'+t.issueType+': <\/b><span id="careIssueTypeLabVal">'+n.issueType+"<\/span><\/div>");n.viewType=="GeneralChat"?(f='<div id="readonlyCAREPreChatContainer" class="cusPreChat-readonlyContainer" style="margin: 17px 5px 7px .75em;text-align: left;position: relative;font-size: 1.2em;color: #666;font-weight: 100;">'+h+"<\/div>",e='<li class="cusPreChat-inputOrderNum cusPreChat-embeddedServiceSidebarFormField"><div class="cusPreChat-uiInput cusPreChat-uiInputOrderNum cusPreChat-uiInput--default cusPreChat-uiInput--input"><label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Email"><span>'+t.lblOrdNoOptional+" <\/span><span>"+t.optional+'<\/span><\/label><input id="cusCAREPreChat-OrderNum" class="cusPreChat-OrderNum form-control cusPreChat-input" maxlength="15" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li>'):(i!=""||r!=""||u!="")&&(f='<div id="readonlyCAREPreChatContainer" class="cusPreChat-readonlyContainer" style="margin: 8px 1.5em 0px 1em; text-align: left;position: relative;font-size: .75em;color: #444444;">'+i+r+u+"<\/div>");o='<div id="cusCAREPreChatSnapinDom" class="cusPreChat-modalContainer"><div class="cusPreChat-dockableContainer"><div class="cusPreChat-embeddedServiceSidebarHeader"><div class="cusPreChat-shortHeader"><div class="cusPreChat-shortHeaderContent"> <h2 class="cusPreChat-headerText"><div class="cusPreChat-headerTextContent"> <span id="cusCAREPreChat-headerTextLabel">'+t.chatHeader+'<\/span> <span id="cusCAREPreChat-headerSubtext"> <\/span><\/div><\/h2><button id="cusCAREPreChat-minimize-btn" class="cusPreChat-minimizeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Minimize chat<\/span> <span class="cusPreChat-minimize cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" data-key="minimize_window" aria-hidden="true" viewBox="0 0 52 52" class="slds-icon slds-icon-text-default slds-icon_x-small"><g><path d="M50 48.5c0 .8-.7 1.5-1.5 1.5h-45c-.8 0-1.5-.7-1.5-1.5v-3c0-.8.7-1.5 1.5-1.5h45c.8 0 1.5.7 1.5 1.5v3z"><\/path><\/g><\/svg> <\/span> <\/button> <button id="cusCAREPreChat-close-btn" class="cusPreChat-closeButton cusPreChat-headerItem"> <span class="cusPreChat-assistiveText">Close chat<\/span> <span class="cusPreChat-x-small cusPreChat-embeddedServiceIcon"> <svg focusable="false" aria-hidden="true" data-key="close" viewBox="0 0 100 100"> <path d="M65.577 53.73l27.5-27.71c1.27-1.27 1.27-3.174 0-4.445l-4.23-4.44c-1.272-1.27-3.175-1.27-4.445 0L56.694 44.847c-.847.845-2.115.845-2.96 0L26.018 16.922c-1.27-1.27-3.174-1.27-4.445 0l-4.44 4.442c-1.27 1.27-1.27 3.174 0 4.444l27.71 27.71c.846.846.846 2.116 0 2.962L16.923 84.403c-1.27 1.27-1.27 3.174 0 4.444l4.442 4.442c1.27 1.268 3.174 1.268 4.444 0l27.71-27.713c.846-.847 2.116-.847 2.962 0L84.19 93.29c1.27 1.268 3.174 1.268 4.445 0l4.44-4.445c1.27-1.268 1.27-3.17 0-4.44l-27.5-27.712c-.847-.847-.847-2.115 0-2.96z"> <\/path> <\/svg> <\/span> <\/button><\/div><\/div><\/div><div class="cusPreChat-sidebarBody"><div id="cusCAREPreChat-sidebarLoadingIndicator" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div class="cusPreChat-loadingBallContainer cusPreChat-animated cusPreChat-embeddedServiceLoadingBalls"> <span class="cusPreChat-loadingBall cusPreChat-first"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-second"> <\/span> <span class="cusPreChat-loadingBall cusPreChat-third"> <\/span><\/div><\/div><div id="cusCAREPreChat-alertMsgContainer" class="cusPreChat-sidebarLoadingIndicator" style="display: none;"><div style="margin: 2.5em 1.75em;">'+t.chatUnavailableMessage+'<\/div><div> <button id="cusCAREPreChat-CloseChat" class="cusPreChat-embeddedServiceSidebarButton" type="button"><span class="cusPreChat-label cusPreChat-bBody">Close Chat<\/span> <\/button><\/div><\/div><div id="cusCAREPreChat-hideWhileLoading" class="cusPreChat-activeFeature cusPreChat-hideWhileLoading"><div class="cusPreChat-featureBody cusPreChat-embeddedServiceSidebarFeature"><div class="cusPreChat-stateBody cusPreChat-embeddedServiceSidebarState"><div class="cusPreChat-prechatUI cusPreChat-embeddedServiceLiveAgentStatePrechatDefaultUI"><div class="cusPreChat-formContent cusPreChat-embeddedServiceSidebarForm"><ul class="cusPreChat-fieldList">'+f+'<li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"><div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel"> <span class="">'+t.firstName+'<\/span> <\/label> <input id="cusCAREPreChat-FirstName" class="cusPreChat-FirstName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div> <\/span><\/li><li class="cusPreChat-inputSplitName cusPreChat-embeddedServiceSidebarFormField"> <span class="cusPreChat-split-field-container"><div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="LastName"> <span class="">'+t.lastName+'<\/span> <\/label> <input id="cusCAREPreChat-LastName" class="cusPreChat-LastName form-control cusPreChat-input" maxlength="121" type="text" aria-describedby="" placeholder="" required="" aria-required="true"><\/div> <\/span><\/li><li class="cusPreChat-inputEmail cusPreChat-embeddedServiceSidebarFormField"><div class="cusPreChat-uiInput cusPreChat-uiInputEmail cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Email"> <span>'+t.emailAddress+'<\/span> <\/label> <input id="cusCAREPreChat-Email" class="cusPreChat-Email form-control cusPreChat-input" maxlength="80" type="email" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li><li class="cusPreChat-inputPhone cusPreChat-embeddedServiceSidebarFormField"><div class="cusPreChat-uiInput cusPreChat-uiInputPhone cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Primary_Phone__c"> <span>'+t.phoneNumber+'<\/span> <\/label> <input id="cusCAREPreChat-Phone" class="cusPreChat-Primary_Phone__c form-control cusPreChat-input" maxlength="40" type="tel" aria-describedby="" placeholder="" required="" aria-required="true"><\/div><\/li>'+e+'<li class="cusPreChat-inputText cusPreChat-embeddedServiceSidebarFormField"><div class="cusPreChat-uiInput cusPreChat-uiInputText cusPreChat-uiInput--default cusPreChat-uiInput--input"> <label id="CareIssue_Description_Cust_Label" class="cusPreChat-uiLabel-left cusPreChat-form-element__label cusPreChat-uiLabel" for="Issue_Description__c"> <span>'+t.issueDescription+'<\/span> <\/label><textarea id="cusCAREPreChat-IssueDescription" class="cusPreChat-Issue_Description__c form-control cusPreChat-input" maxlength="'+t.issueDescriptionLength+'" type="text" aria-describedby="" placeholder="" required=""><\/textarea><div id="snappinCharCounter" style="text-align:right;position:relative;font-size:.75em;line-height: 1.5;margin-right: .75em;margin-left: .5em;margin-top: 8px; float: right; color:#767676">0 / '+t.issueDescriptionLength+" "+t.characters+'<\/div><\/div><\/li><\/ul><div style="font-size: 12px;color:#767676;text-align: left;margin: 2.5em 1.75em; font-style: italic;color:#444444;">'+t.customerPrivacyDesc+'<\/div><\/div><div class="cusPreChat-buttonWrapper cusPreChat-embeddedServiceSidebarForm"> <button id="cusCAREPreChat-startChat" class="cusPreChat-startButton cusPreChat-uiButton--default cusPreChat-uiButton cusPreChat-embeddedServiceSidebarButton" type="button"> <span class="cusPreChat-label cusPreChat-bBody">'+t.startChat+'<\/span> <\/button><\/div><\/div><\/div><\/div><\/div><\/div><\/div><\/div><div id="cusCAREPreChat-embeddedServiceHelpButton" class="cusPreChat-embeddedServiceHelpButton" style="display: none;"><div class="cusPreChat-helpButton" style="width: 168px;"> <button id="cusCAREPreChat-helpButtonEnabled" class="cusPreChat-uiButton cusPreChat-helpButtonEnabled" href="javascript:void(0)"> <span class="cusPreChat-embeddedServiceIcon" aria-hidden="true" style="display: inline-block; z-index: 1; float: left"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="chat" width="100%" height="100%" style="height: 18px; width: 18px;"> <path d="M12 1.8C5.9 1.8 1 6.4 1 12c0 1.7.5 3.4 1.3 4.8.1.3.2.6.1.8l-1.4 4c-.2.3.2.6.6.6l3.9-1.6c.3-.1.5 0 .8.1 1.7.9 3.7 1.5 5.8 1.5 6 0 11-4.5 11-10.2C23 6.4 18.1 1.8 12 1.8zm-5.5 12c-1.1 0-1.9-.8-1.9-1.8s.8-1.8 1.9-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.8.8 1.8 1.8-.8 1.8-1.8 1.8zm5.5 0c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8 1.9.8 1.9 1.8-.8 1.8-1.9 1.8z"><\/path> <\/svg> <\/span><div class="cusPreChat-helpButtonLabel" id="cusCAREPreChat-helpButtonSpan" aria-live="polite" aria-atomic="true"> <span class="cusPreChat-assistiveText">Live chat:<\/span> <span class="cusPreChat-message">'+t.chatHeader+"<\/span><\/div> <\/button><\/div><\/div>";s=document.body||document.getElementsByTagName("body")[0];s.insertAdjacentHTML("beforeend",o)}function minimizeCustCAREPrechat(){assignCarePropVal("890.130.143","890.130.154");document.getElementById("cusCAREPreChat-embeddedServiceHelpButton").style.display="block";document.getElementById("cusCAREPreChatSnapinDom").style.display="none"}function closeCustCAREPrechat(n){document.getElementById("cusCAREPreChat-embeddedServiceHelpButton").style.display="none";document.getElementById("cusCAREPreChatSnapinDom").style.display="none";var t=document.querySelectorAll(".cusPreChat-has-error");t.forEach(function(n){removeDomElementbyId(n.id)});removecustCareFormValues();custCarePreFormShowIssueDetailsCharRemaining(n)}function removecustCareFormValues(){inputFields=document.querySelectorAll(".cusPreChat-input");inputFields.forEach(function(n){n.value&&(n.value="")})}function maximizeCustCAREPrechat(){document.getElementById("cusCAREPreChat-embeddedServiceHelpButton").style.display="none";document.getElementById("cusCAREPreChatSnapinDom").style.display="block"}function initiateChatCARE(n,t){var i=document.getElementById("esw_storage_iframe");i||initOrderSnapin(n,t)}function initOrderSnapin(n,t){var r,u,i;snapinCAREPageObserver("body",t);snapInCareClickListners();r=function(t){var i;embedded_svc.settings.displayHelpButton=!0;embedded_svc.settings.enabledFeatures=["LiveAgent"];embedded_svc.settings.entryFeature="LiveAgent";translatedLabels="language"in n?translationCare(n.language):translationCare("en");embedded_svc.settings.language=translatedLabels.language;i="issueType"in n&&n.issueType!=""&&n.issueType!=null&&n.issueType!=undefined&&n.issueType!="None"?n.issueType:"None";"orderNumber"in n&&n.orderNumber!=""?(sendOrderNumber=n.BUID?n.orderNumber+"-"+n.BUID:n.orderNumber,embedded_svc.settings.extraPrechatFormDetails=[{label:translatedLabels.firstName,transcriptFields:["FirstName__c"]},{label:translatedLabels.lastName,transcriptFields:["LastName__c"]},{label:translatedLabels.primPhone,transcriptFields:["ContactNumber__c"]},{label:translatedLabels.emailAdd,transcriptFields:["Email__c"]},{label:"Chat Source",value:"CARE",transcriptFields:["Chat_Source__c"]},{label:"Order Number",value:sendOrderNumber,transcriptFields:["Order_Number__c"]},{label:translatedLabels.issueDesc,transcriptFields:["Description__c"]},{label:"Subject",value:i,transcriptFields:["Issue__c"]},{label:"Sprinklr Chatbot Routed",value:!1,transcriptFields:["Sprinklr_Chatbot_Routed__c"]},{label:"Case Number",value:"",transcriptFields:["Case_Number__c"]}],embedded_svc.settings.extraPrechatInfo=[{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"LastName",isExactMatch:!1,label:translatedLabels.lastName},{doCreate:!1,doFind:!1,fieldName:"FirstName",isExactMatch:!1,label:translatedLabels.firstName},{doCreate:!1,doFind:!1,fieldName:"Email",isExactMatch:!1,label:translatedLabels.emailAdd},{doCreate:!1,doFind:!1,fieldName:"Primary_Phone__c",isExactMatch:!1,label:translatedLabels.primPhone}],entityName:"Contact",saveToTranscript:""},{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"External_ID__c",isExactMatch:!1,label:"Order Number"}],entityName:"Order",saveToTranscript:"OrderNumber__c"},{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"Issue_Description__c",isExactMatch:!1,label:translatedLabels.issueDesc},{doCreate:!1,doFind:!1,fieldName:"CARE_Chat_Order_Number__c",isExactMatch:!1,label:"CARE Chat Order Number"}],entityName:"Case"}]):(embedded_svc.settings.extraPrechatFormDetails=[{label:translatedLabels.firstName,transcriptFields:["FirstName__c"]},{label:translatedLabels.lastName,transcriptFields:["LastName__c"]},{label:translatedLabels.primPhone,transcriptFields:["ContactNumber__c"]},{label:translatedLabels.emailAdd,transcriptFields:["Email__c"]},{label:"Chat Source",value:"CARE",transcriptFields:["Chat_Source__c"]},{label:translatedLabels.issueDesc,transcriptFields:["Description__c"]},{label:"CARE Chat Order Number",transcriptFields:["Order_Number__c"]}],embedded_svc.settings.extraPrechatInfo=[{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"LastName",isExactMatch:!1,label:translatedLabels.lastName},{doCreate:!1,doFind:!1,fieldName:"FirstName",isExactMatch:!1,label:translatedLabels.firstName},{doCreate:!1,doFind:!1,fieldName:"Email",isExactMatch:!1,label:translatedLabels.emailAdd},{doCreate:!1,doFind:!1,fieldName:"Primary_Phone__c",isExactMatch:!1,label:translatedLabels.primPhone}],entityName:"Contact",saveToTranscript:""},{entityFieldMaps:[{doCreate:!1,doFind:!1,fieldName:"Issue_Description__c",isExactMatch:!1,label:translatedLabels.issueDesc},{doCreate:!1,doFind:!1,fieldName:"CARE_Chat_Order_Number__c",isExactMatch:!1,label:"CARE Chat Order Number"}],entityName:"Case",saveToTranscript:""}]);var r=null,u=null,f=null,e=null,o=null;r="c_firstName"in n?n.c_firstName:"FirstName";u="c_lastName"in n?n.c_lastName:"LastName";f="c_email"in n?n.c_email:"email@dell.com";o="c_phoneNo"in n?n.c_phoneNo:"123";e="c_issueDescription"in n?n.c_issueDescription:"issueDescription";orderNumber="c_orderNumber"in n?n.c_orderNumber:"";embedded_svc.settings.prepopulatedPrechatFields={FirstName:r,LastName:u,Email:f,Primary_Phone__c:o,Issue_Description__c:e,CARE_Chat_Order_Number__c:orderNumber};embedded_svc.addEventHandler("onConnectionError",function(){snapinCAREChatInitiatedState(!1);assignCarePropVal("890.130.154","890.130.164","SNAPIN: Chat Ended","SNAPIN: Chat Ended")});embedded_svc.addEventHandler("onIdleTimeoutOccurred",function(){sessionStorage.removeItem("snapInCareObjectSession");assignCarePropVal("890.130.154","890.130.164","SNAPIN: Chat Ended","SNAPIN: Chat Ended")});embedded_svc.addEventHandler("onChatEndedByChasitor",function(){sessionStorage.removeItem("snapInCareObjectSession");assignCarePropVal("890.130.154","890.130.164","SNAPIN: Chat Ended","SNAPIN: Chat Ended")});embedded_svc.addEventHandler("onChatEndedByAgent",function(){sessionStorage.removeItem("snapInCareObjectSession");assignCarePropVal("890.130.154","890.130.164","SNAPIN: Chat Ended","SNAPIN: Chat Ended")});embedded_svc.addEventHandler("onAgentMessage",function(){snapinCAREChatInitiatedState(!0)});embedded_svc.addEventHandler("onChasitorMessage",function(){snapinCAREChatInitiatedState(!0)});embedded_svc.addEventHandler("onChatEstablished",function(){assignCarePropVal("890.130.152","890.130.163","SNAPIN: Chat Started","SNAPIN: Chat Started")});embedded_svc.settings.directToButtonRouting=function(){if(document.getElementById("careIssueTypeDom")){var n=document.getElementById("careIssueTypeDom").getAttribute("assignedCareBtn");if(n)return snapInCareObject=sendGlobalSnapinCareObjToJson(),snapInCareObject.buttonId=n,saveGlobalSnapinCareObjToSession(snapInCareObject),n}};embedded_svc.init(n.snapInInitURL,n.snapInLAURL,t,n.organizationId,n.componentName,{baseLiveAgentContentURL:n.baseLiveAgentContentURL,deploymentId:n.deploymentId,buttonId:n.buttonId,baseLiveAgentURL:n.baseLiveAgentURL,eswLiveAgentDevName:n.LiveAgentDevName,isOfflineSupportEnabled:!1})};u=document.getElementById("esw_storage_iframe");u||(window.embedded_svc?r(n.serviceForceURL):(i=document.createElement("script"),i.setAttribute("src",n.snapInJs),i.onload=function(){r(null)},document.body.appendChild(i)))}function startCAREChat(n,t){custCarePreFormValidation(t)&&(loadingSnapinCareQueue(),setTimeout(function(){assignCarePropVal("890.130.148","890.130.159");n=addCustCareFormDetailsTo(n);saveGlobalSnapinCareObjToSession(n);checkSnapinCareQueueStatus(n)==1?"isVirtualAgentEnabled"in n&&n.isVirtualAgentEnabled&&checkSprinklrCAREChatBot(n)?startCareChatBotSprinklr(n):(eleExistCareWithVariable(".embeddedServiceSidebar .startButton",CareChatStarted,n),removecustCareFormValues()):careAgentUnavailableMsg()},100))}function loadingSnapinCareQueue(){document.getElementById("cusCAREPreChatSnapinDom")&&(document.getElementById("cusCAREPreChat-sidebarLoadingIndicator").style.display="flex",document.getElementById("cusCAREPreChat-hideWhileLoading").style.display="none",document.getElementById("cusCAREPreChat-minimize-btn").style.display="none",document.getElementById("cusCAREPreChat-close-btn").style.display="none",removeCareLoaderIn10())}function removeCareLoaderIn10(){setTimeout(function(){careAgentUnavailableMsg()},3e4)}function snapinCareQueueLoaded(){document.querySelector(".embeddedServiceSidebar")&&document.getElementById("cusCAREPreChatSnapinDom")&&(document.getElementById("cusCAREPreChat-sidebarLoadingIndicator").style.display="none",document.getElementById("cusCAREPreChat-hideWhileLoading").style.display="block",document.getElementById("cusCAREPreChat-minimize-btn").style.display="block",document.getElementById("cusCAREPreChat-close-btn").style.display="block",document.querySelector(".embeddedServiceSidebar").style.display="block",document.getElementById("cusCAREPreChatSnapinDom").style.display="none",document.getElementById("cusCAREPreChat-alertMsgContainer").style.display="none");serviceSidebar=document.querySelector(".modalContainer.embeddedServiceSidebar");serviceSidebar.style.display="block"}function CareChatStarted(n,t,i){try{changeCarePrechatValues(i);document.querySelector(" .embeddedServiceSidebar .dockableContainer .prechatUI  .embeddedServiceSidebarForm .embeddedServiceSidebarButton").click();clearInterval(t)}catch(r){console.log("Error in:"+r)}}function changeCarePrechatValues(n){var t=embedded_svc.sidebarInstanceMap[Object.keys(embedded_svc.sidebarInstanceMap)[0]].getActiveState(),i=t.get("v.prechatFields");i.forEach(function(t){t.name==="FirstName"?t.value=n.c_firstName:t.name==="LastName"?t.value=n.c_lastName:t.name==="Email"?t.value=n.c_email:t.name==="Primary_Phone__c"?(phone=n.c_phoneNo,t.value=phone.replace(/[&\/\\#!@,+$~%.'":*?<>{}^a-zA-Z]/g,"")):t.name==="Issue_Description__c"?t.value=n.c_issueDescription:t.name==="CARE_Chat_Order_Number__c"&&n.c_orderNumber&&(t.value=n.c_orderNumber)});t.set("v.prechatFields",i)}function addCustCareFormDetailsTo(n){return n.c_firstName=document.getElementById("cusCAREPreChat-FirstName").value,n.c_lastName=document.getElementById("cusCAREPreChat-LastName").value,n.c_email=document.getElementById("cusCAREPreChat-Email").value,n.c_phoneNo=document.getElementById("cusCAREPreChat-Phone").value,n.c_issueDescription=document.getElementById("cusCAREPreChat-IssueDescription").value,document.getElementById("cusCAREPreChat-OrderNum")&&(n.c_orderNumber=document.getElementById("cusCAREPreChat-OrderNum").value),document.getElementById("careIssueTypeLabVal")&&(n.issueType=document.getElementById("careIssueTypeLabVal").innerText,n.buttonId=document.getElementById("careIssueTypeDom").getAttribute("assignedCareBtn")),n}function prePopulateCustCarePreFormValues(n){"firstName"in n&&n.firstName!==null&&(document.getElementById("cusCAREPreChat-FirstName").value=n.firstName);"lastName"in n&&n.lastName!==null&&(document.getElementById("cusCAREPreChat-LastName").value=n.lastName);"emailAddress"in n&&n.emailAddress!==null&&(document.getElementById("cusCAREPreChat-Email").value=n.emailAddress);"phoneNumber"in n&&n.phoneNumber!==null&&(document.getElementById("cusCAREPreChat-Phone").value=n.phoneNumber);"issueDescription"in n&&n.issueDescription!==null&&(document.getElementById("cusCAREPreChat-IssueDescription").value=n.issueDescription)}function cusCarePreChatEleIsEmpty(n,t){return cusCarePreChatErrorMsgPlaceholder(n,t),!1}function cusCarePreChatInvalidEmail(n,t){if(!cusCarePreChatvalidateEmail(n.value)||cusCarePreChatBlockListEmailValidation(n.value,t.blocklistEmails))return cusCarePreChatErrorMsgPlaceholder(n,t.emailValidation),!1}function cusCarePreChatvalidateEmail(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}function cusCarePreChatBlockListEmailValidation(n,t){var u=t.split("|"),n=n.toUpperCase(),r;for(i=0;i<u.length;i++)if(r=u[i],r=r.toUpperCase(),n===r)return!0;return!1}function cusCarePreChatErrorMsgPlaceholder(n,t){try{var r=n.parentNode,i=document.createElement("ul");i.innerHTML='<li class="cusPreChat-form-element__help">'+t+"<\/li>";i.id="ErrMsg_"+n.id;i.className="cusPreChat-has-error cusPreChat-uiInput";r.parentNode.insertBefore(i,r.nextSibling)}catch(u){console.log(u)}}function custCarePreFormValidation(n){var t,f=document.getElementById("cusCAREPreChat-FirstName"),e=document.getElementById("cusCAREPreChat-LastName"),o=document.getElementById("cusCAREPreChat-Email"),u=document.getElementById("cusCAREPreChat-Phone"),s=document.getElementById("cusCAREPreChat-IssueDescription"),i,h,r;return document.getElementById("ErrMsg_cusCAREPreChat-Email")&&(r=document.getElementById("ErrMsg_cusCAREPreChat-Email"),r.parentNode.removeChild(r)),t=o.value?cusCarePreChatInvalidEmail(o,n):cusCarePreChatEleIsEmpty(o,n.emailRequiredValidation),document.getElementById("ErrMsg_cusCAREPreChat-FirstName")?(i=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkErrMsgValidation(f,"FirstName",i,!0)&&(t=!1)):f.value?(i=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkErrMsgValidation(f,"FirstName",i,!0)&&(cusPreChatErrorMsgPlaceholder(f,n.firstNameInValid),t=!1)):t=cusPreChatEleIsEmpty(f,n.firstNameValidation),document.getElementById("ErrMsg_cusCAREPreChat-LastName")?(i=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkErrMsgValidation(e,"LastName",i,!0)&&(t=!1)):e.value?(i=/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/,checkErrMsgValidation(e,"LastName",i,!0)&&(cusPreChatErrorMsgPlaceholder(e,n.lastNameInValid),t=!1)):t=cusPreChatEleIsEmpty(e,n.lastNameValidation),document.getElementById("ErrMsg_cusCAREPreChat-Phone")&&!u.value?t=!1:u.value?document.getElementById("ErrMsg_cusCAREPreChat-Phone")?(r=document.getElementById("ErrMsg_cusCAREPreChat-Phone"),i=/^[0-9-]*$/,checkErrMsgValidation(u,"Phone",i,!1)?t=!1:r.parentNode.removeChild(r)):(h=/^[0-9-]*$/,checkErrMsgValidation(u,"Phone",h,!1)&&(cusPreChatErrorMsgPlaceholder(u,n.phoneRequiredValidation),t=!1)):t=cusCarePreChatEleIsEmpty(u,n.phoneRequiredValidation),document.getElementById("ErrMsg_cusCAREPreChat-IssueDescription")&&!s.value?t=!1:s.value||document.getElementById("issueDescIsOptionalInCare")?document.getElementById("ErrMsg_cusCAREPreChat-IssueDescription")&&(r=document.getElementById("ErrMsg_cusCAREPreChat-IssueDescription"),r.parentNode.removeChild(r)):t=cusCarePreChatEleIsEmpty(s,n.issueDescriptionValidation),t===undefined&&(t=!0),t}function custCarePreChatKeypressFieldValidation(n){function t(t,i){/[0-9 !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(r(t))==!0?(t.preventDefault(),i==="cusCAREPreChat-FirstName"?alert(n.firstNameInValid):i==="cusCAREPreChat-LastName"&&alert(n.lastNameInValid)):i==="cusCAREPreChat-FirstName"&&document.getElementById("ErrMsg_cusCAREPreChat-FirstName")?removeDomElementbyId("ErrMsg_cusCAREPreChat-FirstName"):i==="cusCAREPreChat-LastName"&&document.getElementById("ErrMsg_cusCAREPreChat-LastName")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-LastName")}function r(n){return n.clipboardData&&n.clipboardData.getData?n.clipboardData.getData("text/plain"):null}document.getElementById("cusCAREPreChat-Phone").onkeypress=function(n){var t=[],r=n.which||n.keyCode;for(i=48;i<58;i++)t.push(i);t.push(45);t.push(8);t.push(9);t.indexOf(r)>=0?document.getElementById("ErrMsg_cusCAREPreChat-Phone")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-Phone"):n.preventDefault()};document.getElementById("cusCAREPreChat-FirstName").onkeypress=function(n){var t=n.which||n.keyCode;t>64&&t<91||t>96&&t<123||t==8||t==9?document.getElementById("ErrMsg_cusCAREPreChat-FirstName")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-FirstName"):n.preventDefault()};document.getElementById("cusCAREPreChat-LastName").onkeypress=function(n){var t=n.which||n.keyCode;t>64&&t<91||t>96&&t<123||t==8||t==9?document.getElementById("ErrMsg_cusCAREPreChat-LastName")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-LastName"):n.preventDefault()};document.getElementById("cusCAREPreChat-Email").onkeypress=function(n){var t=n.which||n.keyCode;t>63&&t<91||t>96&&t<123||t>47&&t<58||t==45||t==46||t==95||t==8||t==9?document.getElementById("ErrMsg_cusCAREPreChat-Email")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-Email"):n.preventDefault()};document.getElementById("cusCAREPreChat-IssueDescription").onkeypress=function(n){var t=n.which||n.keyCode;t==62||t==60?n.preventDefault():document.getElementById("ErrMsg_cusCAREPreChat-IssueDescription")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-IssueDescription")};document.getElementById("cusCAREPreChat-OrderNum")&&(document.getElementById("cusCAREPreChat-OrderNum").onkeypress=function(n){var t=n.which||n.keyCode;t>64&&t<91||t>96&&t<123||t>47&&t<58||t==45||t==8||t==9?document.getElementById("ErrMsg_cusCAREPreChat-OrderNum")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-OrderNum"):n.preventDefault()});document.getElementById("cusCAREPreChat-FirstName").addEventListener("paste",function(n){t(n,"cusCAREPreChat-FirstName")});document.getElementById("cusCAREPreChat-LastName").addEventListener("paste",function(n){t(n,"cusCAREPreChat-LastName")});document.getElementById("cusCAREPreChat-IssueDescription").addEventListener("paste",function(){document.getElementById("ErrMsg_cusCAREPreChat-IssueDescription")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-IssueDescription")});document.getElementById("cusCAREPreChat-Email").addEventListener("paste",function(t){/[!#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(r(t))==!0?(t.preventDefault(),alert(n.emailValidation)):document.getElementById("ErrMsg_cusCAREPreChat-Email")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-Email")});document.getElementById("cusCAREPreChat-Phone").addEventListener("paste",function(t){/^[0-9-]*$/.test(r(t))==!1?(t.preventDefault(),alert(n.phoneValidation)):document.getElementById("ErrMsg_cusCAREPreChat-Phone")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-Phone")});document.getElementById("cusCAREPreChat-OrderNum")&&document.getElementById("cusCAREPreChat-OrderNum").addEventListener("paste",function(){document.getElementById("ErrMsg_cusCAREPreChat-OrderNum")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-OrderNum")});document.getElementById("cusCAREPreChat-FirstName").addEventListener("change",function(){t(this.value,this.id)});document.getElementById("cusCAREPreChat-LastName").addEventListener("change",function(){t(this.value,this.id)});document.getElementById("cusCAREPreChat-IssueDescription").addEventListener("change",function(){this.value&&document.getElementById("ErrMsg_cusCAREPreChat-IssueDescription")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-IssueDescription")});document.getElementById("cusCAREPreChat-Email").addEventListener("change",function(){!/[!#$%^&*()+\=\[\]{};':"\\|,<>\/?]/.test(this.value)&&document.getElementById("ErrMsg_cusCAREPreChat-Email")&&removeDomElementbyId("ErrMsg_cusCAREPreChat-Email")});document.getElementById("cusCAREPreChat-Phone").addEventListener("change",function(){/^[0-9-]*$/.test(this.value)==!0&&document.getElementById("ErrMsg_cusCAREPreChat-Phone")?removeDomElementbyId("ErrMsg_cusCAREPreChat-Phone"):/^[0-9-]*$/.test(this.value)!=!1||document.getElementById("ErrMsg_cusCAREPreChat-Phone")||cusCarePreChatErrorMsgPlaceholder(this,n.phoneValidation)})}function custCarePreFormShowIssueDetailsCharRemainingOnKeyUp(n){try{document.getElementById("cusCAREPreChat-IssueDescription").onkeyup=function(){custCarePreFormShowIssueDetailsCharRemaining(n)}}catch(t){console.log("Error in:"+t)}}function custCarePreFormShowIssueDetailsCharRemaining(n){maxCharLength=n.issueDescriptionLength;innerTextColor="#767676";currentCharLength=document.getElementById("cusCAREPreChat-IssueDescription").value.length;document.getElementById("snappinCharCounter").innerText=currentCharLength+" / "+maxCharLength+" "+n.characters;innerTextColor=currentCharLength===parseInt(maxCharLength)?"#c23934":"#767676";document.getElementById("snappinCharCounter").style.color=innerTextColor}function onCareIssueChange(n,t){document.getElementById("cusCAREPreChatSnapinDom")&&document.getElementById("careIssueTypeLabVal")&&(document.getElementById("careIssueTypeLabVal").innerText=n,document.getElementById("careIssueTypeDom").setAttribute("assignedCareBtn",t))}function checkSprinklrCAREChatBot(n){try{if(console.log("checkSprinklrCAREChatBot Object Values:",n),n.orderNumber){var t={engine:"dell-orderintent",payloadTags:{lng:language,orderNumber:n.orderNumber,issueType:n.issueType,buid:n.BUID,countryCode:n.countryCode!=null&&n.countryCode!=undefined?n.countryCode:null},requestId:n.uuid,text:n.c_issueDescription,user_firstName:n.c_firstName,user_lastName:n.c_lastName,user_email:n.c_email,user_phoneNo:n.c_phoneNo,sprinklrURL:n.sprinklrOrderURL!=null&&n.sprinklrOrderURL!=undefined?n.sprinklrOrderURL:null,intentApiURL:n.orderIntentApiURL!=null&&n.orderIntentApiURL!=undefined?n.orderIntentApiURL:null,sprinklrLoadingMessage:n.sprinklrLoadingMessage!=null&&n.sprinklrLoadingMessage!=undefined?n.sprinklrLoadingMessage:null};return getSprinklrOrderIntent(t)}return console.log("Sprinklr required Value is missing in orderSnapinObject. Pleae check the below object value",n),!1}catch(i){return console.log("checkSprinklrChatBot-Error:",i),!1}}function create_snapinCareChatUuid(n){var t=(new Date).getTime(),i="xxxxxxxx-xxxx-5xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var i=(t+Math.random()*18)%18|0;return t=Math.floor(t/18),(n=="x"?i:i&3|8).toString(18)});return n.uuid=i,saveGlobalSnapinCareObjToSession(n),n}function triggerCareSnapinPostSprinkler(n){assignCarePropVal("890.130.154","890.130.165","SNAPIN: Transferred by Sprinklr","SNAPIN: Transferred by Sprinklr");snapInCareObject=sendGlobalSnapinCareObjToJson();snapInCareObject.caseNumber=n;snapInCareObject.sprinklrChatbotRouted=!0;saveGlobalSnapinCareObjToSession(snapInCareObject);connectToSnapInCareAgent(snapInCareObject)}function connectToSnapInCareAgent(n){loadingSnapinCareQueue();pushValsToSnapinInitCare(n);checkSnapinCareQueueStatus(n)==1?(eleExistCareWithVariable(".embeddedServiceSidebar .startButton",CareChatStarted,n),removecustCareFormValues()):careAgentUnavailableMsg()}function pushValsToSnapinInitCare(n){console.log("Final Value sent back to Lightning",n);var i=embedded_svc.settings.extraPrechatFormDetails,t=0;i.forEach(function(i){var r=i.transcriptFields[0];switch(r){case"Sprinklr_Chatbot_Routed__c":embedded_svc.settings.extraPrechatFormDetails[t].value=n.sprinklrChatbotRouted?n.sprinklrChatbotRouted:!1;break;case"Case_Number__c":embedded_svc.settings.extraPrechatFormDetails[t].value=n.caseNumber?n.caseNumber:"";break;case"ContactNumber__c":embedded_svc.settings.extraPrechatFormDetails[t].value=n.c_phoneNo?n.c_phoneNo:""}t++})}function sprinklrCareChatEnded(){snapinCAREChatInitiatedState(!1);var t=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI"),n=document.querySelector(".modalContainer  .dockableContainer .closeButton.headerItem");t&&n&&n.click();console.log("Sprinklr Care Chat ended Successfully");console.log(sendGlobalSnapinCareObjToJson());document.getElementById("cusCAREPreChatSnapinDom").remove()}function isSnapinInitiated(){try{return snapInCareObject=sendGlobalSnapinCareObjToJson(),snapInCareObject&&"snapinCareChatInitiated"in snapInCareObject&&snapInCareObject.snapinCareChatInitiated?!0:!1}catch(n){console.log(n)}}function snapinCAREChatInitiatedState(n){snapInCareObject=sendGlobalSnapinCareObjToJson();snapInCareObject&&(snapInCareObject.snapinCareChatInitiated=n,saveGlobalSnapinCareObjToSession(snapInCareObject))}function sendGlobalSnapinCareObjToJson(){return snapInCareObjectGlobal=sessionStorage.getItem("snapInCareObjectSession"),snapInCareObject=JSON.parse(snapInCareObjectGlobal)}function saveGlobalSnapinCareObjToSession(n){n&&(snapInCareObjectGlobal=JSON.stringify(n),sessionStorage.setItem("snapInCareObjectSession",snapInCareObjectGlobal))}function translationCare(n){var t=n.replace("_","-");return t=t.toLowerCase(),this.primPhone="Primary Phone Number",this.issueDesc="Issue Description",t=="de"?(this.issue="Issue",this.firstName="Vorname",this.lastName="Nachname",this.emailAdd="E-Mail",this.characters="characters",this.language="de"):t=="ja"?(this.issue="Issue",this.firstName="名",this.lastName="姓",this.emailAdd="メール",this.characters="characters",this.language="ja"):t=="ko"?(this.issue="Issue",this.firstName="이름(성 없이)",this.lastName="성",this.emailAdd="이메일",this.characters="characters",this.language="ko"):t=="es"?(this.issue="Issue",this.firstName="Nombre",this.lastName="Apellidos",this.emailAdd="Correo electrónico",this.characters="characters",this.language="es"):t=="zh"||t=="cn"||t=="zh-cn"?(this.issue="Issue",this.firstName="名字",this.lastName="姓氏",this.emailAdd="电子邮件",this.characters="characters",this.language="zh-CN"):t=="pt"||t=="pt-br"?(this.issue="Issue",this.firstName="Primeiro Nome",this.lastName="Sobrenome",this.emailAdd="Email",this.characters="characters",this.language="pt-br"):t=="pt-pt"?(this.issue="Issue",this.characters="characters",this.firstName="Nome próprio",this.lastName="Apelido",this.emailAdd="E-mail",this.language="pt-pt"):t=="nl"||t=="nl-nl"?(this.issue="Issue",this.firstName="Voornaam",this.lastName="Achternaam",this.emailAdd="E-mail",this.characters="characters",this.language="nl-NL"):t=="fr"?(this.issue="Issue",this.firstName="Prénom",this.lastName="Nom",this.emailAdd="Adresse e-mail",this.characters="characters",this.language="fr"):(this.issue="Issue",this.firstName="First Name",this.lastName="Last Name",this.emailAdd="Email Address",this.primPhone="Primary Phone Number",this.issueDesc="Issue Description",this.characters="characters",this.language="en"),console.log("Language = "+this.language),this}function removeDomElementbyId(n){if(document.getElementById(n)){var t=document.getElementById(n);t.parentNode.removeChild(t)}}function snapinCAREPageObserver(n,t){try{snapInLoadingPrechatForm=document.querySelector(".modalContainer.loading.initialLoading");snapInPrechatForm=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI");snapInWaiting=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer");snapInChatStarted=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText");snapInChatEnded=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .endChatContainer");snapInConfirmationDialoug=document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer");snapInhelpBtnDisabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonDisabled");snapInhelpBtnEnabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonEnabled");snapInLoadingPrechatForm?snapInCurrentPage="snapInLoadingPrechatForm":snapInPrechatForm?snapInCurrentPage="snapInPrechatForm":snapInWaiting?snapInCurrentPage="snapInWaiting":snapInChatStarted?snapInCurrentPage="snapInChatStarted":snapInChatEnded?snapInCurrentPage="snapInChatEnded":snapInConfirmationDialoug?snapInCurrentPage="snapInConfirmationDialoug":snapInhelpBtnDisabled?snapInCurrentPage="snapInhelpBtnDisabled":snapInhelpBtnEnabled?snapInhelpBtnEnabled="snapInhelpBtnEnabled":snapInCurrentPage=null;var i=window.MutationObserver||window.WebKitMutationObserver,r=function(n){n.forEach(function(n){var r,i;n.addedNodes.length>0&&(snapInLoadingPrechatForm=document.querySelector(".modalContainer.loading.initialLoading"),snapInPrechatForm=document.querySelector(".modalContainer  .dockableContainer .sidebarBody .activeFeature .featureBody .embeddedServiceSidebarState .prechatUI"),snapInWaiting=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer"),snapInChatStarted=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .chasitorControls .chasitorText"),snapInChatEnded=document.querySelector(".dockableContainer .activeFeature .embeddedServiceLiveAgentStateChat .endChatContainer"),snapInConfirmationDialoug=document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer"),snapInhelpBtnDisabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonDisabled"),snapInhelpBtnEnabled=document.querySelector(".embeddedServiceHelpButton .helpButton .helpButtonEnabled"),snapInEmbeddedServiceHelpBtn=document.querySelector(".embeddedServiceHelpButton"),snapInLoadingPrechatForm&&snapInCurrentPage!="snapInLoadingPrechatForm"?(snapInCurrentPage="snapInLoadingPrechatForm",serviceSidebar=document.querySelector(".modalContainer.embeddedServiceSidebar"),serviceSidebar.style.display="none"):snapInPrechatForm&&snapInCurrentPage!="snapInPrechatForm"?(snapInCurrentPage="snapInPrechatForm",serviceSidebar=document.querySelector(".modalContainer.embeddedServiceSidebar"),serviceSidebar.style.display="none"):snapInWaiting&&snapInCurrentPage!="snapInWaiting"?(snapInCurrentPage="snapInWaiting",assignCarePropVal("890.130.149","890.130.160"),snapinCareQueueLoaded(),eleExistCareWithVariable(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer .queuePositionNumber",waitCareChatCounter)):snapInChatStarted&&snapInCurrentPage!="snapInChatStarted"?(snapInCurrentPage="snapInChatStarted",snapinCAREChatInitiatedState(!0),snapinCareQueueLoaded(),addChatPrivacyInfoCARE(t)):snapInChatEnded&&snapInCurrentPage!="snapInChatEnded"?(snapInCurrentPage="snapInChatEnded",sessionStorage.removeItem("snapInCareObjectSession"),snapinCareQueueLoaded()):snapInConfirmationDialoug&&snapInCurrentPage!="snapInConfirmationDialoug"?(snapInCurrentPage="snapInConfirmationDialoug",r=document.querySelector(".dockableContainer .activeFeature .stateBody .dialogState .dialogTextContainer").innerText,showsCareAgentOflineMsg(r)&&(document.querySelector(".dialog-button-0.embeddedServiceSidebarButton").style.display="none"),i=document.querySelector(".modalContainer .dockableContainer .embeddedServiceSidebarHeader .closeButton.headerItem"),i&&i.addEventListener("click",function(){snapInConfirmationDialoug||sessionStorage.removeItem("snapInCareObjectSession")})):snapInEmbeddedServiceHelpBtn&&window.getComputedStyle(snapInEmbeddedServiceHelpBtn).display==="block"&&(snapInhelpBtnDisabled&&window.getComputedStyle(snapInhelpBtnDisabled).display==="flex"&&snapInCurrentPage!="snapInhelpBtnDisabled"?snapInCurrentPage="snapInhelpBtnDisabled":snapInhelpBtnEnabled&&window.getComputedStyle(snapInhelpBtnEnabled).display==="flex"&&snapInCurrentPage!="snapInhelpBtnEnabled"?(snapInCurrentPage==="snapInhelpBtnDisabled"&&(document.getElementById("cusCAREPreChatSnapinDom").style.display="block"),snapInCurrentPage="snapInhelpBtnEnabled",eleExistCare(".helpButtonEnabled #helpButtonSpan > .message",chatCareClick)):snapInCurrentPage="snapInNotAvilable"))})},u=new i(r),f=document.querySelector(n);u.observe(f,{childList:!0,subtree:!0})}catch(e){console.log("Error in Observer - "+e)}}function waitCareChatCounter(n,t,i){try{var r=document.querySelector(n).innerText;i!=r&&(assignCarePropVal("890.130.151","890.130.162","SNAPIN: Queue number "+r,"SNAPIN: Queue number "+r),clearInterval(t),r>0&&r!=""&&r!=null&&r!=undefined&&r!=" "&&eleExistWithVariable(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer .queuePositionNumber",waitCareChatCounter,document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateWaiting .waitingStateContainer .queuePositionNumber").innerText))}catch(u){clearInterval(t);console.log("Error in:"+u)}}function showsCareAgentOflineMsg(n){return n.includes("Im Moment kann nicht gechattet werden. Versuchen Sie es später erneut.")||n.includes("ただいまチャットできません。 後でもう一度お試しください。")||n.includes("지금은 채팅을 할 수 없습니다. 나중에 다시 시도하십시오.")||n.includes("No podemos chatear en estos momentos. Inténtelo de nuevo más tarde.")||n.includes("我们现在无法聊天。 请稍后重试。")||n.includes("我們目前無法聊天。 請稍後再試一次。")||n.includes("Não podemos conversar neste momento. Tente novamente mais tarde.")||n.includes("Não podemos conversar agora. Tente novamente mais tarde.")||n.includes("We kunnen momenteel niet chatten. Probeer het later opnieuw.")||n.includes("Nous ne pouvons pas discuter pour le moment. Veuillez réessayer ultérieurement.")||n.includes("Vi kan ikke chatte lige nu. Prøv igen senere.")||n.includes("Emme voi chatata juuri nyt. Yritä myöhemmin uudelleen.")||n.includes("Non possiamo chattare al momento Riprova più tardi.")||n.includes("Vi kan ikke chatte akkurat nå. Prøv på nytt senere.")||n.includes("В настоящее время чат недоступен. Повторите попытку позже.")||n.includes("Vi kan inte chatta just nu. Försök igen senare.")||n.includes("เราไม่สามารถสนทนาได้ในตอนนี้ ลองอีกครั้งในภายหลัง")||n.includes("Nie możemy w tej chwili rozmawiać na czacie Spróbuj ponownie później.")||n.includes("Momenálne nemôžeme četovať. Skúste to znova.")||n.includes("Não podemos conversar agora. Tente novamente mais tarde.")||n.includes("We can't chat right now. Try again later.")?!0:!1}function chatCareClick(n,t){try{document.querySelector(n)&&document.querySelector(n).click();clearInterval(t)}catch(i){console.log("Error in:"+i)}}function eleExistCare(n,t){var i=setInterval(function(){if(document.querySelector(n))try{t(n,i)}catch(r){console.log("error in "+t+" function: "+r)}},1e3)}function addChatPrivacyInfoCARE(n){setTimeout(function(){var r=document.getElementById("snapinChatPopUpMsg"),e=document.querySelector(".dockableContainer .chatMessage.ended"),u,t,i,f;r?e&&(r.style.display="none"):(u=n&&"chatPrivacyInfo"in n&&n.snapinChatPopUpMsgDom?n.snapinChatPopUpMsgDom:"Please do not share any payment or sensitive information in this chat window.",t=document.createElement("DIV"),t.id="snapinChatPopUpMsg",i=document.querySelector(".dockableContainer .embeddedServiceLiveAgentStateChatInputFooter"),i.parentNode.insertBefore(t,i),innerVal='<span style="float: left;margin: 11px;fill:#0A6EBE;"><svg x="0px" y="0px" width="20px" height="20px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85   c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786   c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576   c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765   c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"/><\/g><\/svg><\/span><span class="cusPreChat-x-small cusPreChat-embeddedServiceIcon" id="btnCloseSnapinPopMsg" style="float:right;padding:5px;cursor:pointer;"> <svg focusable="false" aria-hidden="true" data-key="close" viewBox="0 0 120 120" style="fill:#333"> <path d="M65.577 53.73l27.5-27.71c1.27-1.27 1.27-3.174 0-4.445l-4.23-4.44c-1.272-1.27-3.175-1.27-4.445 0L56.694 44.847c-.847.845-2.115.845-2.96 0L26.018 16.922c-1.27-1.27-3.174-1.27-4.445 0l-4.44 4.442c-1.27 1.27-1.27 3.174 0 4.444l27.71 27.71c.846.846.846 2.116 0 2.962L16.923 84.403c-1.27 1.27-1.27 3.174 0 4.444l4.442 4.442c1.27 1.268 3.174 1.268 4.444 0l27.71-27.713c.846-.847 2.116-.847 2.962 0L84.19 93.29c1.27 1.268 3.174 1.268 4.445 0l4.44-4.445c1.27-1.268 1.27-3.17 0-4.44l-27.5-27.712c-.847-.847-.847-2.115 0-2.96z"><\/path><\/svg><\/span><p style="text-align:left;padding:7px;margin:0;font-size:13px;background:#DFF1FE;border-top:1px solid #0A6EBE;border-bottom:1px solid #0A6EBE;color:#333;">'+u+"<\/p>",document.getElementById("snapinChatPopUpMsg").innerHTML=innerVal,f=document.getElementById("btnCloseSnapinPopMsg"),f.addEventListener("click",function(){document.getElementById("snapinChatPopUpMsg").style.display="none"}))},50)}function eleExistCareWithVariable(n,t,i){var r=setInterval(function(){if(document.querySelector(n))try{t(n,r,i)}catch(u){console.log("error in "+t+" function: "+u)}},1e3)}function assignCarePropVal(n,t,i,r){document.getElementById("cusCAREPreChat-OrderNum")?callDellmetricsTrack(n,i):callDellmetricsTrack(t,r)}function snapInCareClickListners(){window.addEventListener("click",function(n){var t,i;try{if(document.querySelector(".embeddedServiceSidebar")||document.querySelector(".embeddedServiceHelpButton"))if(t=n.target||n.srcElement,t&&t.tagName.toLowerCase()==="embeddedservice-chat-header"&&(closestByTagName(n.toElement,"svg")||closestByTagName(n.toElement,"button")))closestByTagName(n.toElement,"svg").dataset.key==="minimize_window"||closestByTagName(n.toElement,"button").className==="minimizeButton"?assignCarePropVal("890.130.143","890.130.154"):(closestByTagName(n.toElement,"svg").dataset.key==="close"||closestByTagName(n.toElement,"button").className==="closeButton")&&assignCarePropVal("890.130.145","890.130.156");else if(t&&t.tagName.toLowerCase()==="embeddedservice-chat-input-footer-menu"&&(closestByTagName(n.toElement,"svg")||closestByTagName(n.toElement,"button")))closestByTagName(n.toElement,"svg").dataset.key==="rows"||closestByTagName(n.toElement,"button").className==="slds-button slds-button_icon slds-button_icon-container-more slds-button_icon-large"?this.console.log("CARE: Hamburger Menu"):(i=closestByTagName(n.toElement,"a"),i!=undefined&&i!=null&&i.innerText&&this.console.log("CARE: '"+i.innerText+"' Button Clicked"));else if(closestByTagName(t,"button")!=null)switch(closestByTagName(t,"button").className){case"dialogButton dialog-button-0 uiButton embeddedServiceSidebarButton":console.log("ClickedOn '"+t.innerText+"' button");break;case"dialogButton dialog-button-1 uiButton embeddedServiceSidebarButton":console.log("ClickedOn '"+t.innerText+"' button");break;case"dialogButton dialog-button-1 uiButton--inverse uiButton embeddedServiceSidebarButton":console.log("ClickedOn '"+t.innerText+"' button");break;case"waitingCancelChat uiButton--inverse uiButton embeddedServiceSidebarButton":console.log("ClickedOn Cancel Chat button while waiting in queue");assignCarePropVal("890.130.150","890.130.161");break;case"closeButton headerItem":console.log("ClickedOn Close (x) button");assignCarePropVal("890.130.145","890.130.156");break;case"minimizeButton headerItem":console.log("ClickedOn Minimize button");assignCarePropVal("890.130.143","890.130.154");break;case"sidebarHeader minimizedContainer helpButton embeddedServiceSidebarMinimizedDefaultUI":console.log("ClickedOn Maximize button");assignCarePropVal("890.130.144","890.130.155");break;case"sidebarHeader minimizedContainer embeddedServiceSidebarMinimizedDefaultUI":console.log("ClickedOn Maximize button");assignCarePropVal("890.130.144","890.130.155");break;case"uiButton helpButtonEnabled":case"uiButton no-hover helpButtonEnabled":document.querySelector(".helpButtonEnabled #helpButtonSpan > .message").innerText=="Chat Now"?(snapInCurrentPage=null,document.getElementById("cusCAREPreChatSnapinDom").display==="none"&&console.log("StartsChat for "+snapinChatGlobalServiceTag+"|"+snapinChatGlobalIssueType+"|"+snapinChatGlobalProductName)):document.getElementById("cusCAREPreChatSnapinDom").display==="none"&&console.log("AgentOffline for "+snapinChatGlobalServiceTag+"|"+snapinChatGlobalIssueType+"|"+snapinChatGlobalProductName);break;default:closestByTagName(t,"a").className=="chatOption embeddedServiceLiveAgentStateChatHeaderOption"&&console.log("ClickedOn "+closestByTagName(t,"a").text)}else closestByTagName(t,"a").className=="chatOption embeddedServiceLiveAgentStateChatHeaderOption"&&console.log("ClickedOn "+closestByTagName(t,"a").text)}catch(r){this.console.log("Error in function",r)}})}function checkIfIssueDescIsOptionalInCare(n,t){var i,r;"issueType"in n&&n.issueType!=""&&n.issueType!=null&&n.issueType!=undefined&&n.issueType!="None"&&document.getElementById("CareIssue_Description_Cust_Label")?(removeDomElementbyId("issueDescIsOptionalInCare"),i=document.createElement("span"),i.id="issueDescIsOptionalInCare",i.innerText=t.optional,r=document.getElementById("CareIssue_Description_Cust_Label"),r.appendChild(i),removeDomElementbyId("ErrMsg_cusCAREPreChat-IssueDescription")):removeDomElementbyId("issueDescIsOptionalInCare")}function careAgentUnavailableMsg(){var n=document.getElementById("cusCAREPreChat-sidebarLoadingIndicator");n&&window.getComputedStyle(n).display!="none"&&(document.getElementById("cusCAREPreChat-alertMsgContainer").style.display="flex",document.getElementById("cusCAREPreChat-sidebarLoadingIndicator").style.display="none",document.getElementById("cusCAREPreChat-hideWhileLoading").style.display="none",document.getElementById("cusCAREPreChat-CloseChat").addEventListener("click",function(){document.getElementById("cusCAREPreChat-embeddedServiceHelpButton").style.display="none";document.getElementById("cusCAREPreChat-alertMsgContainer").style.display="none";document.getElementById("cusCAREPreChat-alertMsgContainer").style.display="none";document.getElementById("cusCAREPreChat-hideWhileLoading").style.display="block";document.getElementById("cusCAREPreChatSnapinDom").style.display="none";document.getElementById("cusCAREPreChat-minimize-btn").style.display="block";document.getElementById("cusCAREPreChat-close-btn").style.display="block"}))}function checkSnapinCareQueueStatus(n){if(n.checkQueueStatusInBizHoursUrl&&n.hoursOfOperation&&n.timeZone&&(n.checkQueueStatusInBizHoursUrl!=""||n.checkQueueStatusInBizHoursUrl!=null||n.checkQueueStatusInBizHoursUrl!=undifined)&&(n.hoursOfOperation!=""||n.hoursOfOperation!=null||n.hoursOfOperation!=undifined)&&(n.timeZone!=""||n.timeZone!=null||n.timeZone!=undifined))return httpGetCareBusinessHrAgentAvailability(n.checkQueueStatusInBizHoursUrl+"?chatHours="+escape(n.hoursOfOperation)+"&timeZone="+escape(n.timeZone)+"&buttonId="+n.buttonId);if("checkBtnAvailabilityUrl"in n&&n.checkBtnAvailabilityUrl&&n.checkBtnAvailabilityUrl!=""){var t=httpGetCareAgentAvailability(n.checkBtnAvailabilityUrl+n.buttonId);return t?1:4}return 1}function httpGetCareAgentAvailability(n){try{var t=new XMLHttpRequest;return t.onreadystatechange=function(){t.readyState==4&&t.status==200&&(returnValue=t.responseText)},t.open("GET",n,!1),t.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest"),t.setRequestHeader("Content-Type","application/text; charset=utf-8"),t.send(null),returnValue}catch(i){console.log("Error in: "+i)}}function httpGetCareBusinessHrAgentAvailability(n){try{var t=new XMLHttpRequest;return t.onreadystatechange=function(){t.readyState==4&&t.status==200&&(returnValue=t.responseText)},t.open("GET",n,!1),t.setRequestHeader("HTTP_X_REQUESTED_WITH","XMLHttpRequest"),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.send(null),returnValue}catch(i){console.log("Error in: "+i)}}function canSupportSprinklr(n,t){userAgent=navigator.userAgent;n.userAgent=userAgent;sprinklrChatBotObject=n;snapInObject.IsResumeEmailSent=!1;saveGlobalSnapinObjToSession(snapInObject);var i=!1;return t||n!=undefined&&n!=null&&n.payloadTags!=undefined&&n.payloadTags!=null&&(i=GetSprinklrIntent(n)),i}function LoadDndData(n){sprinklrChatBotObject.IsProductScanEnabled=n.IsProductScanEnabled;$.eSupportClientApi===undefined&&loadEsupportClientApi(n);n.IsScanIcSourceDnd!==undefined&&n.IsScanIcSourceDnd&&(sprinklrChatBotObject.IsScanIcSourceDnd=n.IsScanIcSourceDnd,sprinklrChatBotObject.ScanIcSource="DND",sprinklrChatBotObject.DLMScanIcSource=sprinklrChatBotObject.ScanIcSource)}function GetSprinklrIntent(n){var r="https://www.dell.com/support/guidedpath/Sprinklr/CanSupport",t,i;n!=null&&n!=undefined&&n.intentApiURL!=null&&n.intentApiURL!=undefined&&(r=n.intentApiURL);t={engine:"dellintent",payloadTags:{lng:snapInObject.language,productCode:snapInObject.productCode,issueType:snapInObject.issueType,issueVal:snapInObject.issueVal,serviceTag:snapInObject.serviceTag},requestId:snapInObject.uuid,text:snapInObject.c_issueDescription,userAgent:n.userAgent};try{$.ajax({url:r,data:JSON.stringify(t),dataType:"json",type:"POST","async":!1,cache:!1,contentType:"application/json; charset=utf-8",success:function(i){if(i!=null&&i!=undefined&&(canSupport=i.canSupport,snapInObject.IsODEScanEnabled=i.IsODEScanEnable,saveGlobalSnapinObjToSession(snapInObject),LoadDndData(i),i.canSupport==!1)){var r="";i.failReason.search("INTENTAPI_FALSE")>=0?(r="SPRINKLR: Intentapifailure|false|"+t.payloadTags.issueType+"|ST:"+t.payloadTags.serviceTag+" - "+i.failReason+"|UUID:"+n.requestId,setDellMetrics("222.890.230.101",r)):(r="SPRINKLR: Intentapifailure|Exception|"+t.payloadTags.issueType+"|ST:"+t.payloadTags.serviceTag+" - "+i.failReason+"|UUID:"+n.requestId,setDellMetrics("222.890.230.101",r),console.error(r))}},error:function(i){var r="SPRINKLR: clientsidefailure|CanSupport|"+t.payloadTags.issueType+"|ST:"+t.payloadTags.serviceTag+"|UUID:"+n.requestId;setDellMetrics("222.890.230.102",r);r=r+"|Exception:"+i;console.error(i)}})}catch(u){i="SPRINKLR: clientsidefailure|CanSupport|"+t.payloadTags.issueType+"|UUID:"+n.requestId;setDellMetrics("222.890.230.102",i);i=i+"|Exception:"+u;console.error(i)}return canSupport}function sprinklrEventCallBack(n){if(n.source===document.getElementById("page").contentWindow){const t=JSON.parse(n.data),i=callabacks[t.action];i&&i(t.data)}}function startSprinklr(){var r="",u="5ed8b16715e84a7c9791f9a6_app_455930",n="",t="No",i=GetLwpDetails_SEO(),f,e,o,s;loadSprinklrObjectFromSession();snapInObject=sendGlobalSnapinObjToJson();sprinklrChatBotObject.IsDriversFlowActive=!1;sprinklrChatBotObject.payloadTags.productName!=undefined&&sprinklrChatBotObject.payloadTags.productName!=""&&(r=sprinklrChatBotObject.payloadTags.productName);sprinklrChatBotObject.IsProductScanEnabled&&(t="Yes");typeof snapInObject.FaqAppName!="undefined"&&snapInObject.FaqAppName!=null&&snapInObject.FaqAppName!=""?(snapInObject.FaqAppName=snapInObject.FaqAppName.toLowerCase(),n="https://prod-live-chat.sprinklr.com/page?appId="+u+"&scope=CONVERSATION&disableAttachment=true&context__c_611d13cff9e0c570247988d7=",sprinklrChatBotObject!=null&&sprinklrChatBotObject!=undefined&&sprinklrChatBotObject.sprinklrFaqURL!=null&&sprinklrChatBotObject.sprinklrFaqURL!=undefined&&(n=sprinklrChatBotObject.sprinklrFaqURL),n=snapInObject.FaqAppName=="search"?n+snapInObject.FaqAppName+"&skipDefaultMessages=true":n+snapInObject.FaqAppName,sprinklrFullURL=n+"&context_5ea96157fff5ba6f3f51019f="+sprinklrChatBotObject.requestId+"&context__c_61e037c67b454e3c303eea50="+snapInObject.isAgentTransferEnabled+"&context__c_6346be254acf7a2902349243="+snapInObject.IsODEScanEnabled+"&context__c_60b5c3022e36a25c85fb73ee="+i+"&locale="+i,snapInObject.channelLinkCmsKey!=""&&snapInObject.channelLinkCmsKey!=null&&snapInObject.channelLinkCmsKey!=undefined&&snapInObject.channelLinkCmsKey.toLowerCase()=="va_sprinklr"?snapInObject.serviceTag!=""&&snapInObject.serviceTag!=null&&snapInObject.serviceTag!=undefined?sprinklrFullURL+="&context_5e7e19512afc917d25092527="+snapInObject.productCode+"&context__c_62b3044f21c8df02f595aa3a="+snapInObject.lob+"&context_5eaadf2cb4141b114f023c0a="+snapInObject.serviceTag+"&context__c_5fa9299ffda5f35fbd615e02="+t:(sprinklrFullURL+="&context_5e7e19512afc917d25092527="+snapInObject.productCode+"&context__c_62b3044f21c8df02f595aa3a="+snapInObject.lob,sprinklrFullURL+='&context_5eaadf2cb4141b114f023c0a=""&context__c_5fa9299ffda5f35fbd615e02='+t):sprinklrFullURL+=snapInObject.serviceTag!=""&&snapInObject.serviceTag!=null&&snapInObject.serviceTag!=undefined?"&context_5e7e19512afc917d25092527="+r+"&context_5eaadf2cb4141b114f023c0a="+sprinklrChatBotObject.payloadTags.serviceTag+"&context__c_5fa9299ffda5f35fbd615e02="+t:'&context_5eaadf2cb4141b114f023c0a=""&context__c_5fa9299ffda5f35fbd615e02='+t,sprinklrFullURL+="&context__c_608a9c62fcf3f61c295cc9d7="+window.location.href,sprinklrChatBotObject.userAuthToken!=undefined&&sprinklrChatBotObject.userAuthToken!=null&&sprinklrChatBotObject.sprinklrContextId!=undefined&&sprinklrChatBotObject.sprinklrContextId!=null&&(sprinklrFullURL=sprinklrFullURL+"&user_authToken="+sprinklrChatBotObject.userAuthToken+"&landingScreen=CONVERSATION_"+sprinklrChatBotObject.sprinklrContextId),snapInObject.isFaqResumeChat==!0&&(sprinklrFullURL=sprinklrFullURL+"&context__c_61a726644ca7ae08475e038d=true",snapInObject.FaqAppName=="search"?sprinklrFullURL=sprinklrFullURL.replace("skipDefaultMessages=true","skipDefaultMessages=false"):sprinklrFullURL+="&skipDefaultMessages=false")):(n="https://prod-live-chat.sprinklr.com/page?appId="+u+"&scope=CONVERSATION&skipDefaultMessages=true&context_5eaadf7db4141b114f02514d=",sprinklrChatBotObject!=null&&sprinklrChatBotObject!=undefined&&sprinklrChatBotObject.payloadTags.ISGProductSelected!=null&&sprinklrChatBotObject.payloadTags.ISGProductSelected!=undefined&&sprinklrChatBotObject.payloadTags.ISGProductSelected?n="https://prod-live-chat.sprinklr.com/page?appId=62c54107cc73a81c41de1833_app_1331964&scope=CONVERSATION&skipDefaultMessages=true&context_5eaadf7db4141b114f02514d=":sprinklrChatBotObject!=null&&sprinklrChatBotObject!=undefined&&sprinklrChatBotObject.sprinklrURL!=null&&sprinklrChatBotObject.sprinklrURL!=undefined&&(n=sprinklrChatBotObject.sprinklrURL),sprinklrFullURL=n+sprinklrChatBotObject.payloadTags.issueVal+"&context_5e7e19512afc917d25092527="+r+"&context_5eaadf2cb4141b114f023c0a="+sprinklrChatBotObject.payloadTags.serviceTag+"&user_firstName="+sprinklrChatBotObject.user_firstName+"&user_lastName="+sprinklrChatBotObject.user_lastName+"&user_email="+sprinklrChatBotObject.user_email+"&user_phoneNo="+sprinklrChatBotObject.user_phoneNo+"&context_5ea96157fff5ba6f3f51019f="+sprinklrChatBotObject.requestId+"&disableAttachment=true&context__c_5fa9299ffda5f35fbd615e02="+t+"&context__c_6346be254acf7a2902349243="+snapInObject.IsODEScanEnabled+"&locale="+i+"&context__c_60b5c3022e36a25c85fb73ee="+i,snapInObject.is24VAResumeChat==!0&&(sprinklrFullURL=sprinklrFullURL+"&context__c_61a726644ca7ae08475e038d=true"),f="BH",e="OBH",sprinklrFullURL+=snapInObject.queueStatus==4?"&context__c_62b3033221c8df02f593da85="+e:"&context__c_62b3033221c8df02f593da85="+f,sprinklrChatBotObject.userAuthToken!=undefined&&sprinklrChatBotObject.userAuthToken!=null&&sprinklrChatBotObject.sprinklrContextId!=undefined&&sprinklrChatBotObject.sprinklrContextId!=null&&(sprinklrFullURL=sprinklrFullURL+"&user_authToken="+sprinklrChatBotObject.userAuthToken+"&landingScreen=CONVERSATION_"+sprinklrChatBotObject.sprinklrContextId,sprinklrFullURL=sprinklrFullURL.replace("skipDefaultMessages=true","skipDefaultMessages=false")),sprinklrFullURL+="&context__c_608a9c62fcf3f61c295cc9d7="+window.location.href);n=encodeURI(sprinklrFullURL);o=sprinklrChatBotObject.sprinklrLoadingMessage!=null&&sprinklrChatBotObject.sprinklrLoadingMessage!=undefined?sprinklrChatBotObject.sprinklrLoadingMessage:"Please wait while Virtual Agent is loading.";s='<div id="sprinklrIssueSpin" aria-live="polite" class="justify-content-center pt-2 js-loading-icon cusPreChat-dockableContainer" style="display:block; background-color: rgb(255,255,255); z-index: 10000;">    <div class="d-flex flex-column align-items-center" style="top: 50%; transform: translate(-50%, -50%); position: absolute; left: 50%; "><svg class="dti dti-loading mb-2" version="1.1" width="32" height="32" viewBox="0 0 32 32">            <path fill="#ddd" d="M29.746 16c0-7.592-6.154-13.746-13.746-13.746s-13.746 6.154-13.746 13.746c0 7.592 6.154 13.746 13.746 13.746s13.746-6.154 13.746-13.746zM16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16c-8.837 0-16-7.163-16-16s7.163-16 16-16z" /><path fill="#41b6e6" d="M3.078 11.3c1.92-5.277 6.981-9.046 12.922-9.046 5.846 0 10.839 3.649 12.827 8.794l2.105-0.806c-2.312-5.991-8.126-10.241-14.932-10.241-6.917 0-12.808 4.389-15.042 10.534l2.12 0.766z" /><\/svg><p class="card-text text-center ips-loading-icon-text" style="width: 80%;">'+o+"<\/p> <\/div><\/div>";let h=s+' <div id="sprinklrChatDom"  style="display:none;" class="cusPreChat-modalContainer"><div class="cusPreChat-dockableContainer"><div class="cusPreChat-embeddedServiceSidebarHeader" style="height: 100%;"><iframe id = "page" sandbox = "allow-scripts allow-same-origin allow-popups allow-forms allow-downloads allow-top-navigation" src="'+sprinklrFullURL+'" style="height:100%; width:100%; border-radius: 8px 8px 0 0; border-color: #00447C;" allowfullscreen><\/iframe><\/div ><\/div ><\/div > ',c=document.body||document.getElementsByTagName("body")[0];c.insertAdjacentHTML("beforeend",h);stCtr=0;window.addEventListener("message",sprinklrEventCallBack)}function loadSprinklrObjectFromSession(){if(sprinklrChatBotObject==undefined||sprinklrChatBotObject==null||jQuery.isEmptyObject(sprinklrChatBotObject)){var n=sessionStorage.getItem("sprinklrChatBotObject");sprinklrChatBotObject=JSON.parse(n)}}function getMessage(n){var f,t,i,r,o,e,u,h,c;loadSprinklrObjectFromSession();f=n.type.toLowerCase();try{n.payload!=undefined&&n.payload!=null&&(n.payload.contextId!=undefined&&n.payload.contextId!=null&&(sprinklrChatBotObject.sprinklrContextId=n.payload.contextId),n.payload.userAuthToken!=undefined&&n.payload.userAuthToken!=null&&(sprinklrChatBotObject.userAuthToken=n.payload.userAuthToken));switch(f){case"close":setDellMetrics("222.890.230.106","SPRINKLR: CloseChat|IssueResolved|"+sprinklrChatBotObject.payloadTags.issueType+"|UUID:"+sprinklrChatBotObject.requestId);closeSprinklrChat();break;case"trnsfrtolivechat":snapInObject=sendGlobalSnapinObjToJson();t=n.payload.channelCaseNumber!=undefined&&n.payload.channelCaseNumber!=null?n.payload.channelCaseNumber:"";t==""&&console.error("SFDC case number missing from Sprinklr");i={caseNumber:n.payload.caseNumber,contextId:n.payload.contextId,sfdcCaseNumber:t};snapInObject.caseNumber=t;snapInObject.FaqAppName!=null&&snapInObject.FaqAppName!=undefined&&snapInObject.FaqAppName!=""?(n.payload.externalParams!=undefined&&typeof n.payload.externalParams=="string"&&(n.payload.externalParams=JSON.parse(n.payload.externalParams)),snapInObject.c_firstName=n.payload.externalParams.First_Name[0],snapInObject.c_lastName=n.payload.externalParams.Last_Name[0],snapInObject.c_email=n.payload.externalParams.Email[0],snapInObject.c_phoneNo=n.payload.externalParams.Phone_Number[0],snapInObject.c_issueDescription=n.payload.externalParams.Issue_description[0],sprinklrChatBotObject.user_firstName=snapInObject.c_firstName,sprinklrChatBotObject.user_lastName=snapInObject.c_lastName,sprinklrChatBotObject.user_email=snapInObject.c_email,sprinklrChatBotObject.user_phoneNo=snapInObject.c_phoneNo,sprinklrChatBotObject.text=snapInObject.c_issueDescription,saveGlobalSnapinObjToSession(snapInObject),snapInObject.chatAvailable==1?(triggerSnapinWithoutPrecaht(snapInObject,transferToLiveAgent,i),transferToLiveAgent(i)):noAgentAvailable(i,snapInObject.chatAvailable)):(setDellMetrics("222.890.230.106","SPRINKLR: closeChat-sfdcCaseNumber "+t+"|transferToLiveAgent|"+sprinklrChatBotObject.payloadTags.issueType+"|UUID:"+sprinklrChatBotObject.requestId),GetEncryptedSvcTag("//www.dell.com/support/components/detectproduct/encvalue/__servicetag?appName=guided",snapInObject.serviceTag),saveGlobalSnapinObjToSession(snapInObject),transferToLiveAgent(i));logCaseNumbers(n.payload.caseNumber,n.payload.channelCaseNumber,f);break;case"chateligiblecheck":logCaseNumbers(n.payload.caseNumber,n.payload.channelCaseNumber,f);snapInObject.FaqAppName!=null&&snapInObject.FaqAppName!=undefined&&snapInObject.FaqAppName!=""&&(typeof n.payload.externalParams=="string"&&(n.payload.externalParams=JSON.parse(n.payload.externalParams)),snapInObject.serviceTag=n.payload.externalParams.Service_tag[0],sprinklrChatBotObject.payloadTags.serviceTag=n.payload.externalParams.Service_tag[0],saveGlobalSnapinObjToSession(snapInObject));checkLiveChatDetails(n.payload.caseNumber).done(function(){postChatEligibility(n.payload.caseNumber,n.payload.channelCaseNumber)});break;case"servicetagcheck":if(sprinklrChatBotObject.tagMatch=null,window.sessionStorage.setItem("SAScanError",null),tagFromSA=window.localStorage.getItem("tagFromSA"),(tagFromSA==null||tagFromSA==undefined)&&(tagFromSA=window.sessionStorage.getItem("tagFromSA")),tagFromSA!=null&&tagFromSA!=undefined&&sprinklrChatBotObject.payloadTags!=null&&sprinklrChatBotObject.payloadTags.serviceTag.toLowerCase()==tagFromSA.toLowerCase()){sprinklrChatBotObject.tagMatch=!0;postServiceTagMatch(n.payload.contextId,sprinklrChatBotObject.requestId,sprinklrChatBotObject.tagMatch);break}try{typeof $.canSupportProgress=="function"&&(isLatestSA=$.canSupportProgress(),isLatestSA==-1?getDSD(function(t){t.findService(function(){isLatestSA=$.canSupportProgress();serviceTagCheckBySAversion(n)},function(){serviceTagCheckBySAversion(n)})}):serviceTagCheckBySAversion(n))}catch(s){console.error("Error in ChatBot-SA call Exception in servicetagcheck ; Method: getMessage > Error: "+s);sprinklrChatBotObject.tagMatch=null}r=0;o=setInterval(function(){r++;sprinklrChatBotObject.tagMatch!=null?(r=0,clearInterval(o),postServiceTagMatch(n.payload.contextId,sprinklrChatBotObject.requestId,sprinklrChatBotObject.tagMatch)):r>15&&(r=0,clearInterval(o),sprinklrChatBotObject.tagMatch=null,postServiceTagMatch(n.payload.contextId,sprinklrChatBotObject.requestId,sprinklrChatBotObject.tagMatch))},1e3);break;case"action_start":try{n.payload!=undefined&&n.payload!=null&&n.payload.actionId!=undefined&&n.payload.actionId!=null&&n.payload.actionId=="AnalyzeDrivers"&&(sprinklrChatBotObject.IsDriversFlowActive=!0,sessionStorage.setItem("sprinklrChatBotObject",JSON.stringify(sprinklrChatBotObject)),typeof $.canSupportProgress=="function"&&(isLatestSA=$.canSupportProgress(),isLatestSA==-1&&getDSD(function(n){n.findService(function(){isLatestSA=$.canSupportProgress()},function(n){console.error("Error in Findservice ; Method: getMessage - servicetagcheck ; SA NotInstalled Check > Error: "+n)})})),isLatestSA===1?requestDeviceDriversScan_sprinklr().done(function(n){consoleLog(JSON.stringify(n))}).fail(function(n){console.error("Error in requestDeviceDriversScan_sprinklr ; Method: getMessage - action_Start >  Fail: "+n)}):getDSD(function(n){n.findService(function(){requestDeviceDriversScan(n,sprinklrChatBotObject.ScanIcSource).then(function(n){consoleLog(JSON.stringify(n))}).fail(function(n){console.error("Error in ChatBot-SA call requestDeviceDriversScan ; Method: setCurrentSystemInfo > Fail: "+n)})})}),driverScanResult=JSON.parse(sessionStorage.getItem("DriverScanData")),u=0,driverScanResult==null&&driverScanResult==undefined?e=setInterval(function(){if(driverScanResult=JSON.parse(sessionStorage.getItem("DriverScanData")),SAScanError=JSON.parse(sessionStorage.getItem("SAScanError")),console.log("Waiting for driver scan result. count = "+u),u=u+1,driverScanResult!=undefined||driverScanResult!=null?(clearInterval(e),console.log("DriverScanData = "+driverScanResult),checkDriverScanResult(driverScanResult,n.payload.contextId,sprinklrChatBotObject.requestId)):(SAScanError!=null||SAScanError!=undefined)&&(clearInterval(e),console.log("SAScanError = "+SAScanError),checkDriverScanResult(driverScanResult,n.payload.contextId,sprinklrChatBotObject.requestId)),u>=60){clearInterval(e);postDriverScanResult(n.payload.contextId,sprinklrChatBotObject.requestId,{type:"DriverUpdates",totalDrivers:0,manualInstallation:!1,restart:!1,additional:{}})}},1e4):checkDriverScanResult(driverScanResult,n.payload.contextId,sprinklrChatBotObject.requestId))}catch(s){console.error("Exception in action_start ; Method: getMessage > Error: "+s);h={type:"DriverUpdates",totalDrivers:0,manualInstallation:!1,restart:!1,additional:{}};postDriverScanResult(n.payload.contextId,sprinklrChatBotObject.requestId,h)}break;case"navigatetodownloadpage":window.sessionStorage.setItem("sprinklrChatBotObject",JSON.stringify(sprinklrChatBotObject));window.sessionStorage.setItem("snapInObjectSession",JSON.stringify(snapInObject));NavigateToDrivers();break;case"restartevent":c=SprinklrEmailNotification();c&&(setDellMetrics("222.890.230.103","SPRINKLR: restartevent|"+sprinklrChatBotObject.payloadTags.issueType+"|UUID:"+sprinklrChatBotObject.requestId),closeSprinklrChat());break;case"issueintent":typeof n.payload.externalParams=="string"&&(n.payload.externalParams=JSON.parse(n.payload.externalParams));snapInObject.DiagIssueType=n.payload.externalParams.IssueIntent[0];snapInObject.caseNumber=n.payload.channelCaseNumber;snapInObject.sprinklrCaseNumber=n.payload.caseNumber;saveGlobalSnapinObjToSession(snapInObject);GetComponentfromIssueType(snapInObject.DiagIssueType)}}catch(l){console.log("Exception in getMessage > Error: "+l);console.error("SPRINKLR: Error in getMessage|IssueType:"+sprinklrChatBotObject.payloadTags.issueType+"|ST:"+sprinklrChatBotObject.payloadTags.serviceTag+"|UUID:"+sprinklrChatBotObject.requestId+"|Exception:"+l)}}function checkDriverScanResult(n,t,i){var r;n!=null&&n!=undefined&&n.Updates!=undefined&&n.Updates!=null?(console.log("DriverScanData driverScanResult.Updates = "+n.Updates.length),r=getDriverUpdatesData(n),r!=undefined&&r!=null?setTimeout(function(){postDriverScanResult(t,i,r)},4e3):(console.error("Error in getDriverUpdatesData"),r={type:"DriverUpdates",totalDrivers:0,manualInstallation:!1,restart:!1,additional:{}},postDriverScanResult(t,i,r))):(console.log("Driver scan result is not available"),r={type:"DriverUpdates",totalDrivers:0,manualInstallation:!1,restart:!1,additional:{}},postDriverScanResult(t,i,r))}function postDriverScanResult(n,t,i){sprinklrChatBotObject.driversDownloaded=0;sprinklrChatBotObject.downloadError=0;sprinklrChatBotObject.installError=0;sprinklrChatBotObject.installed=0;sprinklrChatBotObject.cancelled=!1;sprinklrChatBotObject.paused=!1;sprinklrChatBotObject.prevDownloadingUnits=0;sprinklrChatBotObject.prevInstallingUnits=0;sprinklrChatBotObject.prevDownloadPercent=0;sprinklrChatBotObject.prevInstallPercent=0;sprinklrChatBotObject.savedFolder="";sprinklrChatBotObject.notDownloadManager=!1;sprinklrChatBotObject.BDBFinalResponse=!1;document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"EVENT_PUBLISH",payload:{contextId:n,id:t,event:{type:"DriverUpdates",totalDrivers:i.totalDrivers,manualInstallation:i.manualInstallation,restart:i.restart,allManual:sprinklrChatBotObject.allManual,additional:i.additional}}}}),"*")}function postDiagScanInProgress(n,t){loadSprinklrObjectFromSession();snapInObject.DiagDevices==undefined?snapInObject.DiagDevices=[]:snapInObject.DiagDevices;document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"PROGRESS_PUBLISH",payload:{contextId:sprinklrChatBotObject.sprinklrContextId,id:sprinklrChatBotObject.requestId,data:{totalUnits:snapInObject.DiagDevices.length,completedUnits:snapInObject.DiagDevices.length,progress:n,status:t,action:"ODE_SCAN",disableManualResponse:!0}}}}),"*")}function postDiagScanCompletionToSprinklr(){loadSprinklrObjectFromSession();snapInObject.DiagDevices==undefined?snapInObject.DiagDevices=[]:snapInObject.DiagDevices;snapInObject=sendGlobalSnapinObjToJson();LogScanStatus(snapInObject.sprinklrCaseNumber,snapInObject.DiagnosticId,"ScanStatus:2");document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"PROGRESS_PUBLISH",payload:{contextId:sprinklrChatBotObject.sprinklrContextId,id:sprinklrChatBotObject.requestId,data:{totalUnits:snapInObject.DiagDevices.length,completedUnits:snapInObject.DiagDevices.length,status:2,action:"ODE_SCAN",disableManualResponse:!0},progressContext:{_c_631ec37ff26714780ba70087:[snapInObject.DiagnosticId]}}}}),"*")}function postServiceTagMatch(n,t,i){document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"EVENT_PUBLISH",payload:{contextId:n,id:t,event:{type:"serviceTagMatch",matches:i}}}}),"*")}function postChatEligibility(n,t){snapInObject=sendGlobalSnapinObjToJson();loadSprinklrObjectFromSession();let i="",r="no";snapInObject.chatAvailable==1?(r="yes",i=""):(snapInObject.IsChatEligible?snapInObject.chatAvailable==0||snapInObject.chatAvailable==2||snapInObject.chatAvailable==3||snapInObject.chatAvailable==5||snapInObject.chatAvailable==11||snapInObject.chatAvailable==12?i="agent busy":snapInObject.chatAvailable==4&&(i="queue not available"):i="chat not eligible",snapInObject.isSystemError&&(i="system error"));document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"EVENT_PUBLISH",payload:{contextId:sprinklrChatBotObject.sprinklrContextId,id:sprinklrChatBotObject.requestId,event:{type:"postchateligible",agenttransfer:r,reason:i}}}}),"*");logCaseNumbers(n,t,"postChatEligibility |agentTransfer: "+r+"|reason: "+i)}function sprinklrFaqLoaded(){snapInObject.isFaqResumeChat==!0?setDellMetrics("222.830.810.518","nohold|resumechat"):setDellMetrics("222.830.810.514","nohold|Chatbotclick");snapInObject.isFaqResumeChat==!0?document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"updateConversationContext",data:{context:{_c_61a726644ca7ae08475e038d:!0}}}),"*"):sprinklrChatBotObject.FaqAppName=="search"&&document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"openNewConversation",data:{initialMessages:[{isSentByUser:!0,message:sprinklrChatBotObject.text}]}}),"*")}function sprinklrLoaded(){setDellMetrics("890.220.013","SPRINKLR: Chat Started|"+sprinklrChatBotObject.payloadTags.issueType+"|UUID:"+sprinklrChatBotObject.requestId);var n="No";sprinklrChatBotObject.IsProductScanEnabled&&(n="Yes");snapInObject.is24VAResumeChat==!0?document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"updateConversationContext",data:{context:{_c_61a726644ca7ae08475e038d:!0}}}),"*"):sprinklrChatBotObject.text!=undefined&&sprinklrChatBotObject.text!=""?document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"openNewConversation",data:{initialMessages:[{isSentByUser:!0,message:{text:sprinklrChatBotObject.text,disableManualResponse:!0},conversationContext:{_c_5fa9299ffda5f35fbd615e02:n,_c_608a9c62fcf3f61c295cc9d7:window.location.href}}]}}),"*"):document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"openNewConversation",data:{autoInitiateConversation:!0,initialMessages:undefined,conversationContext:{_c_5fa9299ffda5f35fbd615e02:n,_c_608a9c62fcf3f61c295cc9d7:window.location.href}}}),"*")}function isDriversLoaded(){($("#divScan").length>0||$("#dndbtn-download-Install").length>0)&&document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"EVENT_PUBLISH",payload:{contextId:sprinklrChatBotObject.sprinklrContextId,id:sprinklrChatBotObject.requestId,event:{type:"DownloadPageLoaded"}}}}),"*");$("#dndbtn-download-Install").length>0&&$("html, body").animate({scrollTop:$("#dndbtn-download-Install").offset().top},2e3)}function closeSprinklrChat(){sprinklrChatBotObject.userAuthToken=null;sprinklrChatBotObject.sprinklrContextId=null;window.sessionStorage.setItem("sprinklrChatBotObject",JSON.stringify(sprinklrChatBotObject));var n=document.getElementById("page");n.parentNode.removeChild(n);$("#sprinklrChatDom").remove();sprinklerChatEnded();$("#Chat-icon").show();window.removeEventListener("message",sprinklrEventCallBack)}function transferToLiveAgent(n){var t=n.sfdcCaseNumber!=undefined&&n.sfdcCaseNumber!=null?n.sfdcCaseNumber:"",i;snapInObject.chatAvailable==1?i=setInterval(function(){if(typeof embedded_svc!="undefined"){clearInterval(i);try{$("#sprinklrChatDom").remove();triggerSnapinPostSprinkler(t);sprinklrChatBotObject.userAuthToken=null;sprinklrChatBotObject.sprinklrContextId=null;window.sessionStorage.setItem("sprinklrChatBotObject",JSON.stringify(sprinklrChatBotObject))}catch(u){$("#sprinklrChatDom").remove();var r="transferfailure|sfdcCase:"+t+"|Error = "+u.message;setDellMetrics("222.890.230.107",r+"|UUID:"+sprinklrChatBotObject.requestId);r=r+"|Exception = "+u+"|UUID:"+sprinklrChatBotObject.requestId;logCaseNumbers(n.caseNumber,n.sfdcCaseNumber,r)}}},500):noAgentAvailable(n,snapInObject.chatAvailable)}function noAgentAvailable(n,t){var o;snapInObject=sendGlobalSnapinObjToJson();var s=sprinklrChatBotObject.requestId,u=snapInObject.IsResumeEmailSent,i=snapInObject.agentUnAvailableMessage!=undefined&&snapInObject.agentUnAvailableMessage!=null?snapInObject.agentUnAvailableMessage:"Unfortunately it's outside of business hours, so we'll send an email you can use to continue the conversation without having to start over.",f=snapInObject.agentBusyMessage!=undefined&&snapInObject.agentBusyMessage!=null?snapInObject.agentBusyMessage:"Sorry, all agents are busy. Please try again later or use another contact option.",e=snapInObject.agentUnAvailableMessage1!=undefined&&snapInObject.agentUnAvailableMessage1!=null?snapInObject.agentUnAvailableMessage1:"we've sent the link to {0}",r=snapInObject.systemErrorMsg!=undefined&&snapInObject.systemErrorMsg!=null?snapInObject.systemErrorMsg:"We are currently facing technical difficulties and are unable to transfer the case to an expert. Please contact us back at a later time or try a different contact method here: {0}";try{logCaseNumbers(n.caseNumber,n.sfdcCaseNumber,"noAgentAvailable, syserror: "+snapInObject.isSystemError);snapInObject.isSystemError?(r=r.replace("{0}","https://www.dell.com/support/incidents-online/contactus/dynamic"),i=r+"<br><br><b>"+snapInObject.supportReqNumberLabel+" : <\/b>"+snapInObject.caseNumber+"<br><br>"):snapInObject.FaqAppName!=null&&snapInObject.FaqAppName!=undefined&&snapInObject.FaqAppName!=""?snapInObject.IsChatEligible!=undefined&&snapInObject.IsChatEligible==!1?(setDellMetrics("222.830.810.515","nohold|chatnoteligible"),o=snapInObject.chatNotSupportedMessage!=undefined&&snapInObject.chatNotSupportedMessage!=null?snapInObject.chatNotSupportedMessage:"I am sorry, Chat is not supported for this Product.",i=o+"<br><br><b>"+snapInObject.supportReqNumberLabel+" : <\/b>"+snapInObject.caseNumber+"<br><br>",snapInObject.phoneContactDetails!=null&&snapInObject.phoneContactDetails.length>0&&(snapInObject.phoneContactDetails[0].TollFree=snapInObject.phoneContactDetails[0].TollFree==null?" ":snapInObject.phoneContactDetails[0].TollFree,snapInObject.phoneContactDetails[0].TollFreeSla=snapInObject.phoneContactDetails[0].TollFreeSla==null?" ":snapInObject.phoneContactDetails[0].TollFreeSla,i+="<b>"+snapInObject.phoneNumberLabel+" : <\/b>"+snapInObject.phoneContactDetails[0].TollFree+" "+snapInObject.phoneContactDetails[0].TollFreeSla)):(setDellMetrics("222.830.810.517","nohold|Agentunavailable"),(snapInObject.isFaqResumeChat==undefined||snapInObject.isFaqResumeChat==!1)&&snapInObject.IsResumeEmailSent==!1&&t==4?(i+="<br><br><b>"+snapInObject.supportReqNumberLabel+" : <\/b>"+snapInObject.caseNumber+"<br><br><b>"+snapInObject.chatBusinessHourLabel+" : <\/b>"+snapInObject.chatSchedule,i+="<br><br>"+e.replace("{0}",sprinklrChatBotObject.user_email),snapInObject.isResumeEmailEnabled&&(snapInObject.IsResumeEmailSent=!0,saveGlobalSnapinObjToSession(snapInObject),SprinklrEmailNotification())):i=f+"<br><br><b>"+snapInObject.supportReqNumberLabel+" : <\/b>"+snapInObject.caseNumber+"<br><br>"):snapInObject.Is24VAEnabled&&snapInObject.IsResumeEmailSent==!1&&t==4?(i+="<br><br><b>"+snapInObject.chatBusinessHourLabel+" : <\/b>"+snapInObject.chatSchedule,i+="<br><br>"+e.replace("{0}",sprinklrChatBotObject.user_email),(snapInObject.is24VAResumeChat==undefined||snapInObject.is24VAResumeChat==!1)&&(snapInObject.IsResumeEmailSent=!0,saveGlobalSnapinObjToSession(snapInObject),SprinklrEmailNotification())):i=f+"<br><br><b>"+snapInObject.supportReqNumberLabel+" : <\/b>"+snapInObject.caseNumber+"<br><br>";i+=snapInObject.agentUnAvailableMessage2!=undefined&&snapInObject.agentUnAvailableMessage2!=null?"<br><br>"+snapInObject.agentUnAvailableMessage2:"<br><br>Thank you choosing Dell Technologies. Hope you have a great day.";(u==undefined||u==!1)&&document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"MSG_PUBLISH",payload:{contextId:n.contextId,id:s,message:{text:i}}}}),"*")}catch(h){console.error("Exception in no agent available = "+h)}}function setDellMetrics(n,t){typeof dellmetricsTrack=="function"&&dellmetricsTrack&&dellmetricsTrack(n,t)}function UpdateDriversUrl(){var n,t;try{n=window.sessionStorage.getItem("encTagFromSA");n==undefined||n==null?n=sprinklrChatBotObject.payloadTags.serviceTag:!n.indexOf("0-")==0&&(n="0-"+n);n?(t=GetLwpDetails_SEO(),driverURL=driverURL.format(t,n)):consoleLog("Method: UpdateDriversUrl > serviceTag: "+n)}catch(i){consoleLog(i)}return driverURL}function NavigateToDrivers(){var n=UpdateDriversUrl();window.location.href=n}function postDownloadProgressToSprinklr(n,t,i,r,u){var f="AA";sprinklrChatBotObject.installType!=undefined&&sprinklrChatBotObject.installType!=null&&(f=sprinklrChatBotObject.installType);i!=undefined&&i!=null&&i>0&&document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"PROGRESS_PUBLISH",payload:{id:sprinklrChatBotObject.requestId,contextId:sprinklrChatBotObject.sprinklrContextId,data:{totalUnits:n,completedUnits:t,progress:i,status:r,action:"Downloading_drivers",disableManualResponse:!0},progressContext:{_c_5fc1324d85ca6724b67ebf86:[u],_c_5ff74bc1910a801283f20586:[sprinklrChatBotObject.savedFolder],_c_5ffc5c27483a82681f361359:[f]}}}}),"*")}function postDownloadPauseToSprinklr(){var n=sprinklrChatBotObject.totalDriversCount;document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"PROGRESS_PUBLISH",payload:{id:sprinklrChatBotObject.requestId,contextId:sprinklrChatBotObject.sprinklrContextId,data:{totalUnits:n,completedUnits:sprinklrChatBotObject.driversDownloaded,progress:0,status:5,action:"Downloading_drivers"},progressContext:{_c_5fc1324d85ca6724b67ebf86:["No"],_c_5ff74bc1910a801283f20586:[sprinklrChatBotObject.savedFolder]}}}}),"*")}function postdownloadCancelToSprinklr(){var n=sprinklrChatBotObject.totalDriversCount;document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"PROGRESS_PUBLISH",payload:{id:sprinklrChatBotObject.requestId,contextId:sprinklrChatBotObject.sprinklrContextId,data:{totalUnits:n,completedUnits:sprinklrChatBotObject.driversDownloaded,progress:0,status:3,action:"Downloading_drivers"},progressContext:{_c_5fc1324d85ca6724b67ebf86:["No"]}}}}),"*")}function getDLMResponse(n){if(n!=null&&n!=undefined&&$("#sprinklrChatDom").length>0)try{sprinklrChatBotObject.driversDownloaded=0;sprinklrChatBotObject.downloadError=0;sprinklrChatBotObject.installError=0;sprinklrChatBotObject.installed=0;sprinklrChatBotObject.cancelled=!1;sprinklrChatBotObject.paused=!1;sprinklrChatBotObject.downloadFailed=[];sprinklrChatBotObject.installFailed=[];var f=sprinklrChatBotObject.totalDriversCount,t=JSON.parse(n.data);if(t!=null&&t!=undefined)if(t.Exception!=null&&t.Exception!=undefined&&t.Exception.Code!=null)console.log("Exception in dlmResponse -> "+t.Exception);else{var r=t.FileProgress.length,e=t.InstallationStatus.split("-").map(function(n){return n.trim()});for(sprinklrChatBotObject.DLMScanIcSource=n.ICsource,i=0;i<r;i++){sprinklrChatBotObject.savedFolder=t.FileProgress[i].SavedFolder;switch(t.FileProgress[i].Status.toLowerCase()){case"done":sprinklrChatBotObject.driversDownloaded=sprinklrChatBotObject.driversDownloaded+1;break;case"downloading":n.ICsource=="DND"&&t.FileProgress[i].PercentCompleted==100&&sprinklrChatBotObject.allManual!=undefined&&sprinklrChatBotObject.allManual!=null&&sprinklrChatBotObject.allManual&&(sprinklrChatBotObject.driversDownloaded=sprinklrChatBotObject.driversDownloaded+1);break;case"error":for(sprinklrChatBotObject.downloadError=sprinklrChatBotObject.downloadError+1,sprinklrChatBotObject.downloadFailed.push(t.FileProgress[i].FileName),count=0;count<sprinklrChatBotObject.AutoDrivers.length;count++)t.FileProgress[i].FileName.toLowerCase()==sprinklrChatBotObject.AutoDrivers[count].toLowerCase()&&(sprinklrChatBotObject.autoDownloadError=sprinklrChatBotObject.autoDownloadError+1);break;case"installerror":n.ICsource=="BDB"&&n.FinalResponse!=undefined&&n.FinalResponse!=null&&n.FinalResponse==!0&&(sprinklrChatBotObject.BDBFinalResponse=!0);sprinklrChatBotObject.installError=sprinklrChatBotObject.installError+1;sprinklrChatBotObject.installFailed.push(t.FileProgress[i].FileName);break;case"installed":n.ICsource=="BDB"&&n.FinalResponse!=undefined&&n.FinalResponse!=null&&n.FinalResponse==!0&&(sprinklrChatBotObject.BDBFinalResponse=!0);sprinklrChatBotObject.installed=sprinklrChatBotObject.installed+1;t.FileProgress[i].InstallReturnCode=="REBOOT_REQUIRED"&&(sprinklrChatBotObject.installRestart=!0);break;case"cancelled":sprinklrChatBotObject.cancelled=!0;break;case"paused":sprinklrChatBotObject.paused=!0;break;case"restartrequired":n.ICsource=="BDB"&&n.FinalResponse!=undefined&&n.FinalResponse!=null&&n.FinalResponse==!0&&(sprinklrChatBotObject.BDBFinalResponse=!0,sprinklrChatBotObject.installRestart=!0,sprinklrChatBotObject.installed=sprinklrChatBotObject.installed+1);break;case"pendingselfupdate":n.ICsource=="BDB"&&n.FinalResponse!=undefined&&n.FinalResponse!=null&&n.FinalResponse==!0&&(sprinklrChatBotObject.BDBFinalResponse=!0,sprinklrChatBotObject.installed=sprinklrChatBotObject.installed+1)}}}}catch(u){console.error("Exception in getDLMResponse > Error: "+u)}}function getDriversEvent(n){$("#sprinklrChatDom").length>0&&(n.toLowerCase()=="paused"||n.toLowerCase()=="pause"||n.toLowerCase()=="scanpause"?sprinklrChatBotObject.notDownloadManager!=!0&&(postDownloadPauseToSprinklr(),sprinklrChatBotObject.paused=!0):n.toLowerCase()=="scancanceldownload"||n.toLowerCase()=="cancel"?sprinklrChatBotObject.notDownloadManager!=!0&&(sprinklrChatBotObject.cancelled=!0,postdownloadCancelToSprinklr()):n.toLowerCase()=="browserdownload"||n.toLowerCase()=="usedownloadmanager"?(sprinklrChatBotObject.notDownloadManager=!0,postDownloadClickToSprinklr(n.toLowerCase())):n.toLowerCase()=="scanresume"||n.toLowerCase()=="scancancelinstall"&&sprinklrChatBotObject.notDownloadManager!=!0&&postInstallProgressToSprinklr(0,0,50,3,"No"))}function getDriverUpdatesData(n){var r=n.Updates.length,t,u;if(sprinklrChatBotObject.totalDriversCount=r,sprinklrChatBotObject.restart=!1,sprinklrChatBotObject.manualInstallation=!1,sprinklrChatBotObject.allManual=!1,sprinklrChatBotObject.additional=[],t=0,sprinklrChatBotObject.autoDriverCount=0,sprinklrChatBotObject.autoDownloadError=0,sprinklrChatBotObject.installRestart=!1,sprinklrChatBotObject.installType="AA",r>0)for(sprinklrChatBotObject.ManualDrivers=[],sprinklrChatBotObject.AutoDrivers=[],sprinklrChatBotObject.TotalDrivers=[],i=0;i<r;i++)t=t+n.Updates[i].DriverFiles[0].Size/1048576,sprinklrChatBotObject.TotalDrivers.push(n.Updates[i].DriverTitle),sprinklrChatBotObject.additional.push({DriverId:n.Updates[i].DriverId,DriverTitle:n.Updates[i].DriverTitle,DriverCategory:n.Updates[i].DriverCategory}),n.Updates[i].DriverFiles[0].Type=="LLXP"||n.Updates[i].DriverFiles[0].Type=="LUXP"||n.Updates[i].DriverFiles[0].Type=="LW64"||n.Updates[i].DriverFiles[0].Type=="LWXP"?(sprinklrChatBotObject.autoDriverCount=sprinklrChatBotObject.autoDriverCount+1,sprinklrChatBotObject.AutoDrivers.push(n.Updates[i].DriverFiles[0].FileName)):(sprinklrChatBotObject.manualInstallation=!0,sprinklrChatBotObject.ManualDrivers.push(n.Updates[i].DriverFiles[0].FileName)),n.Updates[i].RebootRequired==!0&&(sprinklrChatBotObject.restart=!0,sprinklrChatBotObject.installRestart=!0);return sprinklrChatBotObject.totalDriversSize=t,!sprinklrChatBotObject.autoDriverCount>0&&(sprinklrChatBotObject.allManual=!0),u={type:"DriverUpdates",totalDrivers:sprinklrChatBotObject.totalDriversCount,manualInstallation:sprinklrChatBotObject.manualInstallation,restart:sprinklrChatBotObject.restart,allManual:sprinklrChatBotObject.allManual,additional:sprinklrChatBotObject.additional},console.log(u),u}function showDriversProgress(n){var o;if(loadSprinklrObjectFromSession(),sprinklrChatBotObject==null||sprinklrChatBotObject.IsDriversFlowActive!==!0)return!1;var t="downloading",f="No",e="No";if($("#sprinklrChatDom").length>0)if(n!=undefined&&n!=null&&n.Downloading!=null&&n.Downloading!=undefined&&(n.Installing==null||n.Installing==undefined||n.Installing==0)){o=n.Downloading.split("-").map(function(n){return n.trim()});downloadingUnits=o[0];totalDownloadUnits=o[1];try{if(DellDndSA!=undefined&&DellDndSA!=null)if(DellDndSA.manualFilesArray!=undefined&&DellDndSA.manualFilesArray!=null&&totalDownloadUnits==DellDndSA.manualFilesArray.length)for(sprinklrChatBotObject.installType="AM",sprinklrChatBotObject.allManual=!0,m=0;m<DellDndSA.manualFilesArray.length;m++)if(DellDndSA.manualFilesArray[m].isReboot==!0){sprinklrChatBotObject.installRestart=!0;break}else sprinklrChatBotObject.installRestart=!1;else if(DellDndSA.dupFilesArray!=undefined&&DellDndSA.dupFilesArray!=null&&totalDownloadUnits==DellDndSA.dupFilesArray.length)for(sprinklrChatBotObject.installType="AA",sprinklrChatBotObject.allManual=!1,i=0;i<DellDndSA.dupFilesArray.length;i++)if(DellDndSA.dupFilesArray[i].isReboot==!0){sprinklrChatBotObject.installRestart=!0;break}else sprinklrChatBotObject.installRestart=!1;else for(sprinklrChatBotObject.installType="MX",sprinklrChatBotObject.allManual=!1,m=0;m<DellDndSA.downloadFilesArray.length;m++)if(DellDndSA.downloadFilesArray[m].isReboot==!0){sprinklrChatBotObject.installRestart=!0;break}else sprinklrChatBotObject.installRestart=!1}catch(h){console.error("Exception in showDriversProgress > Error: "+h)}sprinklrChatBotObject.prevDownloadingUnits>downloadingUnits?downloadingUnits=sprinklrChatBotObject.prevDownloadingUnits:sprinklrChatBotObject.prevDownloadingUnits=downloadingUnits;n.DownloadPercent!=undefined&&n.DownloadPercent!=null&&(sprinklrChatBotObject.prevDownloadPercent>n.DownloadPercent?n.DownloadPercent=sprinklrChatBotObject.prevDownloadPercent:sprinklrChatBotObject.prevDownloadPercent=n.DownloadPercent);sprinklrChatBotObject.cancelled==!1&&sprinklrChatBotObject.paused==!1&&(sprinklrChatBotObject.DLMScanIcSource=="DND"?n.DownloadPercent==100||totalDownloadUnits==sprinklrChatBotObject.driversDownloaded+sprinklrChatBotObject.downloadError?(t="downloaded",downloadSprinklrStatus=2):downloadingUnits>0&&(t="downloading",downloadSprinklrStatus=1):sprinklrChatBotObject.DLMScanIcSource=="BDB"&&(n.DownloadPercent==100&&totalDownloadUnits==sprinklrChatBotObject.driversDownloaded+sprinklrChatBotObject.downloadError?(t="downloaded",downloadSprinklrStatus=2):downloadingUnits>0&&(t="downloading",downloadSprinklrStatus=1)),sprinklrChatBotObject.downloadError>0&&sprinklrChatBotObject.downloadError==totalDownloadUnits&&(f="Yes"),sprinklrChatBotObject.downloadError>0&&sprinklrChatBotObject.downloadError!=totalDownloadUnits&&t=="downloaded"&&(downloadSprinklrStatus=4),console.log("showDriversProgress Status = "+t+" & downloadedFlag = "+downloadedFlag+" & downloadSprinklrStatus = "+downloadSprinklrStatus+" totalDownloadUnits = "+totalDownloadUnits+" sprinklrChatBotObject.driversDownloaded = "+sprinklrChatBotObject.driversDownloaded+" sprinklrChatBotObject.downloadError =  "+sprinklrChatBotObject.downloadError),t=="downloading"?(console.log("showDriversProgress Downloading "+JSON.stringify(n)),postDownloadProgressToSprinklr(totalDownloadUnits,downloadingUnits,n.DownloadPercent,downloadSprinklrStatus,f)):t=="downloaded"&&downloadedFlag==0&&(console.log("showDriversProgress Downloaded "),postDownloadProgressToSprinklr(totalDownloadUnits,totalDownloadUnits,100,downloadSprinklrStatus,f),downloadedFlag=1,downloadSprinklrStatus==4&&postStatusForTranscript("downloadUpdate",sprinklrChatBotObject.downloadFailed)))}else if(n!=undefined&&n!=null&&n.Installing!=null&&n.Installing!=undefined&&(n.Downloading==null||n.Downloading==undefined)){var s=n.Installing.split("-").map(function(n){return n.trim()}),u=s[0],r=s[1];sprinklrChatBotObject.cancelled==!1&&sprinklrChatBotObject.paused==!1&&(sprinklrChatBotObject.DLMScanIcSource=="DND"?n.InstallPercent==100||sprinklrChatBotObject.autoDriverCount==sprinklrChatBotObject.installed+sprinklrChatBotObject.installError+sprinklrChatBotObject.autoDownloadError||r==sprinklrChatBotObject.installed+sprinklrChatBotObject.installError+sprinklrChatBotObject.autoDownloadError?(t="installed",installSprinklrStatus=2,downloadedFlag=1):u>0&&(t="installing",installSprinklrStatus=1):sprinklrChatBotObject.DLMScanIcSource=="BDB"&&(sprinklrChatBotObject.BDBFinalResponse==!0&&(sprinklrChatBotObject.autoDriverCount==sprinklrChatBotObject.installed+sprinklrChatBotObject.installError+sprinklrChatBotObject.autoDownloadError||r==sprinklrChatBotObject.installed+sprinklrChatBotObject.installError+sprinklrChatBotObject.autoDownloadError)?(t="installed",installSprinklrStatus=2,downloadedFlag=1):u>0&&(t="installing",installSprinklrStatus=1)));sprinklrChatBotObject.prevInstallingUnits>u?u=sprinklrChatBotObject.prevInstallingUnits:sprinklrChatBotObject.prevInstallingUnits=u;n.InstallPercent!=undefined&&n.InstallPercent!=null&&(sprinklrChatBotObject.prevInstallPercent>n.InstallPercent?n.InstallPercent=sprinklrChatBotObject.prevInstallPercent:sprinklrChatBotObject.prevInstallPercent=n.InstallPercent);sprinklrChatBotObject.installError>0&&sprinklrChatBotObject.installError==r&&(e="Yes");sprinklrChatBotObject.installError>0&&sprinklrChatBotObject.installError!=r&&t=="installed"&&(installSprinklrStatus=4);console.log("showDriversProgress Status = "+t+" & installedFlag = "+installedFlag+" & installSprinklrStatus = "+installSprinklrStatus);t=="installing"?downloadedFlag==0?(console.log("showDriversProgress Downloaded "),sprinklrChatBotObject.downloadError!=undefined&&sprinklrChatBotObject.downloadError!=null&&(downloadSprinklrStatus=sprinklrChatBotObject.downloadError>0?4:2),postDownloadProgressToSprinklr(totalDownloadUnits,totalDownloadUnits,100,downloadSprinklrStatus,f),console.log("showDriversProgress totalDownloadUnits = "+totalDownloadUnits+" & totalDownloadUnits = "+totalDownloadUnits+" & downloadSprinklrStatus = "+downloadSprinklrStatus),downloadedFlag=1,downloadSprinklrStatus==4&&postStatusForTranscript("downloadUpdate",sprinklrChatBotObject.downloadFailed)):(console.log("showDriversProgress Installing "+JSON.stringify(n)),postInstallProgressToSprinklr(r,u,n.InstallPercent,installSprinklrStatus,e)):t=="installed"&&installedFlag==0&&(console.log("showDriversProgress Installed "),sprinklrChatBotObject.installError!=undefined&&sprinklrChatBotObject.installError!=null&&(installSprinklrStatus=sprinklrChatBotObject.installError>0?4:2),postInstallProgressToSprinklr(r,r,100,installSprinklrStatus,e),installSprinklrStatus==4&&postStatusForTranscript("installUpdate",sprinklrChatBotObject.installFailed),installedFlag=1)}}function postInstallProgressToSprinklr(n,t,i,r,u){if(i>0){var f="false";sprinklrChatBotObject.installRestart?(f="true",postInstallProgressToSprinklrRestart(n,t,i,r,u,f)):postInstallProgressToSprinklrNoRestart(n,t,i,r,u)}}function postInstallProgressToSprinklrRestart(n,t,i,r,u,f){console.log("In postInstallProgressToSprinklrRestart restart ="+f);document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"PROGRESS_PUBLISH",payload:{id:sprinklrChatBotObject.requestId,contextId:sprinklrChatBotObject.sprinklrContextId,data:{totalUnits:n,completedUnits:t,progress:i,status:r,action:"installing_drivers",disableManualResponse:!0},progressContext:{_c_5fc1324d85ca6724b67ebf86:[u],_c_5ff74b85910a801283f1fbbc:[f]}}}}),"*")}function postInstallProgressToSprinklrNoRestart(n,t,i,r,u){document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"PROGRESS_PUBLISH",payload:{id:sprinklrChatBotObject.requestId,contextId:sprinklrChatBotObject.sprinklrContextId,data:{totalUnits:n,completedUnits:t,progress:i,status:r,action:"installing_drivers",disableManualResponse:!0},progressContext:{_c_5fc1324d85ca6724b67ebf86:[u]}}}}),"*")}function postDownloadClickToSprinklr(n){console.log("postDownloadClickToSprinklr "+n);sprinklrChatBotObject.notDownloadManager=!0;document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"EVENT_PUBLISH",payload:{contextId:sprinklrChatBotObject.sprinklrContextId,id:sprinklrChatBotObject.requestId,event:{type:"NotDownloadManager"}}}}),"*")}function postStatusForTranscript(n,t){console.log("postStatusForTranscript progressType = "+n+" additional =  "+JSON.stringify(t));document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"EVENT_PUBLISH",payload:{contextId:sprinklrChatBotObject.sprinklrContextId,id:sprinklrChatBotObject.requestId,event:{type:n,additional:t}}}}),"*")}function SprinklrEmailNotification(){var t="",i="",u=!1,r=!1,n,f;snapInObject=sendGlobalSnapinObjToJson();n=GetLwpDetails_SEO();n!=undefined&&n!=null?(t="/support/guidedpath/"+n+"/EmailNotification/SendSprinklrEmail",i="https://www.dell.com/support/incidents-online/"+n+"/contactus/servicetag/"+snapInObject.serviceTagEncrypted):(t="/support/guidedpath/EmailNotification/SendSprinklrEmail",i="https://www.dell.com/support/incidents-online/contactus/servicetag/"+snapInObject.serviceTagEncrypted);snapInObject.Is24VAEnabled&&(r=!0);sprinklrChatBotObject.FaqAppName!=null&&sprinklrChatBotObject.FaqAppName!=undefined&&sprinklrChatBotObject.FaqAppName!=""&&(r=!0);f={applicationContext:"SprinklrTechBot-ResumeChat",serviceTag:sprinklrChatBotObject.payloadTags.serviceTag,issueType:sprinklrChatBotObject.payloadTags.issueType,firstName:sprinklrChatBotObject.user_firstName,lastName:sprinklrChatBotObject.user_lastName,email:sprinklrChatBotObject.user_email,phoneNumber:sprinklrChatBotObject.user_phoneNo,issueDescription:sprinklrChatBotObject.text,sprinklrRequestId:sprinklrChatBotObject.requestId,sprinklrContextId:sprinklrChatBotObject.sprinklrContextId,sprinklrUserAuthToken:sprinklrChatBotObject.userAuthToken,url:i,chatSchedule:snapInObject.chatSchedule,appName:sprinklrChatBotObject.FaqAppName,sfdcCaseNumber:snapInObject.caseNumber,isFaqChat:r,buttonId:snapInObject.buttonId};try{$.ajax({url:t,data:JSON.stringify(f),dataType:"json",type:"POST",cache:!1,contentType:"application/json; charset=utf-8",success:function(n){n!=null&&n!=undefined&&(u=n)},error:function(n){console.error("Error in SprinklrEmailNotification ajax Call > Error: "+n)}})}catch(e){console.error("Exception in SprinklrEmailNotification > Error: "+e)}return u}function serviceTagCheckBySAversion(){try{isLatestSA===0||isLatestSA===1?setCurrentSystemInfo(serviceTagInfo,sprinklrChatBotObject.payloadTags.serviceTag,sprinklrChatBotObject.ScanIcSource,isLatestSA).done(function(n){res=n;sprinklrChatBotObject.tagMatch=n!=null&&n!=undefined?n.isDsdInstalled=="true"?!0:!1:null}).fail(function(){sprinklrChatBotObject.tagMatch=null}):sprinklrChatBotObject.tagMatch=null}catch(n){console.error("Error in ChatBot-SA call Exception in serviceTagCheckBySAversion  > Error: "+n);sprinklrChatBotObject.tagMatch=null}}function getSprinklrOrderIntent(n){var r,u,t,f,e,i;console.log(n);r=!1;u="https://www.dell.com/support/guidedpath/Sprinklr/CanSupportOrder";n!=null&&n!=undefined&&n.intentApiURL!=null&&n.intentApiURL!=undefined&&(u=n.intentApiURL);Dell&&Dell.OnlineUtils&&Dell.OnlineUtils.Lwp&&(t=Dell.OnlineUtils.Lwp,t!=undefined&&t.country&&t.language&&t.customerset&&(n.payloadTags.lng=t.language,n.payloadTags.countryCode=t.country));sprinklrCareChatBotObject=n;orderIntentObj={engine:n.engine,payloadTags:{lng:n.payloadTags.lng,buid:n.payloadTags.buid,orderNumber:n.payloadTags.orderNumber,issueType:n.payloadTags.issueType,countryCode:n.payloadTags.countryCode},requestId:n.requestId,text:n.text};f=sprinklrCareChatBotObject.sprinklrLoadingMessage!=null&&sprinklrCareChatBotObject.sprinklrLoadingMessage!=undefined?sprinklrCareChatBotObject.sprinklrLoadingMessage:"Please wait while Virtual Assistant is loading";e='<div id="sprinklrOrderCare" class="justify-content-center pt-2 js-loading-icon cusPreChat-dockableContainer" style="display:block; background-color: rgb(255,255,255); z-index: 10000;">    <div class="d-flex flex-column align-items-center" style="top: 50%; transform: translate(-50%, -50%); position: absolute; left: 50%; "><svg class="dti dti-loading mb-2" version="1.1" width="32" height="32" viewBox="0 0 32 32">            <path fill="#ddd" d="M29.746 16c0-7.592-6.154-13.746-13.746-13.746s-13.746 6.154-13.746 13.746c0 7.592 6.154 13.746 13.746 13.746s13.746-6.154 13.746-13.746zM16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16c-8.837 0-16-7.163-16-16s7.163-16 16-16z" /><path fill="#41b6e6" d="M3.078 11.3c1.92-5.277 6.981-9.046 12.922-9.046 5.846 0 10.839 3.649 12.827 8.794l2.105-0.806c-2.312-5.991-8.126-10.241-14.932-10.241-6.917 0-12.808 4.389-15.042 10.534l2.12 0.766z" /><\/svg><p class="card-text text-center ips-loading-icon-text">'+f+"<\/p> <\/div><\/div>";let o=e,s=document.body||document.getElementsByTagName("body")[0];s.insertAdjacentHTML("beforeend",o);try{$.ajax({url:u,data:JSON.stringify(orderIntentObj),dataType:"json",type:"POST",cache:!1,"async":!1,contentType:"application/json; charset=utf-8",success:function(n){if(n!=null&&n!=undefined){r=n.canSupportOrder;var t="";n.canSupportOrder==!1?n.failReason.search("ORDER_INTENTAPI_FALSE")>=0?($("#sprinklrOrderCare").remove(),t="SPRINKLR_CAREBOT: Orderintentapifailure|false|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+" - "+n.failReason+"|UUID:"+orderIntentObj.requestId,setDellMetrics("222.890.230.101",t)):n.failReason.search("ORDER_INTENTAPI_TIMEOUT_EXCEPTION")>=0?($("#sprinklrOrderCare").remove(),t="SPRINKLR_CAREBOT: Orderintentapifailure|TimeOut Exception|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+" - "+n.failReason+"|UUID:"+orderIntentObj.requestId,setDellMetrics("222.890.230.101",t),console.error(t)):n.failReason.search("ORDER_INTENTAPI_COMMUNICATION_EXCEPTION")>=0?($("#sprinklrOrderCare").remove(),t="SPRINKLR_CAREBOT: Orderintentapifailure|Communication Exception|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+" - "+n.failReason+"|UUID:"+orderIntentObj.requestId,setDellMetrics("222.890.230.101",t),console.error(t)):n.failReason.search("ORDER_INTENTAPI_TOKEN_EXCEPTION")>=0?($("#sprinklrOrderCare").remove(),t="SPRINKLR_CAREBOT: Orderintentapifailure|Token Exception|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+" - "+n.failReason+"|UUID:"+orderIntentObj.requestId,setDellMetrics("222.890.230.101",t),console.error(t)):($("#sprinklrOrderCare").remove(),t="SPRINKLR_CAREBOT: Orderintentapifailure|Order Intent Exception|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+" - "+n.failReason+"|UUID:"+orderIntentObj.requestId,setDellMetrics("222.890.230.101",t),console.error(t)):(t="SPRINKLR_CAREBOT: OrderintentapiSuccess|true|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber,console.log(t))}console.log(n)},error:function(n){var t="SPRINKLR_CAREBOT: clientsidefailure|CanSupportOrder|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+"|UUID:"+orderIntentObj.requestId;setDellMetrics("222.890.230.102",t);t=t+"|Exception:"+n;$("#sprinklrOrderCare").remove();console.error(n)}})}catch(h){i="SPRINKLR_CAREBOT: clientsidefailure|CanSupportOrder|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+"|UUID:"+orderIntentObj.requestId;setDellMetrics("222.890.230.102",i);i=i+"|Exception:"+h;$("#sprinklrOrderCare").remove();console.error(i)}return console.log("GetSprinklrOrderIntent canSupportOrder = "+r),r}function sprinklrCareChatBotEventCallBack(n){if(n.source===document.getElementById("page").contentWindow){const t=JSON.parse(n.data),i=carecallbacks[t.action];i&&i(t.data)}}function startCareChatBotSprinklr(){var t,i,n,r,e;console.log("START startCareChatBotSprinklr");t="";i="ORDER_STATUS";sprinklrCareChatBotObject!=null&&sprinklrCareChatBotObject!=undefined&&sprinklrCareChatBotObject.payloadTags!=null&&sprinklrCareChatBotObject.payloadTags!=undefined&&sprinklrCareChatBotObject.payloadTags.issueType!=null&&sprinklrCareChatBotObject.payloadTags.issueType!=undefined&&(i=sprinklrCareChatBotObject.payloadTags.issueType);t="5f7588e775552c26e242c68c_app_565870";n="https://prod-live-chat.sprinklr.com/page?appId="+t+"&scope=CONVERSATION&skipDefaultMessages=true&context__c_5f73381d30d6d9121f5c7725=";sprinklrCareChatBotObject!=null&&sprinklrCareChatBotObject!=undefined&&sprinklrCareChatBotObject.sprinklrURL!=null&&sprinklrCareChatBotObject.sprinklrURL!=undefined&&(n=sprinklrCareChatBotObject.sprinklrURL);r=n+sprinklrCareChatBotObject.payloadTags.orderNumber+"&context__c_5f73387e30d6d9121f5c966c="+sprinklrCareChatBotObject.payloadTags.buid+"&context__c_5f72cc0a6a5ec534c4008e07="+i+"&context__c_5f72cb726a5ec534c4007ac7="+sprinklrCareChatBotObject.payloadTags.lng+"&context_5ea96157fff5ba6f3f51019f="+sprinklrCareChatBotObject.requestId+"&user_firstName="+sprinklrCareChatBotObject.user_firstName+"&user_lastName="+sprinklrCareChatBotObject.user_lastName+"&user_email="+sprinklrCareChatBotObject.user_email+"&user_phoneNo="+sprinklrCareChatBotObject.user_phoneNo+"&disableAttachment=true&context__c_608a9c62fcf3f61c295cc9d7="+window.location.href;n=encodeURI(r);let u=' <div id="sprinklrCareChatDom"  style="display:none;" class="cusPreChat-modalContainer"><div class="cusPreChat-dockableContainer"><div class="cusPreChat-embeddedServiceSidebarHeader" style="height: 100%;"><iframe id = "page" sandbox = "allow-scripts allow-same-origin allow-popups allow-forms allow-downloads allow-top-navigation" src="'+r+'" style="height:100%; width:100%; border-radius: 8px 8px 0 0; border-color: #00447C;" allowfullscreen><\/iframe><\/div ><\/div ><\/div > ',f=document.body||document.getElementsByTagName("body")[0];f.insertAdjacentHTML("beforeend",u);e=0;window.addEventListener("message",sprinklrCareChatBotEventCallBack)}function getCareMessage(n){var i,t,u;console.log("getCareMessage method data is: "+n.type);i=n.type.toLowerCase();try{switch(i){case"close":setDellMetrics("880.130.855","SPRINKLR_CAREBOT: CloseChat|IssueResolved|IssueType:"+orderIntentObj.payloadTags.issueType+"|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+"|UUID:"+orderIntentObj.requestId);closeSprinklrCareChat();break;case"trnsfrtolivechat":sprinklrCareChatBotObject.userAuthToken=n.payload.userAuthToken;sprinklrCareChatBotObject.contextId=n.payload.contextId;t=n.payload.channelCaseNumber!=undefined&&n.payload.channelCaseNumber!=null?n.payload.channelCaseNumber:"";u={caseNumber:n.payload.caseNumber,contextId:n.payload.contextId,sfdcCaseNumber:t,userAuthToken:n.payload.userAuthToken};setDellMetrics("222.890.230.106","SPRINKLR_CAREBOT: closeChat-sfdcCaseNumber "+t+"|transferToLiveAgent|IssueType:"+orderIntentObj.payloadTags.issueType+"|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+"|UUID:"+orderIntentObj.requestId);transferToLiveAgentFromOrderCare(t)}}catch(r){console.log("error in getCareMessage method:"+r);console.error("SPRINKLR_CAREBOT: error in getCareMessage|IssueType:"+orderIntentObj.payloadTags.issueType+"|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+"|UUID:"+orderIntentObj.requestId+"|Exception:"+r)}}function sprinklrCareChatLoaded(){console.log("sprinklrCareChatLoaded");setDellMetrics("880.130.863","SPRINKLR_CAREBOT: Chat Started|IssueType:"+orderIntentObj.payloadTags.issueType+"|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+"|UUID:"+orderIntentObj.requestId);orderIntentObj.text!=undefined&&orderIntentObj.text!=""?document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"openNewConversation",data:{initialMessages:[{isSentByUser:!0,message:orderIntentObj.text}]}}),"*"):document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"openNewConversation",data:{autoInitiateConversation:!0,initialMessages:undefined}}),"*")}function closeSprinklrCareChat(){console.log("closeSprinklrCareChat");var n=document.getElementById("page");n.parentNode.removeChild(n);$("#sprinklrCareChatDom").remove();sprinklrCareChatEnded();window.removeEventListener("message",sprinklrCareChatBotEventCallBack)}function transferToLiveAgentFromOrderCare(n){var i=n,r,f,t,u;if(console.log("transferToLiveAgentFromOrderCare sfdc caseNumber ="+i),r=sessionStorage.getItem("snapInCareObjectSession"),r!=null&&r!=undefined)if(f=JSON.parse(r),checkSnapinCareQueueStatus(f)==1){console.log("Agent is available sfdcCaseNumber ="+i+" calling triggerSnapinPostSprinkler");try{$("#sprinklrCareChatDom").remove();triggerCareSnapinPostSprinkler(i)}catch(e){$("#sprinklrCareChatDom").remove();t="SPRINKLR_CAREBOT:transferfailure|triggerSnapinPostSprinklr|sfdcCaseNumber:"+i+"|IssueType:"+orderIntentObj.payloadTags.issueType+"|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber;setDellMetrics("222.890.230.107",t+"|Error = "+e.message+"|UUID:"+orderIntentObj.requestId);t=t+"|Exception = "+e+"|UUID:"+orderIntentObj.requestId;console.error(t);console.log(t)}}else u="SPRINKLR_CAREBOT:transferfailure|triggerSnapinPostSprinklr|AgentNotAvailable|sfdcCaseNumber:"+i+"|ON:"+orderIntentObj.orderNumber,console.error(u),console.log(u),noCareAgentAvailable(n)}function noCareAgentAvailable(){var n=orderIntentObj.requestId;document.getElementById("page").contentWindow.postMessage(JSON.stringify({action:"sendExternalEvent",data:{type:"MSG_PUBLISH",payload:{contextId:sprinklrCareChatBotObject.contextId,id:n,message:{text:"I am sorry. I am not able to connect you to an Agent right now."}}}}),"*")}function startFaqSprinklrChat(n,t,i,r,u,f,e,o){(typeof t=="undefined"||t==null)&&(t="");(typeof i=="undefined"||i==null)&&(i="");(typeof r=="undefined"||r==null)&&(IssueType="");(typeof u=="undefined"||u==null)&&(u="");(typeof f=="undefined"||f==null)&&(f="");(typeof e=="undefined"||e==null)&&(e="");(typeof o=="undefined"||o==null)&&(o="");snapInObject=create_snapinChatUuid(snapInObject);userAgent=navigator.userAgent;snapInObject.userAgent=userAgent;u.toLowerCase()=="va_sprinklr"?(snapInObject.issueType=r,snapInObject.productCode=i,snapInObject.familyName=f,snapInObject.lob=e,snapInObject.channelLinkCmsKey=u):snapInObject.issueType="NA";snapInObject.issueVal="NA";snapInObject.c_issueDescription=t;snapInObject.FaqAppName=n;snapInObject.isFaqResumeChat=!1;snapInObject.language=getLanguage();snapInObject.IsResumeEmailSent=!1;GetFaqChatDetails(n).done(function(n){n!=null&&n!=undefined&&(SaveCommonDataToSnapin(n),snapInObject.snapinButtonClicked=!0,snapInObject.snapinChatInitiated=!1,snapInObject.sprinklrChatbotRouted=!1,snapInObject.IsODEScanEnabled=n.IsODEScanEnable,u.toLowerCase()!="va_sprinklr"&&(snapInObject.serviceTag=n.ServiceTag),saveGlobalSnapinObjToSession(snapInObject));u.toLowerCase()!="va_sprinklr"?snapInObject.serviceTag!=null&&snapInObject.serviceTag!=""&&snapInObject.serviceTag!=undefined?checkAssetDetails():getServiceTagLoadDSDapiCallBack().done(function(n){snapInObject.serviceTag=n;snapInObject.serviceTag!=null&&snapInObject.serviceTag!=""&&snapInObject.serviceTag!=undefined?checkAssetDetails():saveFaqDatatoSession(snapInObject)}).fail(function(){snapInObject.serviceTag="";saveFaqDatatoSession(snapInObject)}):(o==""?(snapInObject.serviceTag="",sprinklrChatBotObject.hasOwnProperty("payloadTags")&&sprinklrChatBotObject.payloadTags.hasOwnProperty("serviceTag")&&(sprinklrChatBotObject.payloadTags.serviceTag="")):(snapInObject.serviceTag=o,snapInObject.isAgentTransferEnabled=!1,sprinklrChatBotObject.hasOwnProperty("payloadTags")&&sprinklrChatBotObject.payloadTags.hasOwnProperty("serviceTag")&&(sprinklrChatBotObject.payloadTags.serviceTag=o)),saveFaqDatatoSession(snapInObject))})}function saveFaqDatatoSession(n){saveGlobalSnapinObjToSession(n);getSprinklrChatObject();startSprinklr()}function getSprinklrChatObject(){var n={engine:"dellintent",payloadTags:{lng:snapInObject.language,productCode:snapInObject.productCode!=undefined&&snapInObject.productCode!=null?snapInObject.productCode:"",productName:snapInObject.productName!=undefined&&snapInObject.productName!=null?snapInObject.productName:"",issueType:snapInObject.issueType,issueVal:snapInObject.issueVal,serviceTag:snapInObject.serviceTag},requestId:snapInObject.uuid!=null&&snapInObject.uuid!=undefined?snapInObject.uuid:snapInObject.sprinklrRequestId,text:snapInObject.issueDescription!=""&&snapInObject.issueDescription!=undefined?snapInObject.issueDescription:snapInObject.c_issueDescription,user_firstName:snapInObject.firstName,user_lastName:snapInObject.lastName,user_email:snapInObject.email,user_phoneNo:snapInObject.phone,sprinklrURL:snapInObject.sprinklrURL!=null&&snapInObject.sprinklrURL!=undefined?snapInObject.sprinklrURL:null,sprinklrFaqURL:snapInObject.sprinklrFaqURL!=null&&snapInObject.sprinklrFaqURL!=undefined?snapInObject.sprinklrFaqURL:null,sprinklrLoadingMessage:snapInObject.sprinklrLoadingMessage!=null&&snapInObject.sprinklrLoadingMessage!=undefined?snapInObject.sprinklrLoadingMessage:null,userAuthToken:snapInObject.sprinklrUserAuthToken!=null&&snapInObject.sprinklrUserAuthToken!=undefined?snapInObject.sprinklrUserAuthToken:null,sprinklrContextId:snapInObject.sprinklrContextId!=null&&snapInObject.sprinklrContextId!=undefined?snapInObject.sprinklrContextId:null,IsProductScanEnabled:snapInObject.IsProductScanEnabled!=null&&snapInObject.IsProductScanEnabled!=undefined?snapInObject.IsProductScanEnabled:!1,userAgent:snapInObject.userAgent,FaqAppName:snapInObject.FaqAppName};sprinklrChatBotObject=n;sessionStorage.setItem("sprinklrChatBotObject",JSON.stringify(sprinklrChatBotObject))}function checkAssetDetails(){GetFaqAssetDetails(snapInObject).done(function(n){n!=null&&n!=undefined&&(snapInObject.productName=n.productName,snapInObject.productFamily=n.productFamily,snapInObject.productCode=n.productCode,snapInObject.IsProductScanEnabled=n.IsProductScanEnabled,snapInObject.IsScanIcSourceDnd=n.IsScanIcSourceDnd,snapInObject.IsValidTag=n.IsValidTag,saveGlobalSnapinObjToSession(snapInObject),saveFaqDatatoSession(snapInObject),loadEsupportClientApi(snapInObject))})}function checkLiveChatDetails(n){var t=$.Deferred(),i,r;if((snapInObject.serviceTagEncrypted==undefined||snapInObject.serviceTagEncrypted==""||snapInObject.serviceTagEncrypted==null)&&snapInObject.serviceTag!=undefined&&snapInObject.serviceTag!=""&&snapInObject.serviceTag!=null&&GetEncryptedSvcTag("//www.dell.com/support/components/detectproduct/encvalue/__servicetag?appName=guided",snapInObject.serviceTag),i=GetLwpDetails_SEO(),r="",r=i!=undefined&&i!=null?"/support/guidedpath/"+i+"/Chat/GetQueueDetails?serviceTag="+snapInObject.serviceTag:"/support/guidedpath/Chat/GetQueueDetails?serviceTag="+snapInObject.serviceTag,snapInObject.serviceTag!=null&&snapInObject.serviceTag!="")try{$.ajax({url:r,type:"GET",cache:!1,contentType:"application/json; charset=utf-8",success:function(i){i!=null&&i!=undefined&&(snapInObject.buttonId=i.buttonId,snapInObject.hoursOfOperation=i.hoursOfOperation,snapInObject.timeZone=i.timeZone,snapInObject.chatSchedule=i.chatSchedule,snapInObject.chatAvailable=i.chatAvailable,snapInObject.IsChatEligible=i.IsChatEligible,snapInObject.phoneContactDetails=i.phoneContactDetails,snapInObject.productName!=null&&snapInObject.productName!=""&&snapInObject.productName!=undefined&&(snapInObject.productName=i.productName,snapInObject.productFamily=i.productFamily,snapInObject.productCode=i.productCode,snapInObject.IsValidTag=i.IsValidTag),snapInObject.isSystemError=!1,saveGlobalSnapinObjToSession(snapInObject),logCaseNumbers(n,"","chat Api Res: "+i.chatAvailable),t.resolve())},error:function(i){snapInObject.isSystemError=!0;saveGlobalSnapinObjToSession(snapInObject);console.error("Error in GetFaqLiveChatDetails ajax Call > Error: "+i);logCaseNumbers(n,"ErrSfdcCase","syserror: "+snapInObject.isSystemError);t.resolve()}})}catch(u){snapInObject.isSystemError=!0;saveGlobalSnapinObjToSession(snapInObject);console.error("Exception in GetFaqLiveChatDetails > Error: "+u);logCaseNumbers(n,"ErrSfdcCase","syserror: "+snapInObject.isSystemError);t.resolve()}return t.promise()}function getLanguage(){var t="en",n;return Dell&&Dell.OnlineUtils&&Dell.OnlineUtils.Lwp&&(n=Dell.OnlineUtils.Lwp,n!=undefined&&n.country&&n.language&&n.customerset&&(t=n.language)),t}function validateUrlAndCallResChat(){var n=getQueryStringValue("resumeFAQ")==""?getQueryStringValue("resume"):getQueryStringValue("resumeFAQ"),t=getQueryStringValue("sprinklrData");n!=""&&t!=""&&CheckFaqResumeChatDetails(n,t)}function getQueryStringValue(n){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(n).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}function GetFaqCoveoKeys(){var n=$.Deferred(),t=GetLwpDetails_SEO(),i=t!=undefined&&t!=null?"/support/guidedpath/"+t+"/Sprinklr/GetFaqCoveoKeys":"/support/guidedpath/Sprinklr/GetFaqCoveoKeys";try{$.ajax({url:i,data:{},type:"GET",cache:!0,contentType:"application/json; charset=utf-8",success:function(t){t!=null&&t!=undefined&&n.resolve(t)},error:function(t){console.error("Error in GetFaqCoveoKeys ajax Call > Error: "+t);n.resolve()}})}catch(r){console.error("Exception in GetFaqCoveoKeys > Error: "+r);n.resolve()}return n.promise()}function loadEsupportClientApi(n){n.supportAssistConfigUrl!=undefined&&n.supportAssistConfigUrl!=null&&n.dsdApiUrl!=undefined&&n.dsdApiUrl!=null&&loadFile(n.supportAssistConfigUrl,function(){loadFile(n.dsdApiUrl,function(){})})}function getServiceTagLoadDSDapiCallBack(){var n=$.Deferred(),t="",i,r;try{i=window.localStorage.getItem("tagFromSA");r=window.sessionStorage.getItem("tagFromSA");i!=null&&i!=undefined&&i!=""?(t=i,loadEsupportClientApi(snapInObject),n.resolve(t)):r!=null&&r!=undefined&&r!=""?(t=r,loadEsupportClientApi(snapInObject),n.resolve(t)):n.resolve(t)}catch(u){console.error("Method: getServiceTagLoadDSDapiCallBack ; Catch Exception > Error: "+u);n.reject(u)}return n.promise()}function GetFaqChatDetails(n){var t=$.Deferred(),i=GetLwpDetails_SEO(),r="",u;r=i!=undefined&&i!=null?"/support/guidedpath/"+i+"/Sprinklr/FaqChat":"/support/guidedpath/Sprinklr/FaqChat";u={appName:n};try{$.ajax({url:r,data:u,dataType:"json",type:"GET",cache:!1,contentType:"application/json; charset=utf-8",success:function(n){n!=null&&n!=undefined&&t.resolve(n)},error:function(n){console.error("Error in GetFaqChatDetails ajax Call > Error: "+n);t.resolve()}})}catch(f){console.error("Exception in GetFaqChatDetails > Error: "+f);t.resolve()}return t.promise()}function GetFaqAssetDetails(n){var t=$.Deferred(),i=GetLwpDetails_SEO(),r="",u;r=i!=undefined&&i!=null?"/support/guidedpath/"+i+"/Chat/GetAssetInfo":"/support/guidedpath/Chat/GetAssetInfo";u={serviceTag:n.serviceTag,userAgent:n.userAgent};try{$.ajax({url:r,data:u,type:"GET",cache:!1,contentType:"application/json; charset=utf-8",success:function(n){n!=null&&n!=undefined&&t.resolve(n)},error:function(n){console.error("Error in GetFaqAssetDetails ajax Call > Error: "+n);t.resolve()}})}catch(f){console.error("Exception in GetFaqAssetDetails > Error: "+f);t.resolve()}return t.promise()}function GetFaqLiveChatDetails(n){var t=$.Deferred(),i=GetLwpDetails_SEO(),r="",u;if(r=i!=undefined&&i!=null?"/support/guidedpath/"+i+"/Chat/GetQueueDetails?serviceTag="+n.serviceTag:"/support/guidedpath/Chat/GetQueueDetails?serviceTag="+n.serviceTag,n.serviceTag!=null&&n.serviceTag!=""){u={serviceTag:n.serviceTag};try{$.ajax({url:r,type:"GET",cache:!1,contentType:"application/json; charset=utf-8",success:function(n){n!=null&&n!=undefined&&t.resolve(n)},error:function(n){console.error("Error in GetFaqLiveChatDetails ajax Call > Error: "+n);t.resolve()}})}catch(f){console.error("Exception in GetFaqLiveChatDetails > Error: "+f);t.resolve()}}else t.resolve();return t.promise()}function CheckFaqResumeChatDetails(n,t){GetFaqResumeChatDetails(n).done(function(n){n!=null&&n!=undefined&&(n.AppName!=""&&n.AppName!=undefined&&n.AppName!=null?snapInObject.isFaqResumeChat=!0:snapInObject.is24VAResumeChat=!0,snapInObject.serviceTag=n.ServiceTag,snapInObject.userAgent=navigator.userAgent,snapInObject.issueType=n.IssueType,snapInObject.issueVal="NA",snapInObject.FaqAppName=n.AppName,snapInObject.applicationContext=n.ApplicationContext,snapInObject.caseNumber=n.SfdcCaseNumber,snapInObject.buttonId=n.SfdcButtonId,snapInObject.sprinklrUserAuthToken=t,snapInObject.sprinklrContextId=n.SprinklrContextId,snapInObject.sprinklrRequestId=n.SprinklrRequestId,snapInObject.firstName=n.FirstName,snapInObject.lastName=n.LastName,snapInObject.email=n.Email,snapInObject.phone=n.PhoneNumber,snapInObject.issueDescription=n.IssueDescription,n.sprinklrFaqChatConfig!=null&&SaveCommonDataToSnapin(n.sprinklrFaqChatConfig),snapInObject.snapinButtonClicked=!1,snapInObject.language=getLanguage(),saveGlobalSnapinObjToSession(snapInObject),getSprinklrChatObject(),triggerSnapin(snapInObject,null))})}function GetFaqResumeChatDetails(n){var t=$.Deferred(),i=GetLwpDetails_SEO(),r="",u;r=i!=undefined&&i!=null?"/support/guidedpath/"+i+"/Sprinklr/FaqResumeChat":"/support/guidedpath/Sprinklr/FaqResumeChat";u={resumeData:n};try{$.ajax({url:r,data:u,type:"GET",cache:!1,contentType:"application/json; charset=utf-8",success:function(n){n!=null&&n!=undefined&&t.resolve(n)},error:function(n){console.error("Error in GetFaqResumeChatDetails ajax Call > Error: "+n);t.resolve()}})}catch(f){console.error("Exception in GetFaqResumeChatDetails > Error: "+f);t.resolve()}return t.promise()}function SaveCommonDataToSnapin(n){n!=null&&n!=undefined&&(snapInObject.sprinklrURL=n.sprinklrURL,snapInObject.sprinklrFaqURL=n.sprinklrFaqURL,snapInObject.sprinklrLoadingMessage=n.sprinklrLoadingMessage,snapInObject.dsdApiUrl=n.dsdApiUrl,snapInObject.supportAssistConfigUrl=n.supportAssistConfigUrl,snapInObject.isAgentTransferEnabled=n.IsAgentTransferEnabled,snapInObject.isResumeEmailEnabled=n.IsResumeEmailEnabled,snapInObject.deploymentId=n.deploymentId,snapInObject.organizationId=n.organizationId,snapInObject.componentName=n.componentName,snapInObject.serviceForceURL=n.serviceForceURL,snapInObject.snapInJs=n.snapInJs,snapInObject.snapInInitURL=n.snapInInitURL,snapInObject.snapInLAURL=n.snapInLAURL,snapInObject.baseLiveAgentURL=n.baseLiveAgentURL,snapInObject.LiveAgentDevName=n.LiveAgentDevName,snapInObject.baseLiveAgentContentURL=n.baseLiveAgentContentURL,snapInObject.checkBtnAvailabilityUrl=n.checkBtnAvailabilityUrl,snapInObject.checkQueueStatusInBizHoursUrl=n.checkQueueStatusInBizHoursUrl,snapInObject.agentUnAvailableMessage=n.agentUnAvailableMessage,snapInObject.chatNotSupportedMessage=n.chatNotSupportedMessage,snapInObject.agentUnAvailableMessage1=n.agentUnAvailableMessage1,snapInObject.agentUnAvailableMessage2=n.agentUnAvailableMessage2,snapInObject.systemErrorMsg=n.systemErrorMsg,snapInObject.agentBusyMessage=n.agentBusyMessage,snapInObject.supportReqNumberLabel=n.supportReqNumberLabel,snapInObject.chatBusinessHourLabel=n.chatBusinessHourLabel,snapInObject.phoneNumberLabel=n.phoneNumberLabel,snapInObject.isTechChat=!0)}function CheckODEScanEligibility(){var n=$.Deferred(),t=GetLwpDetails_SEO(),i="",r={productCode:snapInObject.productCode,LOB:""};i=t!=undefined&&t!=null?"/support/guidedpath/"+t+"/Sprinklr/ODEScanEligible":"/support/guidedpath/Sprinklr/ODEScanEligible";try{$.ajax({url:i,dataType:"json",type:"GET",cache:!1,data:r,contentType:"application/json; charset=utf-8",success:function(t){t!=null&&t!=undefined&&n.resolve(t)},error:function(t){console.error("Error in CheckODEScanEligibility ajax Call > Error: "+t);n.resolve()}})}catch(u){console.error("Exception in CheckODEScanEligibility > Error: "+u);n.resolve()}return n.promise()}function GetComponentfromIssueType(n){var t,i,r;snapInObject=sendGlobalSnapinObjToJson();t=GetLwpDetails_SEO();i="";snapInObject.InWarranty=snapInObject.InWarranty=="true"?"true":"false";r="?IssueType="+n+"&ServiceTag="+snapInObject.serviceTag+"&InWarranty="+snapInObject.InWarranty;i=t!=undefined&&t!=null?"/support/guidedpath/"+t+"/Sprinklr/GetComponentfromIssueType"+r:"/support/guidedpath/Sprinklr/GetComponentfromIssueType"+r;try{$.ajax({url:i,type:"GET",cache:!1,contentType:"application/json; charset=utf-8",success:function(t){t!=null&&t!=undefined&&t!=""?(snapInObject.ScanComponents=t,saveGlobalSnapinObjToSession(snapInObject),RunODEScan(t.split(",")),LogScanStatus(snapInObject.sprinklrCaseNumber,snapInObject.caseNumber,"IssueType:"+n+"|ComponentFromRE:"+t)):postDiagScanInProgress(0,4)},error:function(n){console.error("Error in GetComponentfromIssueType ajax Call > Error: "+n);postDiagScanInProgress(0,4)}})}catch(u){console.error("Exception in GetComponentfromIssueType > Error: "+u);postDiagScanInProgress(0,3)}}function logCaseNumbers(n="",t="",i=""){var r=GetLwpDetails_SEO(),u=r!=undefined&&r!=null?"/support/guidedpath/"+r+"/Sprinklr/LogCaseNumbers?sprinklrCaseNumber="+n+"&lightningCaseNumber="+t+"&eventName="+i:"/support/guidedpath/Sprinklr/LogCaseNumbers?sprinklrCaseNumber="+n+"&lightningCaseNumber="+t+"&eventName="+i;try{$.ajax({url:u,type:"POST",cache:!1,"async":!0,contentType:"application/json; charset=utf-8",success:function(){},error:function(n,t,i){console.error("Error in logCaseNumbers ajax Call > Error: "+i)}})}catch(f){console.error("Exception in logCaseNumbers > Error: "+f)}}function LogScanStatus(n="",t="",i=""){var r=GetLwpDetails_SEO(),u=r!=undefined&&r!=null?"/support/guidedpath/"+r+"/Sprinklr/LogScanStatus?sprinklrCaseNumber="+n+"&DiagnosticId="+t+"&eventName="+i:"/support/guidedpath/Sprinklr/LogScanStatus?sprinklrCaseNumber="+n+"&DiagnosticId="+t+"&eventName="+i;try{$.ajax({url:u,dataType:"json",type:"POST",cache:!1,"async":!0,contentType:"application/json; charset=utf-8",success:function(){},error:function(n){console.error("Error in logCaseNumbers ajax Call > Error: "+n)}})}catch(f){console.error("Exception in logCaseNumbers > Error: "+f)}}function setScanEngine(n){var t=window.sessionStorage.getItem("scanengine");typeof t=="undefined"||t||typeof n=="undefined"||n.toLowerCase()==="none"||window.sessionStorage.setItem("scanengine",n)}function startAvayaChat(n){$.ajax({url:"https://www.dell.com/support/components/contact/"+Dell.OnlineUtils.Lwp.language+"-"+Dell.OnlineUtils.Lwp.country+"/chat",headers:{"X-Robots-Tag":"noindex","Access-Control-Allow-Origin":"*"},type:"POST",data:{ProductName:n.AssetInfo.ProductDescription,ServiceTag:n.AssetInfo.ServiceTag,IssueType:n.IssueType,IssueDescription:n.IssueDescription,QueueName:n.ChatRouteInfo.QueueName,FamilyName:n.AssetInfo.FamilyName,ProductCode:n.AssetInfo.ProductCode,CategoryPath:n.AssetInfo.CategoryPath,ProductFamilyPath:n.AssetInfo.ProductFamilyPath},xhrFields:{withCredentials:!0},success:function(n){$("body").append(n);$("#chatPanel").show()},beforeSend:function(){$("body").append('<div id="initLoading" style="position: fixed;right: 10px;bottom: 0;color: white;background: #007db8;height: 46px;box-shadow: 0 0 12px 0 rgb(0 0 0 / 50%);line-height: 3;width: 168px;border-radius: 8px 8px 0 0;text-align: center;"><b>Loading..<\/b><\/div>')},complete:function(){$("#initLoading").remove()},error:function(n,t,i){console.log(i)}})}var snapinChatGlobalIssueType,snapinChatGlobalServiceTag,snapinChatGlobalProductName=null,snapInCurrentPage=null,trackevent=!0,coveoHeader="",isCoveoSearchEnabled=!1,closestByTagName,serviceTagInfoDeffer,ChatBotDsdTokenUrl,lastmessage,isMessageFinished,waitCount,waitForMessageToOver,getCommand,Command,waitForElement,sprinklrCareChatBotObject,orderIntentObj,snapInObject,ipsServiceTag,sleepWorker,diagnosticsBaseUrl,valueCheck,RunODEScan;(function(){if(window.addEventListener("dragover",function(n){n=n||event;n.preventDefault()},!1),window.addEventListener("drop",function(n){n=n||event;n.preventDefault()},!1),!document.getElementById("snapinStyle")){var t='.cusPreChat-FormBtns:hover, .cusPreChatFormBtns:hover .cusPreChat-FormBtnchild,.cusPreChatFormBtns:hover .cusPreChat-FormBtnchild path {color: #004071 !important;fill: #004071;}.cusPreChat-FormBtns, .cusPreChatFormBtns .cusPreChat-FormBtnchild, .cusPreChatFormBtns .cusPreChat-FormBtnchild path {color: #006BBD;fill: #006BBD;}.embeddedServiceSidebarHeader,.embeddedServiceSidebarMinimizedDefaultUI{background-color:#00447C!important;border:1px!important}.embeddedServiceSidebarFormField .uiInput .uiLabel-left{padding-top:0!important;margin-top:11px;color:#444!important;font-weight:300!important}.embeddedServiceSidebarForm.formContent{background:#f1f1f1!important}.embeddedServiceHelpButton .helpButton .uiButton{background-color:#005290!important;font-family:"Salesforce Sans",sans-serif}.embeddedServiceHelpButton .helpButton .uiButton:focus{outline:#005290 solid 1px}.embeddedServiceSidebarForm .uiButton,.embeddedServiceSidebarFormField .slds-style-inputtext{border-radius:0!important}.embeddedServiceSidebarFormField .slds-style-inputtext{border-radius:0!important;border:none!important}.embeddedServiceSidebarForm.buttonWrapper{background:linear-gradient(to bottom,rgba(247,247,247,0) 0,rgba(247,247,247,1) calc(100% - 77px),rgba(247,247,247,1) 100%)}.embeddedServiceSidebarButton.uiButton--inverse{background:#f7f7f7!important;border-radius:0!important;border:1px solid #ccc!important}.embeddedServiceSidebarButton.uiButton--inverse:not(:disabled):focus{box-shadow:0 0 3px 0 #ddd!important}.embeddedServiceSidebarDialogState .dialogButton{border-radius:0!important}.embeddedServiceSidebarDialogState .dialogButton:not(:disabled):focus{text-decoration:none!important}.embeddedServiceSidebarFormField .slds-style-inputtext,.embeddedServiceSidebarFormField .slds-style-select{color:#444!important}.embeddedServiceSidebarForm .fieldList{margin:12px 12px 0 0!important}.embeddedServiceLiveAgentStateChatHeaderOption .optionName{color:#fff!important;text-decoration:none!important}.embeddedServiceSidebarHeader .headerText{margin-bottom:0!important}.embeddedServiceSidebarMinimizedDefaultUI .minimizedImage{display:none!important}.embeddedServiceLiveAgentStateChatHeader.reconnecting.alert{background-color:#cb2b19!important;padding-top:46px!important}.embeddedServiceSidebarForm.buttonWrapper{background-color:#f1f1f1!important}.cusPreChat-modalContainer,.cusPreChat-shortHeader{font-weight:400;-webkit-font-smoothing:subpixel-antialiased}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton:focus,.cusPreChat-headerItem:focus,.cusPreChat-headerItem:hover{outline:0}.cusPreChat-modalContainer{box-sizing:border-box;line-height:1.5;color:#212529;display:block;position:fixed;z-index:5001;font-family:"Salesforce Sans",sans-serif;top:0;font-size:16px;pointer-events:all;backface-visibility:hidden;text-align:left}.cusPreChat-modalContainer li,.cusPreChat-modalContainer ul{display:block;list-style:none}.cusPreChat-dockableContainer{width:80%;border-radius:8px 8px 0 0;position:fixed;left:auto;bottom:0;right:0px;margin:0;height:90%;box-shadow:2px 2px 20px rgba(0,0,0,.2);z-index:15;text-align:center;overflow:hidden;max-width:40em;pointer-events:all}.cusPreChat-embeddedServiceSidebarHeader{position:absolute;top:0;width:100%;border-radius:8px 8px 0 0;background-color:#00447C;border:1px;text-align:center;pointer-events:all}.cusPreChat-shortHeader{color:#fff;border-radius:8px 8px 0 0;line-height:3;text-align:center;font-size:.875em;height:44px;clear:both;overflow:hidden;z-index:3;position:relative;transform:translate3d(0,0,0)}.cusPreChat-shortHeaderContent{position:relative;display:flex;height:100%}.cusPreChat-headerItem{color:#fff;font-size:1em;background:0 0;border:none}.cusPreChat-headerItem:focus:before,.cusPreChat-headerItem:hover:before{content:" ";position:absolute;background-color:#fff;opacity:.2;border-radius:4px;box-sizing:border-box;pointer-events:none;top:20%}.cusPreChat-closeButton,.cusPreChat-minimizeButton{transition:color .7s ease;padding:14px;line-height:0}.cusPreChat-minimizeButton:focus:before,.cusPreChat-minimizeButton:hover:before{right:48px;width:30px;height:60%}.cusBotPreChat-minimizeButton:focus:before,.cusBotPreChat-minimizeButton:hover:before{left:6px!important;width:30px;height:60%}.cusPreChat-closeButton:focus:before,.cusPreChat-closeButton:hover:before{right:6px;width:30px;height:60%}.cusPreChat-assistiveText{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px)}.cusPreChat-embeddedServiceIcon{display:flex}.cusPreChat-embeddedServiceIcon svg{display:inline-block;box-sizing:border-box;width:1em;height:1em;fill:#fff}.cusPreChat-headerText{color: #ffffff;margin: 0;align-self: center;flex-grow: 1;text-align: left;vertical-align: middle;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;font-size: inherit;font-weight: 400;letter-spacing: .025em;padding-left: 14px;}.cusPreChat-sidebarBody{position:absolute;width:100%;height:100%;top:44px;z-index:0;background-color:#f1f1f1;transform:translate3d(0,0,0);-webkit-overflow-scrolling:touch}.cusPreChat-sidebarLoadingIndicator{position:relative;height:100%;background-color:#fff}.cusPreChat-activeFeature{width:100%;height: 100%}.cusPreChat-embeddedServiceLiveAgentStatePrechatDefaultUI{overflow:hidden;height:100%;position:absolute}.cusPreChat-formContent{width:100%;height:calc(100% - 97px);overflow-y:auto;position:relative;background-color:#f1f1f1;margin-bottom:81px;border-radius:0 0 8px 8px}.cusPreChat-fieldList{margin:5px 12px 0 0;padding:0}.cusPreChat-embeddedServiceSidebarFormField{display:block;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:40px;list-style:none;padding:0;box-sizing:border-box;margin-left:12px}.cusPreChat-embeddedServiceSidebarFormField.cusPreChat-inputSplitName{width:calc(50% - 12px);display:inline-block;vertical-align:top;margin-left:9px}.cusPreChat-split-field-container{margin-bottom:6px}.cusPreChat-uiInput{text-align:left}.cusPreChat-uiInput .cusPreChat-uiLabel-left{padding:0!important;color:#444!important;font-weight:300!important;position:relative;font-size:.75em;line-height:1.5;margin:11px .75em 2px 1px}.cusPreChat-uiInput .cusPreChat-required{position:absolute;color:#c23934;left:-6px;top:0}.cusPreChat-slds-style-inputtext{display:inline-block;line-height:30px;box-sizing:border-box;box-shadow:none;background-color:#fff;width:100%;height:44px !important;padding:0 12px !important;font-size:.875em;border:none !important;}.cusPreChat-slds-style-inputtext:focus{outline:0;box-shadow:0 0 2px 0 #007db8}.cusPreChat-buttonWrapper{text-align:center;padding:0px 24px 24px;margin:0;width:100%;position:fixed;box-sizing:border-box;bottom:44px; box-shadow: 0px -10px 5px rgba(241, 241, 241,0.7); background: #f1f1f1}.cusPreChat-embeddedServiceSidebarButton{background:#007db8;font-family:"Roboto Regular",sans-serif;border-radius:0!important;position:relative;border:none;text-shadow:none;box-shadow:none;transition:background .4s ease;color:#fff;font-size:1em;font-weight:400;width:100%;margin:0;height:44px;cursor:pointer}.cusPreChat-embeddedServiceSidebarButton:not(:disabled):focus,.cusPreChat-embeddedServiceSidebarButton:not(:disabled):hover{background:#004b6e}.cusPreChat-has-error{margin:0 0 0px;padding:0}.cusPreChat-has-error .cusPreChat-form-element__help{font-size:.75em;color:#c23934}.cusPreChat-embeddedServiceHelpButton{display:block;position:fixed;top:0;left:0;background:0 0;box-shadow:none;overflow:visible;z-index:1000;font-family:sans-serif}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton{position:fixed;bottom:12px;right:12px;height:46px;-webkit-font-smoothing:subpixel-antialiased}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton{box-sizing:border-box;margin:0;padding:0 12px;height:46px;box-shadow:0 0 12px 0 rgba(0,0,0,.5);border-radius:23px;line-height:1;background:#007db8;font-size:.875em;color:#fff;font-weight:400;text-shadow:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-family:"Roboto Regular",sans-serif;width:168px;cursor:pointer;position:relative;border:0}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-helpButtonEnabled:focus::before,.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-helpButtonEnabled:hover::before{content:" ";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:23px;background-color:#000;opacity:.2;pointer-events:none}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton .cusPreChat-label{color:#fff}.cusPreChat-embeddedServiceHelpButton .cusPreChat-uiButton .cusPreChat-helpButtonLabel{position:relative;z-index:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-align-self:stretch;-ms-flex-item-align:stretch;align-self:stretch;max-width:100%;line-height:normal;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media only screen and (min-width:48em){.cusPreChat-embeddedServiceHelpButton{background-color:transparent}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton{position:fixed;bottom:0}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton,.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton:focus::before,.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton:hover::before{border-radius:8px 8px 0 0}}.cusPreChat-sidebarLoadingIndicator{align-self:stretch;max-height:100%;flex-grow:1;display:flex;flex-direction:column;justify-content:center;text-align:center;padding:0 24px}.cusPreChat-loadingBallContainer{display:inline-block}.cusPreChat-loadingBallContainer.cusPreChat-animated .cusPreChat-loadingBall{animation:cusPreChat-ballanimate 2.25s infinite ease-in-out;display:inline-block;width:1em;height:1em;border-radius:2em;font-size:8px;text-align:center;background:#0074bd;margin:3px}.cusPreChat-embeddedServiceLoadingBalls.cusPreChat-animated .cusPreChat-second{animation-name:cusPreChat-ballanimate-2}.cusPreChat-embeddedServiceLoadingBalls.cusPreChat-animated .cusPreChat-third{animation-name:cusPreChat-ballanimate-3}@keyframes cusPreChat-ballanimate{0%,32%{transform:scale(1)}16%{transform:scale(1.5)}}@keyframes cusPreChat-ballanimate-2{32%,64%{transform:scale(1)}48%{transform:scale(1.5)}}@keyframes cusPreChat-ballanimate-3{64%,96%{transform:scale(1)}80%{transform:scale(1.5)}}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {.cusPreChat-buttonWrapper{bottom: 3px;}}body.embeddedServicePreventScrolling {overflow: auto !important;position: inherit !important;}.dockableContainer .endChatContainer .endChatButton.postChatButton{background:#007db8!important;border:none!important}.dockableContainer .endChatContainer .endChatButton.postChatButton span{color:#fff!important}.dockableContainer .endChatContainer .endChatButton.postChatButton:focus,.dockableContainer .endChatContainer .endChatButton.postChatButton:hover{background:#004b6e!important;text-decoration:none}.dockableContainer .endChatContainer .endChatButton.closeChatButton{color:#007db8;background:#f7f7f7!important;border-radius:0!important;border:1px solid #ccc!important}.dockableContainer .endChatContainer .endChatButton.closeChatButton span{color:#007db8}.dockableContainer .endChatContainer .endChatButton.closeChatButton span:hover{color:#007db8;text-decoration:underline} h2[embeddedService-chatHeader_chatHeader]{color: #fff !important;} @media (max-width: 575.98px) {  .cusPreChat-dockableContainer { width: 80%; height: 85%; } } @media (min-width: 576px) and (max-width: 767.98px) {  .cusPreChat-dockableContainer { width: 80%; height: 85%; } } @media (min-width: 768px) and (max-width: 991.98px) {  .cusPreChat-dockableContainer { width: 45%; height: 85%; } } @media (min-width: 992px) and (max-width: 1199.98px) { .cusPreChat-dockableContainer { width: 27%; height: 85%; } } @media (min-width: 1200px) { .cusPreChat-dockableContainer { width: 27%; height: 85%; } }',i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";n.id="snapinStyle";n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t));i.appendChild(n)}if(typeof NodeList.prototype.forEach=="function")return!1;NodeList.prototype.forEach=Array.prototype.forEach})();closestByTagName=function(n,t){var i,r;try{if(i=n,i&&(r=i.tagName,r))while(r.toLowerCase()!=t)if(i=i.parentNode,i&&(r=i.tagName),!r)return n;return i}catch(u){console.log(u)}};typeof triggerSnapin=="function"&&triggerSnapin();var retVal=null,quickTestURL="/support/home/{0}/product-support/servicetag/{1}/diagnose",SrRedirectURL="",DispatchRedirectURL="",sRPageURL="/support/incidents-online/us/en/19/srsearch",driverPageURL="/support/home/{0}/product-support/servicetag/{1}/diagnose/ShowResults/driverscan",manualTroubleshootURL="/support/guidedpath/{0}?issue={1}&os={2}",isBinded=!1,textBoxPlaceHolderWhenDiabled="",textBoxPlaceHolderWhenEnabled="",isAgentEventTriggered=!1,DiagnosticResultPageUrl="",serviceTagInfo={};serviceTagInfo.isDsdInstalled="false";serviceTagInfo.isSystemInfoCompleted="false";serviceTagInfoDeffer={};ChatBotDsdTokenUrl="";lastmessage="";isMessageFinished=!1;waitCount=0;waitForMessageToOver=function(n){isMessageFinished||waitCount==3?n():(waitCount++,setTimeout(function(){waitForMessageToOver(n)},1e3))};String.prototype.contains=function(n,t){return(t?this:this.toUpperCase()).indexOf(t?n:n.toUpperCase())>=0};getCommand=function(n){var t,s,u,h,i,r,e,c,f,o;consoleLog("getCommand method message is: "+n);t=new Command(n);s=n.contains("please standby while I look up details about your system");s&&(n="GetServiceTagDetails_New");u="";h=n.startsWith("You have selected")&&n.contains("I can walk you through a few manual operations that may improve the performance");h&&(u=n,n="update user selected operating system");i=n.startsWith("Thanks for your feedback")&&n.contains("so we are better able to help you in the future.");i&&(n="Enable chat bot input after user selected feedback");i||(i=n.startsWith("Obrigado pelos comentários")&&n.contains("para que possamos ajudá-lo no futuro"),i&&(n="Enable chat bot input after user selected feedback"));r=n.startsWith("I hope I was able to help you");r&&(n="Disable chat bot input after user enter first message");r||(r=n.startsWith("Espero ter podido ajudá-lo"),r&&(n="Disable chat bot input after user enter first message"));try{switch(n){case"GetServiceTagDetails_New":ShowLoader();processChatBotCommand();break;case"Opening QuickTest..\n":case"Opening QuickTest..":t.redirectURL=UpdateQuickTestUrl();RunQuickTestWithNoVideo();t.isNewWindow=!0;t.ignoreThreeDot=!0;break;case"Update my drivers":case"Update my drivers\n":case"Please wait while we are loading driver update page.":case"Please wait while we are loading driver update page.\n":FetchSessionValue("chatBotObjectSession")!=null&&(driverPageURL=FetchSessionValue("chatBotObjectSession").driverPageURL,t.redirectURL=driverPageURL,t.isNewWindow=!0);break;case"Your Service Events are still loading, please standby":case"Your Service Events are still loading, please standby\n":FetchSessionValue("chatBotObjectSession")!=null&&(SrRedirectURL=FetchSessionValue("chatBotObjectSession").eSupportSrRedirectURL,e=FetchSessionValue("chatBotObjectSession").srNumber,e==="1"?callDellmetricsTrackForBot("890.220.809"):e==="2"&&callDellmetricsTrackForBot("890.220.810"),t.redirectURL=SrRedirectURL,t.isNewWindow=!0);break;case"Please wait instruction page is loading.":case"Please wait instruction page is loading.\n":FetchSessionValue("chatBotObjectSession")!=null&&(c=FetchSessionValue("chatBotObjectSession").manualTroubleshootURL,t.redirectURL=c,t.isNewWindow=!0);break;case"When you locate the Service Tag,enter it here":case"When you locate the Service Tag,enter it here\n":EnableChatBotInput();break;case"Your Service Event are still loading, please standby":case"Your Service Event are still loading, please standby\n":FetchSessionValue("chatBotObjectSession")!=null&&(DispatchRedirectURL=FetchSessionValue("chatBotObjectSession").eSupportDispatchRedirectURL,f=FetchSessionValue("chatBotObjectSession").dispatchNumber,f!=""&&f==="1"?callDellmetricsTrackForBot("890.220.837"):f==="2"&&callDellmetricsTrackForBot("890.220.836"),t.redirectURL=DispatchRedirectURL,t.isNewWindow=!0);break;case"Chat with Live Agent":case"Chat with Live Agent\n":case"Transfer to Agent":case"Transfer to Agent\n":break;case"Please wait ODE diagnostic are still loading.":case"Please wait ODE diagnostic are still loading.\n":FetchSessionValue("chatBotObjectSession")!=null&&(sessionStorage.setItem("ode_diagscancommand","GR"),DiagnosticResultPageUrl=FetchSessionValue("chatBotObjectSession").DiagnosticUrl,DiagnosticResultPageUrl?(t.redirectURL=DiagnosticResultPageUrl,t.isNewWindow=!0,t.ignoreThreeDot=!0):consoleLog("Value of DiagnosticResultPageUrl : "+DiagnosticResultPageUrl));break;case"Follow the instructions on the page to try the recommended manual steps to improve the performance of your system":break;case"I'm sorry, I'm not able to connect you to an Agent right now.":case"I'm sorry,I'm not able to connect you to an Agent right now.":t.redirectURL="/support/incidents-online/us/en/19/ContactUs/dynamic";t.isNewWindow=!0;break;case"update user selected operating system":o=u.slice(18,u.indexOf("."));consoleLog(o);switch(o){case"Windows 10":UpdateSystemOS("win10");break;case"Windows 8":UpdateSystemOS("win8");break;default:UpdateSystemOS("other")}break;case"Please provide your Feedback before you leave the chat":case"Please provide your Feedback before you leave the chat\n":case"Enable chat bot input after user selected feedback":EnableChatBotInput();break;case"Disable chat bot input after user enter first message":DisableChatBotInput();break;default:t.redirectURL=null;t.isNewWindow=!1}}catch(l){consoleLog("error in getCommand method:"+l)}return t};Command=function(){try{this.execute=function(){this.redirectURL!=null&&this.isNewWindow==!0&&(this.ignoreThreeDot!=undefined&&this.ignoreThreeDot?sessionStorage.setItem("GR_IsPageRedirected","false"):sessionStorage.setItem("GR_IsPageRedirected","true"),window.location.href=this.redirectURL)};this.redirectURL=null}catch(n){consoleLog("error occured in Command method :"+n)}};waitForElement=function(n,t){jQuery(n).length?t():setTimeout(function(){waitForElement(n,t)},1e3)};String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})});String.prototype.toProperCase=function(){return this.replace(/\w\S*/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})};startCareChatBot;window.onresize=function(){$("div#divLoading").length&&$("div#divLoading")[0].style.display!=="none"&&ShowLoader()};getClientTime=function(){const n=new Date,t=n.getTime()+n.getTimezoneOffset()*60;return Math.round(t/1e3)};window.onload=function(){$("span:contains('Leave Chat')").on("click",function(){CloseAndClearChatBot()});$("span:contains('Leave')").on("click",function(){CloseAndClearChatBot()})};sessionStorage.getItem("isChatBotActive")!=null&&sessionStorage.getItem("isChatBotActive")=="true"&&(consoleLog("initiateChatBot"),initiateChatBot()),function(){if(window.addEventListener("dragover",function(n){n=n||event;n.preventDefault()},!1),window.addEventListener("drop",function(n){n=n||event;n.preventDefault()},!1),!document.getElementById("snapinStyle")){var t='.embeddedServiceSidebarHeader,.embeddedServiceSidebarMinimizedDefaultUI{background-color:#00447C!important;border:1px!important}.embeddedServiceSidebarFormField .uiInput .uiLabel-left{padding-top:0!important;margin-top:11px;color:#444!important;font-weight:300!important}.embeddedServiceSidebarForm.formContent{background:#f1f1f1!important}.embeddedServiceHelpButton .helpButton .uiButton{background-color:#005290!important;font-family:"Salesforce Sans",sans-serif}.embeddedServiceHelpButton .helpButton .uiButton:focus{outline:#005290 solid 1px}.embeddedServiceSidebarForm .uiButton,.embeddedServiceSidebarFormField .slds-style-inputtext{border-radius:0!important}.embeddedServiceSidebarFormField .slds-style-inputtext{border-radius:0!important;border:none!important}.embeddedServiceSidebarForm.buttonWrapper{background:linear-gradient(to bottom,rgba(247,247,247,0) 0,rgba(247,247,247,1) calc(100% - 77px),rgba(247,247,247,1) 100%)}.embeddedServiceSidebarButton.uiButton--inverse{background:#f7f7f7!important;border-radius:0!important;border:1px solid #ccc!important}.embeddedServiceSidebarButton.uiButton--inverse:not(:disabled):focus{box-shadow:0 0 3px 0 #ddd!important}.embeddedServiceSidebarDialogState .dialogButton{border-radius:0!important}.embeddedServiceSidebarDialogState .dialogButton:not(:disabled):focus{text-decoration:none!important}.embeddedServiceSidebarFormField .slds-style-inputtext,.embeddedServiceSidebarFormField .slds-style-select{color:#444!important}.embeddedServiceSidebarForm .fieldList{margin:12px 12px 0 0!important}.embeddedServiceLiveAgentStateChatHeaderOption .optionName{color:#fff!important;text-decoration:none!important}.embeddedServiceSidebarHeader .headerText{margin-bottom:0!important}.embeddedServiceSidebarMinimizedDefaultUI .minimizedImage{display:none!important}.embeddedServiceLiveAgentStateChatHeader.reconnecting.alert{background-color:#cb2b19!important;padding-top:46px!important}.embeddedServiceSidebarForm.buttonWrapper{background-color:#f1f1f1!important}.cusPreChat-modalContainer,.cusPreChat-shortHeader{font-weight:400;-webkit-font-smoothing:subpixel-antialiased}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton:focus,.cusPreChat-headerItem:focus,.cusPreChat-headerItem:hover{outline:0}.cusPreChat-modalContainer{box-sizing:border-box;line-height:1.5;color:#212529;display:block;position:fixed;z-index:1001;font-family:"Salesforce Sans",sans-serif;top:0;font-size:16px;pointer-events:all;backface-visibility:hidden;text-align:left}.cusPreChat-modalContainer li,.cusPreChat-modalContainer ul{display:block;list-style:none}.cusPreChat-dockableContainer{width:320px;max-height:720px;border-radius:8px 8px 0 0;position:fixed;left:auto;bottom:0;right:20px;margin:0;height:90%;box-shadow:2px 2px 20px rgba(0,0,0,.2);z-index:15;text-align:center;overflow:hidden;max-width:40em;pointer-events:all}.cusPreChat-embeddedServiceSidebarHeader{position:absolute;top:0;width:100%;border-radius:8px 8px 0 0;background-color:#00447C;border:1px;text-align:center;pointer-events:all}.cusPreChat-shortHeader{color:#fff;border-radius:8px 8px 0 0;line-height:3;text-align:center;font-size:.875em;height:44px;clear:both;overflow:hidden;z-index:3;position:relative;transform:translate3d(0,0,0)}.cusPreChat-shortHeaderContent{position:relative;display:flex;height:100%}.cusPreChat-headerItem{color:#fff;font-size:1em;background:0 0;border:none}.cusPreChat-headerItem:focus:before,.cusPreChat-headerItem:hover:before{content:" ";position:absolute;background-color:#fff;opacity:.2;border-radius:4px;box-sizing:border-box;pointer-events:none;top:20%}.cusPreChat-closeButton,.cusPreChat-minimizeButton{transition:color .7s ease;padding:14px;line-height:0}.cusPreChat-minimizeButton:focus:before,.cusPreChat-minimizeButton:hover:before{right:48px;width:30px;height:60%}.cusPreChat-closeButton:focus:before,.cusPreChat-closeButton:hover:before{right:6px;width:30px;height:60%}.cusPreChat-assistiveText{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px)}.cusPreChat-embeddedServiceIcon{display:flex}.cusPreChat-embeddedServiceIcon svg{display:inline-block;box-sizing:border-box;width:1em;height:1em;fill:#fff}.cusPreChat-headerText{color: #ffffff;margin: 0;align-self: center;flex-grow: 1;text-align: left;vertical-align: middle;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;font-size: inherit;font-weight: 400;letter-spacing: .025em;padding-left: 14px;}.cusPreChat-sidebarBody{position:absolute;width:100%;height:100%;top:44px;z-index:0;background-color:#f1f1f1;transform:translate3d(0,0,0);-webkit-overflow-scrolling:touch}.cusPreChat-sidebarLoadingIndicator{position:relative;height:100%;background-color:#fff}.cusPreChat-activeFeature{width:100%;height: 100%}.cusPreChat-embeddedServiceLiveAgentStatePrechatDefaultUI{overflow:hidden;height:100%;position:absolute}.cusPreChat-formContent{width:320px;height:calc(100% - 98px);overflow-y:auto;position:relative;background-color:#f1f1f1;margin-bottom:81px;border-radius:0 0 8px 8px}.cusPreChat-fieldList{margin:5px 12px 0 0;padding:0}.cusPreChat-embeddedServiceSidebarFormField{display:block;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:40px;list-style:none;padding:0;box-sizing:border-box;margin-left:12px}.cusPreChat-embeddedServiceSidebarFormField.cusPreChat-inputSplitName{width:calc(50% - 12px);display:inline-block;vertical-align:top;margin-left:9px}.cusPreChat-split-field-container{margin-bottom:6px}.cusPreChat-uiInput{text-align:left}.cusPreChat-uiInput .cusPreChat-uiLabel-left{padding:0!important;color:#444!important;font-weight:300!important;position:relative;font-size:.75em;line-height:1.5;margin:11px .75em 2px 1px}.cusPreChat-uiInput .cusPreChat-required{position:absolute;color:#c23934;left:-6px;top:0}.cusPreChat-slds-style-inputtext{display:inline-block;line-height:30px;box-sizing:border-box;box-shadow:none;background-color:#fff;width:100%;height:44px !important;padding:0 12px !important;font-size:.875em;border:none !important;}.cusPreChat-slds-style-inputtext:focus{outline:0;box-shadow:0 0 2px 0 #007db8}.cusPreChat-buttonWrapper{text-align:center;padding:0px 24px 24px;margin:0;width:320px;position:fixed;box-sizing:border-box;bottom:44px; box-shadow: 0px -10px 5px rgba(241, 241, 241,0.7); background: #f1f1f1}.cusPreChat-embeddedServiceSidebarButton{background:#007db8;font-family:"Roboto Regular",sans-serif;border-radius:0!important;position:relative;border:none;text-shadow:none;box-shadow:none;transition:background .4s ease;color:#fff;font-size:1em;font-weight:400;width:100%;margin:0;height:44px;cursor:pointer}.cusPreChat-embeddedServiceSidebarButton:not(:disabled):focus,.cusPreChat-embeddedServiceSidebarButton:not(:disabled):hover{background:#004b6e}.cusPreChat-has-error{margin:0 0 0px;padding:0}.cusPreChat-has-error .cusPreChat-form-element__help{font-size:.75em;color:#c23934}.cusPreChat-embeddedServiceHelpButton{display:block;position:fixed;top:0;left:0;background:0 0;box-shadow:none;overflow:visible;z-index:1000;font-family:sans-serif}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton{position:fixed;bottom:12px;right:12px;height:46px;-webkit-font-smoothing:subpixel-antialiased}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton{box-sizing:border-box;margin:0;padding:0 12px;height:46px;box-shadow:0 0 12px 0 rgba(0,0,0,.5);border-radius:23px;line-height:1;background:#007db8;font-size:.875em;color:#fff;font-weight:400;text-shadow:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-family:"Roboto Regular",sans-serif;width:168px;cursor:pointer;position:relative;border:0}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-helpButtonEnabled:focus::before,.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-helpButtonEnabled:hover::before{content:" ";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:23px;background-color:#000;opacity:.2;pointer-events:none}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton .cusPreChat-label{color:#fff}.cusPreChat-embeddedServiceHelpButton .cusPreChat-uiButton .cusPreChat-helpButtonLabel{position:relative;z-index:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-align-self:stretch;-ms-flex-item-align:stretch;align-self:stretch;max-width:100%;line-height:normal;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media only screen and (min-width:48em){.cusPreChat-embeddedServiceHelpButton{background-color:transparent}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton{position:fixed;bottom:0}.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton,.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton:focus::before,.cusPreChat-embeddedServiceHelpButton .cusPreChat-helpButton .cusPreChat-uiButton:hover::before{border-radius:8px 8px 0 0}}.cusPreChat-sidebarLoadingIndicator{align-self:stretch;max-height:100%;flex-grow:1;display:flex;flex-direction:column;justify-content:center;text-align:center;padding:0 24px}.cusPreChat-loadingBallContainer{display:inline-block}.cusPreChat-loadingBallContainer.cusPreChat-animated .cusPreChat-loadingBall{animation:cusPreChat-ballanimate 2.25s infinite ease-in-out;display:inline-block;width:1em;height:1em;border-radius:2em;font-size:8px;text-align:center;background:#0074bd;margin:3px}.cusPreChat-embeddedServiceLoadingBalls.cusPreChat-animated .cusPreChat-second{animation-name:cusPreChat-ballanimate-2}.cusPreChat-embeddedServiceLoadingBalls.cusPreChat-animated .cusPreChat-third{animation-name:cusPreChat-ballanimate-3}@keyframes cusPreChat-ballanimate{0%,32%{transform:scale(1)}16%{transform:scale(1.5)}}@keyframes cusPreChat-ballanimate-2{32%,64%{transform:scale(1)}48%{transform:scale(1.5)}}@keyframes cusPreChat-ballanimate-3{64%,96%{transform:scale(1)}80%{transform:scale(1.5)}}@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {.cusPreChat-buttonWrapper{bottom: 3px;}}body.embeddedServicePreventScrolling {overflow: auto !important;position: inherit !important;}',i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";n.id="snapinStyle";n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t));i.appendChild(n)}if(typeof NodeList.prototype.forEach=="function")return!1;NodeList.prototype.forEach=Array.prototype.forEach}();var sprinklrChatBotObject={},sprinklrMsgObject={},res={},driverURL="/support/home/{0}/product-support/servicetag/{1}/drivers",userAgent="",driverScanResult={},downloadedFlag=0,installedFlag=0,downloadingUnits=0,totalDownloadUnits=0,downloadSprinklrStatus=1,installSprinklrStatus=1,stCtr=0,isLatestSA=0;const callabacks={externalEventTriggered:function(n){(n!=null||n!=undefined)&&(sprinklrMsgObject=n,getMessage(n))},loaded:function(){if($("#sprinklrIssueSpin").remove(),$("#sprinklrChatDom").css({display:"block"}),loadSprinklrObjectFromSession(),sprinklrChatBotObject.userAuthToken!=undefined&&sprinklrChatBotObject.userAuthToken!=null&&sprinklrChatBotObject.sprinklrContextId!=undefined&&sprinklrChatBotObject.sprinklrContextId!=null&&snapInObject.isFaqResumeChat!=!0&&snapInObject.is24VAResumeChat!=!0){console.log("driver flow");try{var t,n=0,i=$("#divScan").length,r=$("#dndbtn-download-Install").length;i==0&&r==0?t=setInterval(function(){i=$("#divScan").length;r=$("#dndbtn-download-Install").length;n=n+1;console.log("Checking if scan result is displayed "+n);i>0&&r>0&&(clearInterval(t),isDriversLoaded());n>=15&&clearInterval(t)},1e3):isDriversLoaded()}catch(u){console.error(u)}}else snapInObject.FaqAppName!=null&&snapInObject.FaqAppName!=undefined&&snapInObject.FaqAppName!=""?sprinklrFaqLoaded():sprinklrLoaded()},closed:function(){loadSprinklrObjectFromSession();setDellMetrics("222.890.230.103","SPRINKLR: closeChat|"+sprinklrChatBotObject.payloadTags.issueType+"|UUID:"+sprinklrChatBotObject.requestId);setTimeout(closeSprinklrChat,1e3)},eventTriggered:function(n){n.eventType=="CONVERSATION_CLOSED"&&setDellMetrics("222.890.230.103","SPRINKLR: confirmendchat|"+sprinklrChatBotObject.payloadTags.issueType+"|UUID:"+sprinklrChatBotObject.requestId)}};window.onbeforeunload=function(n){typeof n=="undefined"&&(n=window.event);n&&sprinklrChatBotObject!=null&&sprinklrChatBotObject!=undefined&&sprinklrChatBotObject.payloadTags!=null&&sprinklrChatBotObject.payloadTags!=undefined&&sprinklrChatBotObject.payloadTags.ISGProductSelected!=null&&sprinklrChatBotObject.payloadTags.ISGProductSelected!=undefined&&sprinklrChatBotObject.payloadTags.ISGProductSelected&&setDellMetrics("222.890.230.103","SPRINKLRISG: isgclose")};sprinklrCareChatBotObject={};orderIntentObj={};const carecallbacks={externalEventTriggered:function(n){(n!=null||n!=undefined)&&(sprinklrMsgObject=n,getCareMessage(n))},loaded:function(){$("#sprinklrOrderCare").remove();$("#sprinklrCareChatDom").css({display:"block"});sprinklrCareChatLoaded()},closed:function(){setDellMetrics("880.130.860","SPRINKLR_CAREBOT: closeChat|"+orderIntentObj.payloadTags.issueType+"|BUID:"+orderIntentObj.payloadTags.buid+"|ON:"+orderIntentObj.payloadTags.orderNumber+"|UUID:"+orderIntentObj.requestId);closeSprinklrCareChat()}};snapInObject={};ipsServiceTag="";$(document).ready(function(){$("#ContactVA").click(function(){return startFaqSprinklrChat("contact"),!1});var n,t;window.location.href.indexOf("support/search")>-1&&GetFaqCoveoKeys().done(function(i){n=i;t=n.split("|")}).fail(function(){n="sprinklr_audio issue|sprinklr_performance issue|sprinklr_battery issue|sprinklr_fan issue|sprinklr_microphone issue|sprinklr_display issue|sprinklr_ms office activation issue";t=n.split("|")});$(document).delegate(".CoveoResultLink","click",function(n){if($(this).attr("isClicked"))return n.preventDefault(),!1;var r=$(this),i=$(this).attr("id");i!=null&&t.includes(i.toLowerCase())&&($(this).attr("isClicked",!0),document.getElementById("sprinklrChatDom")!==null&&closeSprinklrChat(),startFaqSprinklrChat("search",i.replace(/sprinklr_/g,"")),setTimeout(function(){r.removeAttr("isClicked")},2e3))});setTimeout(function(){validateUrlAndCallResChat()},1e3)});var odeDsdHelperVA=function(n){var t={},r="",i;return t.IsSupportAssistEnabled=!1,t.AppName="",t.scanType="",t.scanItems="",t.hardware="",t.software="",t.UserSelectedCMSKey="",t.language="",t.appCrashNeeded="",t.appCrashNames="",t.diagnosticId="",t.softwareIssues="",t.PCDAPPUpdaterCodeArray="",t.expires="",t.isAliveToken="",t.SupportBaseUrlWithLWP="",t.SaveXml=function(u,f,e,o,s){var l,h;u=u.replace(new RegExp("[\x00-\x1f]","g"),"");var v=window.sessionStorage.getItem("odeScanId"),a="",c=window.sessionStorage.getItem("scanengine");c&&typeof c!="undefined"&&(a=c);f&&(f=f.replace(new RegExp(">[\\s\\n]+<","g"),"><").replace(new RegExp("[\x00-\x1f]","g"),""));i=t.scanType.toUpperCase()=="SOFTWARE"?t.software:"";l={diagResults:u,systemInfo:f,scanCategory:i,scanType:t.scanType,userSelection:t.UserSelectedCMSKey,diagId:t.diagnosticId,alertsAndNotifications:e,appCrashNames:t.appCrashNames,applicationName:t.AppName,scanEngine:a};console.log("request data for saveXML:"+l);h={success:!0,errorInfo:null};n.ajax({url:t.SupportBaseUrlWithLWP+"/DiagnosticRun/DiagResponse",data:JSON.stringify(l),dataType:"json",type:"POST","async":!0,contentType:"application/json; charset=utf-8",success:function(n){n.DiagnosticId!=null||n.DiagnosticId!=""?(snapInObject.DiagnosticId=n.DiagnosticId,saveGlobalSnapinObjToSession(snapInObject),postDiagScanCompletionToSprinklr()):postDiagScanInProgress(0,4)},error:function(n,t,i){postDiagScanInProgress(0,4);typeof o!="undefined"&&o!==""&&o===!0?(h.success=!1,h.errorInfo={jqXHR:n,message:t,error:i},s(h)):DiagnosticErrorMsgJS(r)}})},t}(jQuery),ScanProgressVA=ScanProgressVA||{},ScanData={SelectedScanItems:"QuickTestNoVideo",ScanType:"QuickTest",ServiceTag:"",RenderViewSourcePage:"False",DiagnosticId:"",SoftwareIssues:"",IsScanIcSourceDnd:"False",ProgressText:"Loading, Please wait.",SACommercialScanDisabled:"",SACommercialSecureClientScanDisabled:"",DomainName:"dl.dell.com",EnableDriversScan:"False",EulaApiUrl:"https://www.dell.com/support/components/eula/en-in/eula/api"};ScanProgressVA.ProgressString="";ScanProgressVA.caseIdentified=null;ScanProgressVA.DiagJobId=null;ScanProgressVA.EncryptedServiceTag=null;ScanProgressVA.esc=null;ScanProgressVA.clientInfoTokenValid=!0;window.GlobalODEPolling=null;var GlobalDriversPolling=null,timeoutCounter=0,currentStageCounter=0;ScanProgressVA.applicationId="";ScanProgressVA.saveXmlError="";ScanProgressVA.currentInstallIteration=0;ScanProgressVA.PollingLogged=!1;ScanProgressVA.globalStage=null;ScanProgressVA.ScanInProgress=null;ScanProgressVA.IsCancelInitiated=!1;ScanProgressVA.odePercentageArray=[];sleepWorker=undefined;diagnosticsBaseUrl="https://www.dell.com/support/diagnose/en-in/ips";ScanProgressVA.DiagnosticRunStatus=function(n,t){ScanProgressVA.ScanInProgress="ode";GlobalODEPolling&&(clearTimeout(GlobalODEPolling),GlobalODEPolling=null);console.log("Request Sent: ",new Date);n.getDiagnosticsStatus(function(t){if(console.log("Response Received: ",new Date),timeoutCounter=0,ScanProgressVA.PollingLogged||(ScanProgressVA.OnDiagLog(t,"RunStatus_Success_Polling",!0),ScanProgressVA.PollingLogged=!0),typeof t.data!="undefined"&&valueCheck(t.data)&&typeof t.data.JobId!="undefined"&&valueCheck(t.data.JobId))if(typeof t.data.CurrentStage!="undefined"&&valueCheck(t.data.CurrentStage)){currentStageCounter=0;valueCheck(t.ScanEngine)&&t.ScanEngine!==null&&setScanEngine(t.ScanEngine);var i=t.data.Progress.CurrentValue;console.log("Current scan status: "+i+" and current stage: "+t.data.CurrentStage);t.data.CurrentStage.toLowerCase()!="enumeration"&&postDiagScanInProgress(i,1);switch(t.data.CurrentStage.toLowerCase()){case"downloading":ScanProgressVA.globalStage=t.data.CurrentStage;ScanProgressVA.OnDownloadSAProgress(n,currentProgress);break;case"installing":ScanProgressVA.globalStage=t.data.CurrentStage;ScanProgressVA.currentInstallIteration<19&&ScanProgressVA.currentInstallIteration++;break;case"enumeration":ScanProgressVA.globalStage=t.data.CurrentStage;break;case"diagnostic":if(t.data.Progress.CurrentValue==100){ScanProgressVA.IsCancelInitiated=!0;GlobalODEPolling&&(clearTimeout(GlobalODEPolling),GlobalODEPolling=null);ScanProgressVA.ScanInProgress=null;ScanProgressVA.OnDiagLog(t,"Diagnostics_Cancel_Success",!0);ScanProgressVA.OnScanComplete(n,t,!0);return}ScanProgressVA.globalStage=t.data.CurrentStage;break;case"result":ScanProgressVA.globalStage=t.data.CurrentStage;ScanProgressVA.OnScanComplete(n,t)}t.data.CurrentStage.toLowerCase()!=="result"&&ScanProgressVA.sleepThenCall(function(i){console.log("New Request Sent: ",new Date,i);i?ScanProgressVA.DiagnosticRunStatus(n,t.data.JobId):GlobalODEPolling=setTimeout(function(){ScanProgressVA.DiagnosticRunStatus(n,t.data.JobId)},2e3)})}else console.log("CurrentStage Null"),currentStageCounter<5?(currentStageCounter+=1,GlobalODEPolling&&(clearTimeout(GlobalODEPolling),GlobalODEPolling=null),ScanProgressVA.sleepThenCall(function(i){i?ScanProgressVA.DiagnosticRunStatus(n,t.data.JobId):GlobalODEPolling=setTimeout(function(){ScanProgressVA.DiagnosticRunStatus(n,t.data.JobId)},2e3)})):console.log("Recieved CurrentStage Null 5 times! Scan Stopped.");else console.log("Data/jobId Null of undefined"),postDiagScanInProgress(0,4)},function(t){console.log("ODE_getDriverScanStatus failure at: ",new Date);postDiagScanInProgress(0,4);typeof t!="undefined"&&typeof t.type!="undefined"&&t.type==="timeout"&&timeoutCounter<5?(timeoutCounter+=1,ScanProgressVA.OnDiagLog(ScanProgressVA.DiagJobId,"DiagnosticsRun_Timeout"),typeof ScanProgressVA.DiagJobId!="undefined"&&valueCheck(ScanProgressVA.DiagJobId)&&(GlobalODEPolling&&(clearTimeout(GlobalODEPolling),GlobalODEPolling=null),ScanProgressVA.sleepThenCall(function(t){t?ScanProgressVA.DiagnosticRunStatus(n,ScanProgressVA.DiagJobId):GlobalODEPolling=setTimeout(function(){ScanProgressVA.DiagnosticRunStatus(n,ScanProgressVA.DiagJobId)},2e3)}))):postDiagScanInProgress(0,4)},t)};ScanProgressVA.sleepThenCall=function(n){typeof Worker!="undefined"?(sleepWorker=new Worker(ScanProgressVA.ODE_SleepWorkerLoc),sleepWorker.onmessage=function(){ScanProgressVA.stopSleep();n(!0)},sleepWorker.onerror=function(){ScanProgressVA.stopSleep();n(!1)}):n(!1)};ScanProgressVA.stopSleep=function(){typeof sleepWorker!="undefined"&&sleepWorker!=undefined&&sleepWorker.terminate();sleepWorker=undefined};ScanProgressVA.SetErrorMessage=function(n,t,i){typeof i!="undefined"&&valueCheck(i)&&$("#odeScanErrMsg").text(i)};ScanProgressVA.OnScanComplete=function(n,t,i){ScanProgressVA.OnDiagLog(ScanProgressVA.DiagJobId,"Preparing_test_result");ScanProgressVA.SaveResponse(t,function(t){typeof i!="undefined"&&i?t.success?ScanProgressVA.RedirectToResult():(console.error("Error in Save XML",t),ScanProgressVA.OnDiagLog(ScanProgressVA.DiagJobId,"SaveXML_Error")):t.success?ScanProgressVA.OnDriversUpdatesProgress(n):(console.error("Error in Save XML",t),ScanProgressVA.OnDiagLog(ScanProgressVA.DiagJobId,"SaveXML_Error"))})};ScanProgressVA.SaveResponse=function(n,t){var i=null,r=null,u=typeof n!="undefined"&&n!==""?n.data.CurrentStage.toLowerCase():null;if(typeof n!="undefined"&&n!==""&&n!==null&&typeof n.data!="undefined"&&n.data!==""&&n.data!==null){if(valueCheck(n.data.Tests)&&n.data.Tests!==null){var f=n.data.Tests.replace("{","").replace("}",""),e=$.parseXML(f),o=$(e);i=o.find("diagXml").text()}if(valueCheck(n.data.Devices)&&n.data.Devices!==null){var f=n.data.Devices.replace("{","").replace("}",""),e=$.parseXML(f),o=$(e);r=o.find("sysInfoXml").text()}valueCheck(n.ScanEngine)&&n.ScanEngine!==null&&setScanEngine(n.ScanEngine)}i!=null&&r!==null&&u!==null&&(u==="diagnostic"||u==="result")?odeDsdHelperVA.SaveXml(i,r,null,!0,function(i){ScanProgressVA.OnDiagLog(ScanProgressVA.DiagJobId,"Prepared_test_result");ScanProgressVA.OnDiagLog(n,"SaveXML_Triggered",!0);ScanProgressVA.sleepThenCall(function(n){n?t(i):setTimeout(function(){t(i)},1e3)})}):(console.log("SaveXml --- else"),ScanProgressVA.OnDiagLog(ScanProgressVA.DiagJobId,"XML_Null"))};ScanProgressVA.OnPreparingYourTestsComplete=function(){$("#preparingRunProgress").addClass("d-none");$("#preparingTestCompleteCard").removeClass("d-none");(ScanProgressVA.caseIdentified=="Case 3"||ScanProgressVA.caseIdentified=="Case 4")&&($("#downloadingCompleteCard").removeClass("d-none"),$("#installCompleteCard").removeClass("d-none"))};ScanProgressVA.OnDiagLog=function(n,t,i,r){var e,b,f,s,h;try{var u=ScanProgressVA.diagScanFailureLogUrl,e="",f="",o="";if(typeof n=="undefined"&&(i=undefined,n=ScanProgressVA.DiagJobId,t="SA_Did_Not_Respond"),typeof i!="undefined")if(typeof n!="undefined"&&n!==null&&(f=n.serviceTag!==undefined?n.serviceTag:"",o=n.Type!==undefined?n.Type:"",n.data!==undefined&&n.data!==null&&(e=n.data.JobId!==undefined?n.data.JobId:"")),i)u+="?JobId="+e+"&sTag="+f+"&saType="+o+"&method="+t;else{var c="",l="",a="",v="";if(typeof n!="undefined"&&n!==null&&n.Exception!==undefined&&n.Exception!==null&&(l=n.Exception.Code!==undefined?n.Exception.Code:"",a=n.Exception.Message!==undefined?n.Exception.Message:"",c=n.Exception.Type!==undefined?n.Exception.Type:"",v=n.Exception.Recovery!==undefined?n.Exception.Recovery:""),u+="?JobId="+e+"&sTag="+f+"&saType="+o+"&method="+t+"&errorCode="+l+"&errorMessage="+a+"&errorType="+c+"&recovery="+v,r!==undefined&&r){var y="",p="",w="";typeof n!="undefined"&&n!==null&&n.data!==undefined&&n.data!==null&&(y=n.data.CurrentStage!==undefined?n.data.CurrentStage:"",p=n.data.CurrentTask!==undefined?n.data.CurrentTask:"",typeof n.data.Progress!="undefined"&&n.data.Progress!==null&&(w=n.data.Progress.CurrentValue!==undefined?n.data.Progress.CurrentValue:""));u+="&currentStage="+y+"&currentTask="+p+"&currentProg="+w}}else e="",b=Date.now(),typeof n!="undefined"&&valueCheck(n)&&(e=n),f=window.sessionStorage.getItem("tagFromSA"),u+=t==="DiagnosticsRun_Timeout"?"?Type=Timeout":t==="SA_Did_Not_Respond"?"?Type=NoResponseFromSA":"?Type=CardTimeStamp",typeof f!="undefined"&&f&&(u+="&sTag="+f),u+="&JobId="+e+"&methodName="+t+"&TimeStamp="+b;s=window.sessionStorage.getItem("scanengine");s&&(u+="&se="+s);h=window.sessionStorage.getItem("clientVersion");h&&(u+="&sv="+h);$.ajax({type:"GET",url:u,cache:!1,headers:{"X-Requested-With":"XMLHttpRequest"},success:function(n){var r=typeof i!="undefined"&&i||typeof i=="undefined"?"Progress":"error";console.log(" Scan "+r+" posted "+n+"fully from method "+t)},error:function(n){var t=i?"Progress":"error";console.error("Error in posting diag "+t+" Log"+n)}})}catch(k){console.error("Error in posting diag error"+k)}};ScanProgressVA.BuildScanData=function(){odeDsdHelperVA.scanItems=ScanProgressVA.Devices;odeDsdHelperVA.SupportBaseUrlWithLWP=diagnosticsBaseUrl;odeDsdHelperVA.AppName=ScanProgressVA.applicationId===undefined==!0||ScanProgressVA.applicationId===""?"ODE":ScanProgressVA.applicationId;var n={ScanType:ScanProgressVA.ScanType,SelectedScanItems:ScanProgressVA.Devices,DiagnosticId:ScanProgressVA.DiagnosticId,SoftwareIssues:ScanProgressVA.SoftwareIssues,IsSupportAssistEnabled:!0};$.ajax({url:diagnosticsBaseUrl+"/diagTab/ScanProgress",headers:{Accept:"application/json","Content-Type":"application/json"},dataType:"json",type:"POST",data:JSON.stringify(n),success:function(n){odeDsdHelperVA.serviceTagCookie=n.ServiceTagCookie;n.ScanParamsData!==null&&(odeDsdHelperVA.scanType=n.ScanParamsData.ScanType,odeDsdHelperVA.hardware=n.ScanParamsData.ScanDeviceNames,odeDsdHelperVA.software=n.ScanParamsData.ScanSoftwareNames,odeDsdHelperVA.UserSelectedCMSKey=n.ScanParamsData.UserSelectedCMSKey,odeDsdHelperVA.appCrashNames=n.ScanParamsData.AppCrashNames,n.ScanParamsData.DiagnosticId!=null&&(odeDsdHelperVA.diagnosticId=n.ScanParamsData.DiagnosticId),n.ScanParamsData.SoftwareIssues!=null&&(odeDsdHelperVA.softwareIssues=n.ScanParamsData.SoftwareIssues),ScanProgressVA.saveXmlError=n.SaveXMLErrorMsg)},error:function(n){console.error(n);postDiagScanInProgress(0,4)}})};valueCheck=function(n){return typeof n!="undefined"&&n!==null&&n!==""};RunODEScan=function(n){ScanProgressVA.StepRunning="Running";ScanProgressVA.StepComplete="Complete";ScanProgressVA.DomainName="dl.dell.com";ScanProgressVA.ScanProgressVATimeInterval="11000,6000,3000";ScanProgressVA.scanFailureLogUrl="https://www.dell.com/support/onlineapi/scan-download-log/log.html";ScanProgressVA.diagScanFailureLogUrl="https://www.dell.com/support/onlineapi/scan-download-log/diags-scan-flow.html";ScanProgressVA.ScanType="DYNAMIC";ScanProgressVA.DiagnosticId="";ScanProgressVA.Locale="en-in";ScanProgressVA.ODE_SleepWorkerLoc="https://www.dell.com/support/diagnose/bundle/v4/js/sleepworker.min.js";ScanProgressVA.ODE_StagePollTime="Downloading|5000,Installing|5000,Enumeration|5000,Diagnostic|5000,Drivers|5000";ScanProgressVA.DiagUrl="https://www.dell.com/support/home/en-in/product-support/servicetag/0/diagnose";ScanProgressVA.diagnosticsBaseUrl="https://www.dell.com/support/diagnose/en-in/ips";ScanProgressVA.BuildScanData();loadSprinklrObjectFromSession();snapInObject.DiagDevices=n;saveGlobalSnapinObjToSession(snapInObject);getDSDforOde(function(t){t.findService(function(){getDSDforOde(function(t){t.runDiagnostics(function(n){console.log("SA inside ",new Date);n!=null&&n!=undefined&&(console.log("SA log RunDiag respnse received at: ",new Date),typeof n.Data!="undefined"&&console.log(response.Data));postDiagScanInProgress(0,1);LogScanStatus(snapInObject.sprinklrCaseNumber,"runDiagnostics:ScanInitiated","ScanStatus:1");typeof n.data.JobId!="undefined"&&valueCheck(n.data.JobId)&&(ScanProgressVA.DiagJobId=n.data.JobId);ScanProgressVA.sleepThenCall(function(i){i?ScanProgressVA.DiagnosticRunStatus(t,n.data.JobId):GlobalODEPolling=setTimeout(function(){ScanProgressVA.DiagnosticRunStatus(t,n.data.JobId)},2e3)})},function(n){postDiagScanInProgress(0,4);console.log("SA log RunDiag respnse received with Error at: ",new Date);console.log(n)},"StaticComponent",null,n,ScanProgressVA.Locale)}),function(n){postDiagScanInProgress(0,4);console.error("Error in Findservice ; Method:requestDeviceDriversScan_sprinklr > Error: "+n);serviceTagInfo.isSystemInfoCompleted="true";deferred.resolve()}})})};