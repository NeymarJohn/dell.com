function getproductsubtype(n){var t="";switch(n){case 0:t="none";break;case 1:t="svctag";break;case 2:t="Express service code";break;case 3:t="PSNT";break;case 4:t="serial";break;case 5:t="service request"}return t}function submitEntrySelection(){var n=$("#inpEntrySelection").val().trim(),t,e,o,i,s,r,u,f;if(n!==""){if($("#txtSearchEs").hide(),$("#txtEsSpin").show(),$("#divEntryError").hide(),t=undefined,typeof Storage!="undefined"&&$.localStorage!=undefined&&(t=$.localStorage.getJSONExpiry("products_autosearch_v3")),e=Dell.OnlineUtils.Lwp.language+"-"+Dell.OnlineUtils.Lwp.country,t!==undefined&&t.value!==undefined&&t.value.length>0){for(o="",i=0,s=t.value.length;i<s;i++)t.value[i][e]!==undefined&&(o=t.value[i][e]);if(r=$.map(o,function(t){var i=!0;if(t.PN!==undefined&&((appName==="home"||appName==="products"||appName==="research")&&(i=t.EMC===0||t.EMC===1&&t.PP===1),i&&(n.toLowerCase().trim()===t.PN.toLowerCase().trim()||n.toLowerCase().trim()===t.PC.toLowerCase().trim())))return{label:t.PN,value:t.PC,data:t}}),r&&r.length>0)return u=window.dellTargetUrl.replace("[productcode]",r[0].value),u=u.replace("/[appname]",""),appName!==undefined&&appName!==null&&(u+=appName==="drivers"?"/drivers":appName==="manuals"?"/manuals":"/overview"),window.location.href=u,EntrySelectionCallBack(r),!1}f={Selection:n,appName:appName,Ach:window.assetSearch,Sch:window.srSearch,Kch:window.keyWordSearch,SAch:window.solutionSearch};f.Ach||f.Sch||!f.Kch||(window.location.href=window.searchPageUrl+encodeURIComponent(n));$.ajax({type:"POST",url:window.entryValidateUrl,contentType:"application/json",data:JSON.stringify(f),cache:!1,success:function(t){if(t!==null&&t.LookupResults!==null){if(t.LookupResults.length>1)return typeof Storage!="undefined"&&(sessionStorage.setItem("multiplematch_response",JSON.stringify(t.LookupResults)),sessionStorage.IsEntityValidationPerformed=!0),$("#divEntryError").hide(),window.location.href=window.searchPageUrl+encodeURIComponent(n),!1;if(t.LookupResults.length===1){if(t.LookupResults[0].EsubType!==7&&t.LookupResults[0].IsISGAsset===!1,t.LookupResults[0].EsubType===7||t.LookupResults[0].IsISGAsset===!0,t.IsAu)return $("#divEntryError").show(),$("#spanEntryError").html(window.unAuthMsg),$("#txtEsSpin").hide(),$("#txtSearchEs").show(),!1;t.LookupResults[0].TargetUrl==null?window.location.href=window.searchPageUrl+encodeURIComponent(n):(window.location.href=t.LookupResults[0].TargetUrl,EntrySelectionCallBack(t))}else{if(t.DisplayMsg)return $("#divEntryError").show(),$("#spanEntryError").html(window.valMsg),$("#txtEsSpin").hide(),$("#txtSearchEs").show(),!1;window.location.href=window.searchPageUrl+encodeURIComponent(n)}}else{if(t!==null&&t.LookupResults===null&&t.DisplayMsg)return $("#divEntryError").show(),$("#spanEntryError").html(window.valMsg),$("#txtEsSpin").hide(),$("#txtSearchEs").show(),!1;window.location.href=window.searchPageUrl+encodeURIComponent(n)}return!1},failure:function(n){console.error("Home App :-",n)}})}}function EntrySelectionCallBack(n){if(typeof SearchSupportCallBack!="undefined"&&typeof window[SearchSupportCallBack]!="undefined"){var i=window[SearchSupportCallBack],t=i.call(this,n);if(t!==undefined&&t===!1)return event.preventDefault(),!1}}function SearchAutoSuggestHome(){var n,i,r,t,u;if(typeof Storage!="undefined"){if($.localStorage!=undefined&&(n=$.localStorage.getJSONExpiry("products_autosearch_v3")),i=Dell.OnlineUtils.Lwp.language+"-"+Dell.OnlineUtils.Lwp.country,r=!1,n!==undefined&&n.value!==undefined&&n.value.length>0)for(t=0,u=n.value.length;t<u;t++)n.value[t][i]!==undefined&&(r=!0);r||$.ajax({type:"GET",url:window.productAutoSuggestUrl,contentType:"application/json","async":!0,cache:!1,success:function(n){var t={};t[i]=n;$.ProductAutoSearch!=undefined&&$.ProductAutoSearch.addOrAppendProducts(t)},failure:function(n){console.error("Home App :-",n)}})}}function research_autosuggestcallback(n){window.location.href=window.searchPageUrl+encodeURIComponent(n.item.label)+"&f:iuxType=[Knowledgebase]"}function loadSearch(){(function(){var n=setInterval(function(){typeof jQuery!="undefined"&&(clearInterval(n),initSearch())},500)})()}function initSearch(){configureLocalStorage();SearchAutoSuggestHome();$("#btn-entry-select").removeAttr("disabled")}function configureLocalStorage(){$.extend({localStorage:{insertJSON:function(n,t){$.localStorage.setItem(n,JSON.stringify(t))},getJSON:function(n){var t=$.localStorage.getItem(n);if(t)try{t=JSON.parse(t)}catch(i){$.localStorage.removeItem(n);t=[]}else t=[];return t},insertJSONExpiry:function(n,t,i){var r=i*36e5,u={value:t,timestamp:(new Date).getTime()+r};$.localStorage.setItem(n,JSON.stringify(u))},getJSONExpiry:function(n){var t=JSON.parse(localStorage.getItem(n));return t?(new Date).getTime()<t.timestamp?t:(localStorage.removeItem(n),[]):[]},setItem:function(n,t){try{localStorage.setItem(n,t)}catch(i){console.error("insertion of localstorage failed",t)}},getItem:function(n){return localStorage.getItem(n)},removeItem:function(n){localStorage.removeItem(n)},clear:function(){localStorage.clear()}},ProductAutoSearch:{Config:{maxStorageLength:2,maxDisplayLength:10},addOrAppendProducts:function(n){var t=$.localStorage.getJSONExpiry("products_autosearch_v3").value||[];t.splice(0,0,n);t=t.length>$.ProductAutoSearch.Config.maxStorageLength?t.slice(0,$.ProductAutoSearch.Config.maxStorageLength):t;$.localStorage.insertJSONExpiry("products_autosearch_v3",t,24)}}})}location.search.match(/IsUnAuthorized=/gi)!==null||location.search.match(/na=y/gi)!==null?($("#divEntryError").show(),$("#spanEntryError").html(unAuthMsg)):(location.search.match(/IsInvalidSelection=/gi)!==null||location.search.match(/na=y/gi)!==null)&&($("#divEntryError").show(),$("#spanEntryError").html(valMsg));document.addEventListener("keypress",function(n){var t,r,i,u;if(n.target.id=="inpEntrySelection"&&typeof Storage!="undefined"&&($.localStorage!=undefined&&(t=$.localStorage.getJSONExpiry("products_autosearch_v3")),r=Dell.OnlineUtils.Lwp.language+"-"+Dell.OnlineUtils.Lwp.country,t!==undefined&&t.value!==undefined&&t.value.length>0))for(i=0,u=t.value.length;i<u;i++)t.value[i][r]!==undefined&&(InitAutoSuggestSearch($('input[name="entry-main-input-home"]'),t.value[i][r],window.dellTargetUrl,window.appName,window.serviceTagSuccessProp20,window.autoSearchSelectCallbackFn),$("#inpEntrySelection").unbind("keypress"))});document.addEventListener("click",function(n){return n.target.id=="divEntryClsError"?($("#divEntryError").hide(),!1):$("#"+n.target.id).hasClass("catgDeskContent")||$("#"+n.target.id).hasClass("catgPhoneContent")?(window.location=$("#"+n.target.id).find("a").attr("href"),!1):void 0});window.addEventListener?window.addEventListener("load",loadSearch()):window.attachEvent("onload",loadSearch());RegExp.escape=function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};var InitAutoSuggestSearch=function(n,t,i,r,u,f){var e=$(n).autocomplete({minLength:3,source:function(i,u){var f=$.map(t,function(t){var i=!0;if(t.PN!==undefined&&((r==="home"||r==="products"||r==="research")&&(i=t.EMC===0||t.EMC===1&&t.PP===1),i&&new RegExp(RegExp.escape($(n).val().toLowerCase())).test(t.PN.toLowerCase())))return{label:t.PN,value:t.PC,data:t}});try{f!=null&&f.length>0&&(f=f.sort(function(n,t){var i=n.label.toLowerCase(),r=t.label.toLowerCase();return i<r?-1:i>r?1:0}))}catch(e){}u(f)},focus:function(n,t){this.value=t.item.label;n.preventDefault()},open:function(){$("ul.ui-menu").width($(this).innerWidth())},select:function(n,t){var s,o,e;if($("#txtSearchEs").hide(),$("#txtEsSpin").show(),f!=null&&f!==""){if(typeof window[f]!="undefined"&&(s=window[f],o=s.call(this,t),o!=undefined&&o===!1))return n.preventDefault(),!1}else $(this).autocomplete("close"),e=i.replace("[productcode]",t.item.value),dellmetricsTrack_prop20_format(u,"searchmodel:"+t.item.label),e=e.replace("/[appname]",""),r!==undefined&&r!==null&&(e+=r==="drivers"?"/drivers":r==="manuals"?"/manuals":"/overview"),SecureRedirectUrl(e);return!1}}).focus(function(){$(this).autocomplete("search")}),o=e.data("ui-autocomplete")||e.data("autocomplete");o&&(o._renderItem=function(n,t){var i=String(t.label).replace(new RegExp(RegExp.escape(this.term),"gi"),"<span class='ui-state-highlight-blue'>$&<\/span>");return $("<li><\/li>").data("item.autocomplete",t).append("<a>"+i+"<\/a>").appendTo(n)})};
//# sourceMappingURL=searchSupport.min.js.map